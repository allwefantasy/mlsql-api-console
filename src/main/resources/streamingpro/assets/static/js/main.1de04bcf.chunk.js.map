{"version":3,"sources":["serviceWorker.js","service/HTTPMethod.js","service/MLSQLAPI.js","service/BackendConfig.js","user/MLSQLAuth.js","common/tool.js","components/et/ETLoadParams.js","components/et/ETPopLoad.js","components/et/ETPopAlgorithm.js","components/et/ETPopSave.js","components/et/ETBaseTool.js","components/et/ETPopTool.js","components/et/ETPopDownload.js","components/et/ETPopScriptUDF.js","components/et/ETExample.js","components/et/ETRegister.js","components/et/ETStringIndex.js","components/et/ETDownloadFile.js","components/et/ETPop.js","components/et/MLSQLETQuick.js","components/et/ButtonToCommand.js","components/MLSQLAceEditor.js","service/MLSQLTreeBuilder.js","components/MLSQLTreeNode.js","components/MLSQLQueryDisplay.js","components/upload/UploadDropZone.js","components/query/MLSQLDash.js","components/MLSQLQueryApp.js","common/ViewConst.js","components/cluster/BackendForm.js","components/cluster/SetBackendTagsView.js","components/cluster/MainPage.js","components/cluster/ClusterApp.js","components/demo/BigDL.js","components/demo/NLP.js","components/demo/Demos.js","components/demo/MainPage.js","components/MLSQLDemoApp.js","user/MLSQLRegisterOrLogin.js","App.js","index.js"],"names":["Boolean","window","location","hostname","match","Method","GET","POST","PUT","Status","Success","BadRequest","Unauthorized","Forbidden","ServerError","AccessToken","name","uuidv4","require","content","Object","classCallCheck","this","value","APIResponse","status","accessToken","_this","json","process","jsonErr","then","s","jsonObj","JSON","parse","e","MLSQLAPI","url","createClass","key","params","successCallback","serverErrorCallback","request","HTTP","ok","wow","fail","str","toString","sql","auth","Auth","jobName","self","user","jsonRes","userName","backendTags","finalParams","owner","sessionPerUser","show_stack","tags","assign","background","async","callback","method","body","toUpperCase","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","newurl","undefined","join","fetch","timeout","headers","Content-Type","Accept","Access-Token","sessionStorage","getItem","res","text","get","catch","USER_TAGS_UPDATE","USERS_URL","CREATE_SCRIPT_FILE","REMOVE_SCRIPT_FILE","GET_SCRIPT_FILE","RUN_SCRIPT","CLUSTER_MANAGER","FILE_UPLOAD","MLSQLAuth","apiResponse","removeItem","error","m","console","log","request2","password","_sCallBack","_errorCallBack","registerOrLogin","setItem","Cookies","set","path","serverError","assert","condition","message","Error","InputGroup","Input","Group","ETLoadParams","_React$Component","props","possibleConstructorReturn","getPrototypeOf","call","etPopLoad","parent","state","inherits","react","compact","dataForRender","React","Option","Select","ETPopLoad","sourceType","evt","data","sourceTypeV","assertThisInitialized","runScript","concat","forEach","item","row","col","input","style","marginBottom","param","onChange","type","addonBefore","placeholder","description","loadParamsRef","current","setState","pathV","target","tableName","tableNameV","makeMLSQL","etpop","datasourcesRender","ETPopLoad_InputGroup","es_select","showSearch","width","optionFilterProp","filterOption","option","children","toLowerCase","indexOf","label","ETLoadParams_ETLoadParams","ref","TextArea","ETPopAlgorithm","renderParam","rows","getAttribute","paramsArray","k","v","replace","length","_this2","temp","ETPopAlgorithm_InputGroup","size","ETPopSave","saveMode","saveModeV","partitionBy","partitionByV","fileNum","fileNumV","partitionByStr","fileNumStr","ETPopSave_Option","ETPopSave_InputGroup","ETBaseTool","ETBaseTool_TextArea","outputTableName","outputTableNameV","showTableName","tableHidden","ETBaseTool_InputGroup","tableAlias","showOutputTableName","outputTableHidden","outputTableAlias","pathNameForRender","pathAlias","showPathName","pathHidden","rv","whereStr","asStr","ETPopTool","_ETBaseTool","prototype","ETPopDownload","_ETPopTool","_getPrototypeOf2","_len","arguments","args","Array","_key","apply","ETPopDownload_InputGroup","ETPopScriptUDF","udfName","udfNameV","dataType","dataTypeV","udfType","udfTypeV","code","newValue","codeV","langSelect","lang","codeCheckRef","checked","codeLang","setCodeExample","codeRef","editor","setValue","codeExample","showDataType","ETPopScriptUDF_TextArea","showCode","lib_default","a","mode","theme","height","fontSize","showPrintMargin","showGutter","highlightActiveLine","editorProps","$blockScrolling","Infinity","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","span","switch_default","ETPopScriptUDF_Option","ETExample","etName","ETExample_Option","ETRegister","ETRegister_Option","ETStringIndex","sqlTrain","sqlBatchPredict","functionNameV","stripMargin","functionName","ETStringIndex_InputGroup","ETDownloadFile","link","document","createElement","href","appendChild","click","removeChild","ETPop","disableEtModalVisible","et","etPop","etModalVisible","enableEtModalVisible","popChild","renderContent","eventName","ETPopLoad_ETPopLoad","ETPopSave_ETPopSave","ETPopDownload_ETPopDownload","ETStringIndex_ETStringIndex","ETDownloadFile_ETDownloadFile","ETExample_ETExample","ETPopScriptUDF_ETPopScriptUDF","ETRegister_ETRegister","processType","ETPopTool_ETPopTool","ETPopAlgorithm_ETPopAlgorithm","title","Modal_default","visible","onCancel","onOk","okText","cancelText","Panel","Collapse","MLSQLETQuick","Tabs","TabPane","onDragStart","dataTransfer","setData","queryApp","appendToEditor","renderPop","ETPop_ETPop","popName","collapse","margin","padding","header","gutter","card","tag_default","tyle","help","draggable","color","processtype","pathalias","tablehidden","pathhidden","outputtablehidden","outputtablealias","tablealias","ButtonToCommand","makeSQL","MLSQLAceEditor","scriptId","aceEditorRef","executeSave","api","BackendConfig","messageBox","getMessageBoxAceEditor","id","getAceEditor","getValue","executeQuery","enterLoading","select","getSelection","finalSQL","getAllText","startTime","Date","getTime","measureTime","exitLoading","getDisplay","update","stringify","failRes","selectionRange","getSelectionRange","session","getTextRange","p","getCursorPosition","insert","focus","getDashBoard","dash","display","commandGroup","loading","resourceProgressRef","enter","taskProgressRef","exit","etOver","getData","etRef","className","MLSQLETQuick_MLSQLETQuick","onDragOver","preventDefault","onDrop","MLSQLAceEditor_CommandGroup","MLSQLAceEditor_ResourceProgress","MLSQLAceEditor_TaskProgress","CommandGroup","es_button","onClick","ResourceProgress","_this3","mark","setTimeout","intervalTimer","setInterval","hasOwnProperty","jsonArray","percent","activeTasks","totalCores","successPercent","currentJobGroupActiveTasks","clearInterval","progress","TaskProgress","_this4","_jsonObj","numTasks","numActiveTasks","numCompletedTasks","MLSQLTreeNodeBuilder","build","list","node","i","tempMap","roots","childNodes","parentId","ScriptNodeTree","reloadData","backendConfig","rawData","treeRes","MLSQLTreeBuilder","sort","b","nodes","notok","isRootNode","nodeId","onNodeContextMenu","_nodePath","ContextMenu","show","MLSQLTreeNode_ScriptNodeTreeMenu","left","clientX","top","clientY","isContextMenuOpen","handNodeDoubleClick","isDir","isExpanded","toggleIsExpanded","scriptFile","handleNodeClick","nodeData","originallySelected","isSelected","shiftKey","forEachNode","n","handleNodeCollapse","handleNodeExpand","openCreateScriptDialog","tree","contents","onNodeClick","onNodeCollapse","onNodeExpand","onNodeDoubleClick","MLSQLTreeNode_CreateScriptDialog","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","err","return","CreateScriptDialog","fileName","finish","create","endsWith","msg","close","directoryTree","classes","classNames","Classes","CARD","ELEVATION_4","overlay","isOpen","usePortal","html","formGroup","helperText","labelFor","labelInfo","inputGroup","buttons","intent","Intent","DANGER","float","ScriptNodeTreeMenu","removeFile","isCreateProject","createDocMenuItem","menuItem","icon","bind","createFolderTitle","deleteMenu","menu","ReactMarkdown","MLSQLQueryDisplay","setRender","keyColumn","config","render","isPrototypeOf","substring","keys","basket","dataIndex","index","new_item","columns","rowDoubleClick","event","view","enabled","disablePreview","table","onRow","onDoubleClick","dataSource","OkText","source","baseStyle","borderWidth","borderColor","borderStyle","borderRadius","activeStyle","backgroundColor","rejectStyle","fileListStyle","UploadDropzone","files","req","post","file","attach","end","map","f","react_default","es","getDataTransferItems","fromEvent","_ref","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","styles","acceptedFiles","rejectedFiles","objectSpread","Component","MLSQLDash","_Component","isStream","renderDash","Charts","titleMap","dataForRender2","titleMap2","renderStream","jsonItem","x","moment","utc","timestamp","toDate","y1","inputRowsPerSecond","y2","processedRowsPerSecond","numInputRows","renderRawData","queryResData","MLSQLDash_Panel","tabs","defaultActiveKey","MLSQLDash_TabPane","tab","UploadDropZone_UploadDropzone","MLSQLQueryApp","refresh","sqlContent","createRef","MLSQLTreeNode_ScriptNodeTree","src_components_MLSQLAceEditor","MLSQLDash_MLSQLDash","MLSQLQueryDisplay_MLSQLQueryDisplay","VIEW_CLUSTER","VIEW_CONSOLE","VIEW_DEMO","CLUSTER_VIEW_BackendForm","CLUSTER_VIEW_BackendList","CLUSTER_VIEW_SetBackendTags","DEMO_VIEW_BIGDL","DEMO_VIEW_NLP","BackendForm","_submit","_this$state","tag","action","clusterMainPage","switchToBackendList","submit","validateForm","_this$state2","includes","Set","has","setName","setTag","setUrl","SetBackendTagsView","renderTags","split","SetBackendTagsView_Option","failStr","renderUsers","updateTag","setUser","updateUser","setDefaultBackend","users","mainPage","tagSelectRef","userSelectRef","Header","Layout","Content","Footer","Sider","MainPage","Menu","SubMenu","deleteBackend","loadBackends","activeTag","disabled","tableDisplayRef","operator","switchToBackendForm","currentView","switchToSetBackendTags","renderView","BackendForm_BackendForm","backendFormRef","SetBackendTagsView_SetBackendTagsView","setBackendTagsViewRef","renderViewIndex","onCollapse","collapsed","layout","minHeight","collapsible","es_menu","defaultSelectedKeys","Item","breadcrumb","textAlign","ClusterApp","MainPage_MainPage","Step","Steps","BigDL","getEditor","techData","generateTechData","commandData","generateCommandData","steps","generateSteps","step","marginTop","footer","bordered","renderItem","generateView","_this5","success","marginLeft","prev","BigDL_ReactMarkdown","NLP","_BigDL","NLP_ReactMarkdown","Demos","BigDL_BigDL","NLP_NLP","switchToBigDL","demosRef","switchToNLP","MainPage_Sider","MainPage_Header","MainPage_Content","Demos_Demos","MainPage_Footer","MLSQLDemoApp","demo_MainPage_MainPage","LOGIN","REGISTER","WelcomeMessage","getLoginOrRegisterManager","app","registerOrLoginRef","logout","updateLoginoutStatus","login","loginType","register","isLogin","LoginButton","LogoutButton","RegisterButton","MLSQLRegisterOrLogin","_React$Component2","registerSuccess","registerOrLoginSuccess","registerFail","FormValidate","validate","src_components_MLSQLQueryApp","ClusterApp_ClusterApp","MLSQLDemoApp_MLSQLDemoApp","validateUserName","validatePassword","isEmail","test","normal","inject","openNotificationWithIcon","notification","App","menuRef","switchToCluster","switchToConsole","switchToDemo","switchToCnDoc","open","navbar","align","Alignment","LEFT","Heading","Divider","RIGHT","MLSQLRegisterOrLogin_WelcomeMessage","MLSQLRegisterOrLogin_MLSQLRegisterOrLogin","bottom","ReactDOM","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1de04bcf.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const Method = {\n    GET: \"get\",\n    POST: \"post\",\n    PUT: \"put\"\n}\n\nexport const Status = {\n    Success: 200,\n    BadRequest: 400,\n    Unauthorized: 401,\n    Forbidden: 404,\n    ServerError: 500\n}\n\nexport const AccessToken = {\n    name: \"access-token\"\n}\n","import * as HTTP from \"../service/HTTPMethod\";\nimport {MLSQLAuth as Auth} from \"../user/MLSQLAuth\";\n\nconst uuidv4 = require('uuid/v4');\n\nexport class ServerError {\n    constructor(content) {\n        this.value = content\n    }\n}\n\nexport class APIResponse {\n    /**\n     * @param {Number} status\n     * @param {Promise<String>} content\n     * @param {String} accessToken\n     */\n    constructor(status, content, accessToken) {\n        this.status = status;\n        this.content = content;\n        this.accessToken = accessToken\n    }\n\n    json = (process, jsonErr) => {\n\n        this.content.then((s) => {\n            try {\n                const jsonObj = JSON.parse(s)\n                process(jsonObj)\n            } catch (e) {\n                jsonErr(s)\n            }\n\n        })\n    }\n\n}\n\nexport class MLSQLAPI {\n\n    constructor(url) {\n        this.url = url;\n    }\n\n\n    request2(params, successCallback, serverErrorCallback) {\n        const self = this\n        self.request(HTTP.Method.POST, params, (ok) => {\n            ok.json((wow) => {\n                successCallback(wow)\n            }, (jsonErr) => {\n                serverErrorCallback(jsonErr)\n            })\n        }, (fail) => {\n            try {\n                fail.value().content((str) => {\n                    serverErrorCallback(str)\n                })\n            } catch (e) {\n                serverErrorCallback(fail ? fail.toString() : \"result is null\")\n            }\n\n        })\n    }\n\n    runScript(params, sql, successCallback, serverErrorCallback) {\n        const auth = new Auth()\n        const jobName = uuidv4()\n        const self = this\n        auth.user((jsonRes) => {\n            const {userName, backendTags} = jsonRes\n\n            if (!backendTags) {\n                serverErrorCallback(`\n                \n                ---------------Warning--------------------\n                \n                Please make sure you have backend configured. \n                If not, please contact admin;\n                \n                ------------------------------------------\n                `)\n                return\n            }\n\n            const finalParams = {\n                sql: sql,\n                owner: userName,\n                jobName: jobName,\n                sessionPerUser: true,\n                show_stack: true,\n                tags: backendTags || \"\"\n            }\n            Object.assign(finalParams, params)\n            const background = params.background || false\n            if (background) {\n                Object.assign(finalParams, {async: true, callback: \"\"})\n            }\n\n            self.request(HTTP.Method.POST, finalParams, (ok) => {\n                if (ok.status === 200) {\n                    ok.json((wow) => {\n                        successCallback(wow)\n                    }, (jsonErr) => {\n                        serverErrorCallback(jsonErr)\n                    })\n                } else {\n                    try {\n                        ok.content.then((str) => {\n                            serverErrorCallback(str)\n                        })\n                    } catch (e) {\n                        serverErrorCallback(\"backend status:\" + ok.status)\n                    }\n                }\n\n            }, (fail) => {\n                try {\n                    fail.value().content((str) => {\n                        serverErrorCallback(str)\n                    })\n                } catch (e) {\n                    serverErrorCallback(fail ? fail.toString() : \"result is null\")\n                }\n\n            })\n        })\n    }\n\n    request(method, body, successCallback, serverErrorCallback) {\n        method = method.toUpperCase();\n\n        let formBody = [];\n        for (let property in body) {\n            let encodedKey = encodeURIComponent(property);\n            let encodedValue = encodeURIComponent(body[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n\n        let newurl = this.url\n\n        if (method === \"GET\") {\n            newurl = newurl + \"?\" + formBody\n            formBody = undefined\n        } else {\n            formBody = formBody.join(\"&\")\n        }\n        return fetch(newurl, {\n            method: method,\n            timeout: 1000 * 60 * 60 * 24,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accept': 'application/json',\n                'Access-Token': sessionStorage.getItem(HTTP.AccessToken.name) || ''\n            },\n            body: formBody\n        })\n            .then((res) => {\n                successCallback(new APIResponse(res.status, res.text(), res.headers.get(HTTP.AccessToken.name)))\n            })\n            .catch((res) => {\n                serverErrorCallback(new ServerError(res))\n            })\n    }\n}","export const BACKEND_SERVER = \"\";\nexport const REGISTER_URL = BACKEND_SERVER + \"/api_v1/user/register\";\nexport const USERNAME_URL = BACKEND_SERVER + \"/api_v1/user/userName\";\nexport const USER_TAGS_UPDATE = BACKEND_SERVER + \"/api_v1/user/tags/update\";\nexport const USERS_URL = BACKEND_SERVER + \"/api_v1/users\"\nexport const LOGIN_URL = BACKEND_SERVER + \"/api_v1/user/login\";\nexport const CREATE_SCRIPT_FILE = BACKEND_SERVER + \"/api_v1/script_file\";\nexport const REMOVE_SCRIPT_FILE = BACKEND_SERVER + \"/api_v1/script_file/remove\";\nexport const GET_SCRIPT_FILE = BACKEND_SERVER + \"/api_v1/script_file/get\";\nexport const RUN_SCRIPT = BACKEND_SERVER + \"/api_v1/run/script\";\nexport const CLUSTER_MANAGER = BACKEND_SERVER + \"/api_v1/cluster\";\nexport const FILE_UPLOAD = BACKEND_SERVER + \"/api_v1/file/upload\";\nexport const FILE_DOWNLOAD = BACKEND_SERVER + \"/api_v1/file/download\";\n\n","import React from \"react\";\nimport {MLSQLAPI, APIResponse, ServerError} from \"../service/MLSQLAPI\";\nimport * as backendConfig from \"../service/BackendConfig\";\nimport * as HTTP from \"../service/HTTPMethod\";\nimport Cookies from 'universal-cookie';\n\n\nexport class MLSQLAuth {\n\n    isLogin() {\n        return sessionStorage.getItem(HTTP.AccessToken.name) !== null\n    }\n\n    /**\n     *\n     * @param callback {(userName)=>{}}\n     */\n    userName(callback) {\n\n        const api = new MLSQLAPI(backendConfig.USERNAME_URL)\n\n        /**\n         * @param  {APIResponse} apiResponse\n         */\n        const sCallBack = (apiResponse) => {\n            /**\n             *  if server return unauthorized status, then we should\n             *  remove our token since it maybe invalidate.\n             */\n            if (apiResponse.status === HTTP.Status.Unauthorized) {\n                sessionStorage.removeItem(HTTP.AccessToken.name)\n            } else {\n                apiResponse.content.then((s => {\n                    callback(JSON.parse(s)[\"userName\"])\n                })).catch((error) => {\n                })\n            }\n        }\n\n        api.request(HTTP.Method.GET, {}, sCallBack, (m) => {\n            console.log(m)\n        })\n    }\n\n    user(callback) {\n\n        const api = new MLSQLAPI(backendConfig.USERNAME_URL)\n        api.request2({}, (json) => {\n            callback(json)\n        }, (str) => {\n\n        })\n    }\n\n    /**\n     * @param {String} userName\n     * @param {String} password\n     */\n    login(userName, password, _sCallBack, _errorCallBack) {\n        this.registerOrLogin(backendConfig.LOGIN_URL, userName, password, _sCallBack, _errorCallBack)\n    }\n\n    logout() {\n        sessionStorage.removeItem(HTTP.AccessToken.name)\n    }\n\n    /**\n     * @param {String} userName\n     * @param {String} password\n     */\n    register(userName, password, _sCallBack, _errorCallBack) {\n        this.registerOrLogin(backendConfig.REGISTER_URL, userName, password, _sCallBack, _errorCallBack)\n    }\n\n    registerOrLogin(url, userName, password, _sCallBack, _errorCallBack) {\n        const api = new MLSQLAPI(url)\n\n        const body = {\n            userName: userName,\n            password: password\n        }\n\n        /**\n         * @param  {APIResponse} apiResponse\n         */\n        const sCallBack = (apiResponse) => {\n            if (apiResponse.accessToken) {\n                sessionStorage.setItem(HTTP.AccessToken.name, apiResponse.accessToken)\n                const cookies = new Cookies();\n                cookies.set(HTTP.AccessToken.name, apiResponse.accessToken, { path: '/' });\n            }\n            _sCallBack(apiResponse)\n        }\n        /**\n         *\n         * @param {ServerError} serverError\n         */\n        const errorCallBack = (serverError) => {\n            _errorCallBack(serverError)\n        }\n        api.request(HTTP.Method.POST, body, sCallBack, errorCallBack)\n    }\n}","export const assert = (condition, message) => {\n    if (!condition) {\n        message = message || \"Assertion failed\";\n        if (typeof Error !== \"undefined\") {\n            throw new Error(message);\n        }\n        throw message; // Fallback\n    }\n}\n","import * as React from \"react\";\nimport {Input} from \"antd\";\n\nconst InputGroup = Input.Group;\n\nexport class ETLoadParams extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etPopLoad = props.parent\n        this.state = {}\n    }\n\n    render() {\n        return <div>\n            <span>parameters:</span>\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n        </div>\n    }\n}","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport {ETLoadParams} from \"./ETLoadParams\";\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETPopLoad extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.data = {}\n        this.state = {datasourcesRender: []}\n        this.loadParamsRef = React.createRef()\n    }\n\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, \"load _mlsql_.`datasources` as output;\", (data) => {\n            const datasourcesRender = []\n            data.forEach(item => {\n                datasourcesRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({datasourcesRender: datasourcesRender})\n        }, fail => {\n\n        })\n\n    }\n\n    sourceType = (value, evt) => {\n        this.data.sourceTypeV = value\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n        api.runScript({}, `load _mlsql_.\\`datasources/params/${value}\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                dataForRender.push(<Row>\n                    <Col>\n                        <Input style={{marginBottom: \"10px\"}} name={item.param} onChange={this.params} type=\"text\"\n                               addonBefore={item.param}\n                               placeholder={item.description}/>\n                    </Col>\n                </Row>)\n            })\n            self.loadParamsRef.current.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        return `load ${self.data.sourceTypeV}.\\`${self.data.pathV}\\` where key=\"value\" as ${self.data.tableNameV};`\n    }\n\n    render() {\n        return <div>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        soureType:<Select\n                        onChange={this.sourceType}\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Choose DataSource type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >{this.state.datasourcesRender}\n                    </Select>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" label=\"Path\" addonBefore=\"Path\"\n                               placeholder=\"File path or tableName\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} label=\"tableName\" addonBefore=\"tableName\"\n                               placeholder=\"tableName\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <ETLoadParams parent={this} ref={this.loadParamsRef}/>\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\nconst {TextArea} = Input;\n\n\nexport class ETPopAlgorithm extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {dataForRender: []}\n    }\n\n    renderParam = (item) => {\n        if (item.param === \"keepVersion\" && item.param === \"evaluateTable\") {\n            return null\n        }\n        if (item.param === \"code\" || item.param === \"fitParam.[group].code\") {\n            return <Row><Col>{item.param}:<TextArea style={{marginBottom: \"10px\"}} name={item.param}\n                                                    onChange={this.params}\n                                                    type=\"text\" rows={10}/></Col></Row>\n        }\n        return <Row>\n            <Col>\n                <Input style={{marginBottom: \"10px\"}} name={item.param} onChange={this.params} type=\"text\"\n                       addonBefore={item.param}\n                       placeholder={item.description}/>\n            </Col>\n        </Row>\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load modelParams.\\`${self.name}\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                const temp = this.renderParam(item)\n                if (temp !== null) {\n                    dataForRender.push(temp)\n                    dataForRender.push(<br/>)\n                }\n\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    params = (evt) => {\n        this.data.params[evt.target.getAttribute(\"name\")] = evt.target.value\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + \"\\\"\" + v + \"\\\"\")\n        }\n\n        if (paramsArray.length == 0) {\n            paramsArray.push(\"keepVersion=\\\"true\\\"\")\n        }\n\n        return `train ${this.data.tableNameV} as ${this.name}.\\`${this.data.pathV}\\` where \n${paramsArray.join(\" and\\n \")};`\n    }\n\n    render() {\n        return <div>\n            <span>Training data and model path:</span>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} size={\"large\"} addonBefore=\"tableName\"\n                               placeholder=\"the table of training data\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" size={\"large\"} addonBefore=\"Model save path\"\n                               placeholder=\"the location you save you model\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <span>Algorithm parameters:</span>\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETPopSave extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.data = {}\n        this.state = {datasourcesRender: []}\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, \"load _mlsql_.`datasources` as output;\", (data) => {\n            const datasourcesRender = []\n            data.forEach(item => {\n                datasourcesRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({datasourcesRender: datasourcesRender})\n        }, fail => {\n\n        })\n    }\n\n    sourceType = (value, evt) => {\n        this.data.sourceTypeV = value\n    }\n\n    saveMode = (value, evt) => {\n        this.data.saveModeV = value\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    partitionBy = (evt) => {\n        this.data.partitionByV = evt.target.value\n    }\n\n    fileNum = (evt) => {\n        this.data.fileNumV = evt.target.value\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let partitionByStr = \"\"\n        if (this.data.partitionByV) {\n            partitionByStr = \"partitionBy \" + this.data.partitionByV\n        }\n\n        let fileNumStr = `key=\"value\"`\n        if (this.data.fileNumV) {\n            fileNumStr = `fileNum=\"${this.data.fileNumV }\"`\n        }\n\n        return `save ${self.data.saveModeV} ${self.data.tableNameV} as ${self.data.sourceTypeV}.\\`${self.data.pathV}\\` \\n where ${fileNumStr} ${partitionByStr};`\n    }\n\n    render() {\n        return <div>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        soureType:<Select\n                        onChange={this.sourceType}\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Choose DataSource type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >{this.state.datasourcesRender}\n                    </Select>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        SaveMode:<Select\n                        onChange={this.saveMode}\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Choose save mode type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >\n                        <Option key={\"overwrite\"} value={\"overwrite\"}>overwrite</Option>\n                        <Option key={\"append\"} value={\"append\"}>append</Option>\n                        <Option key={\"errorIfExists\"} value={\"errorIfExists\"}>errorIfExists</Option>\n                        <Option key={\"ignore\"} value={\"ignore\"}>ignore</Option>\n                    </Select>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} label=\"tableName\" addonBefore=\"tableName\"\n                               placeholder=\"the tableName will be saved\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" addonBefore=\"Target Path\"\n                               placeholder=\"File path or tableName\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.partitionBy} addonBefore=\"partitionBy\"\n                               placeholder=\"partitionBy\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.fileNum} addonBefore=\"fileNum\"\n                               placeholder=\"fileNum\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\nconst {TextArea} = Input;\n\n\nexport default class ETBaseTool extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {\n            dataForRender: [],\n            tableHidden: props.tableHidden,\n            pathAlias: props.pathAlias,\n            pathHidden: props.pathHidden,\n            outputTableHidden: props.outputTableHidden,\n            outputTableAlias: props.outputTableAlias,\n            tableAlias: props.tableAlias\n        }\n    }\n\n    renderParam = (item) => {\n        if (item.param === \"keepVersion\" || item.param === \"evaluateTable\") {\n            return null\n        }\n        if (item.param === \"code\" || item.param === \"fitParam.[group].code\") {\n            return <Row><Col>{item.param}:<TextArea style={{marginBottom: \"10px\"}} name={item.param}\n                                                    onChange={this.params}\n                                                    type=\"text\" rows={10}/></Col></Row>\n        }\n        return <Row key={item.param}>\n            <Col>\n                <Input style={{marginBottom: \"10px\"}} name={item.param} onChange={this.params} type=\"text\"\n                       addonBefore={item.param}\n                       placeholder={item.description}/>\n            </Col>\n        </Row>\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load modelParams.\\`${self.name}\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                const temp = this.renderParam(item)\n                if (temp !== null) {\n                    dataForRender.push(temp)\n                    dataForRender.push(<br/>)\n                }\n\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    params = (evt) => {\n        this.data.params[evt.target.getAttribute(\"name\")] = evt.target.value\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    outputTableName = (evt) => {\n        this.data.outputTableNameV = evt.target.value\n    }\n\n    _makeMLSQL() {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            let rv = \"\\\"\" + v + \"\\\"\"\n            if (k === \"code\" || k === \"fitParam.[group].code\") {\n                rv = \"'''\" + v + \"'''\"\n            }\n            paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + rv)\n        }\n\n        let whereStr = \"\"\n        if (paramsArray.length > 0) {\n            whereStr = \"where\"\n        }\n\n        let asStr = \"\"\n\n        if (this.data.outputTableNameV) {\n            asStr = `as ${this.data.outputTableNameV}`\n        }\n\n        //run command as DownloadExt.`` where from=\"test2\" and to=\"/tmp/jack\";\n        return `run ${this.data.tableNameV || \"command\"} as ${this.name}.\\`${this.data.pathV || \"\"}\\` ${whereStr} ${paramsArray.join(\"and\\n \")} ${asStr};`\n    }\n\n    showTableName = () => {\n        if (this.state.tableHidden !== \"true\") {\n            return <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} size={\"large\"}\n                               addonBefore={this.state.tableAlias ? this.state.tableAlias : \"Input table\"}\n                               placeholder=\"\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n        }\n        return null\n    }\n\n    showOutputTableName = () => {\n        if (this.state.outputTableHidden !== \"true\") {\n            return <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.outputTableName} size={\"large\"}\n                               addonBefore={this.state.outputTableAlias ? this.state.outputTableAlias : \"Output table\"}\n                               placeholder=\"\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n        }\n        return null\n    }\n\n    pathNameForRender = () => {\n        if (this.state.pathAlias) {\n            return this.state.pathAlias\n        } else {\n            return \"Save path\"\n        }\n    }\n    showPathName = () => {\n        if (this.state.pathHidden !== \"true\") {\n            return <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" size={\"large\"} addonBefore={this.pathNameForRender()}\n                               placeholder=\"\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n        }\n        return \"\"\n    }\n\n    _render() {\n        return <div>\n            {this.showTableName()}\n            <br/>\n            {this.showOutputTableName()}\n            <br/>\n            {this.showPathName()}\n            <br/>\n            {this.state.dataForRender.length == 0 ? \"\" : <span>Parameters:</span>}\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport ETBaseTool from \"./ETBaseTool\";\n\n\nexport class ETPopTool extends ETBaseTool {\n    constructor(props) {\n        super(props)\n    }\n\n\n    makeMLSQL = () => {\n        return super._makeMLSQL()\n    }\n\n\n    render() {\n        return super._render()\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport {ETPopTool} from \"./ETPopTool\";\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETPopDownload extends ETPopTool {\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + \"\\\"\" + v + \"\\\"\")\n        }\n\n        if (paramsArray.length == 0) {\n            paramsArray.push(\"keepVersion=\\\"true\\\"\")\n        }\n        //run command as DownloadExt.`` where from=\"test2\" and to=\"/tmp/jack\";\n        return `run command as ${this.name}.\\`\\` where \n${paramsArray.join(\" and\\n \")};`\n    }\n\n    render() {\n        return <div>\n\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport brace from 'brace';\nimport 'brace/ext/searchbox';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/scala';\nimport 'brace/mode/python';\nimport 'brace/mode/java';\nimport 'brace/theme/github';\nimport 'brace/ext/language_tools'\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport Switch from \"../../../node_modules/antd/lib/switch\";\n\nconst Option = Select.Option;\nconst {TextArea} = Input;\n\nexport class ETPopScriptUDF extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {dataForRender: []}\n        this.codeRef = React.createRef()\n        this.codeCheckRef = React.createRef()\n    }\n\n    udfName = (evt) => {\n        this.data.udfNameV = evt.target.value\n    }\n\n    dataType = (evt) => {\n        this.data.dataTypeV = evt.target.value\n    }\n\n    udfType = (value) => {\n        this.udfTypeV = value\n    }\n\n    code = (newValue) => {\n        this.codeV = newValue\n    }\n\n\n    componentDidMount() {\n\n    }\n\n    langSelect = (value) => {\n        this.lang = value\n        this.codeCheckRef.current.checked = false\n        this.setState({dataType: false})\n        if (this.lang === \"python\") {\n            this.setState({dataType: true})\n        }\n        this.setState({codeLang: value})\n\n\n    }\n\n    setCodeExample = (checked) => {\n        if (checked) {\n            this.codeRef.current.editor.setValue(this.codeExample())\n        } else {\n            this.codeRef.current.editor.setValue(\"\")\n        }\n\n    }\n\n    codeExample = () => {\n        const lang = this.state.codeLang || \"scala\"\n        if (lang === \"scala\") {\n            return `def apply(a:Double,b:Double)={\n   a + b\n}`\n        }\n\n        if (lang === \"python\") {\n            return `def apply(self,m):\n    return m`\n        }\n\n        if (lang === \"java\") {\n            return `import java.util.HashMap;\nimport java.util.Map;\npublic class UDF {\n  public Map<String, Integer[]> apply(String s) {\n    Map<String, Integer[]> m = new HashMap<>();\n    Integer[] arr = {1};\n    m.put(s, arr);\n    return m;\n  }\n}`\n        }\n        return null\n    }\n\n    showDataType = () => {\n        if (this.state.dataType) {\n            return <Row>\n                <Col>\n                    dataType:<TextArea style={{marginBottom: \"10px\"}} name={\"dataType\"} rows={10}\n                                       onChange={this.dataType}\n                                       type=\"text\"\n                                       addonBefore={\"dataType\"}\n                                       placeholder={`This is not required when lang is scala\nAs we know python is not strongly typed language, so\nwe should manually spcify the return type.\nmap(string,string) means a map with key is string type,value also is string type.\narray(string) means a array with string type element.\nnested is support e.g. array(array(map(string,array(string))))\n\n`}/>\n                </Col>\n            </Row>\n\n        }\n        return null\n    }\n\n    showCode = () => {\n        return <div><Row>\n            <Col>\n                code:<AceEditor ref={this.codeRef}\n                                mode={this.state.codeLang || \"scala\"}\n                                theme=\"github\"\n                                width={\"400px\"}\n                                height={\"300px\"}\n                                name=\"code\"\n                                fontSize={16}\n                                showPrintMargin={true}\n                                showGutter={true}\n                                highlightActiveLine={true}\n                                onChange={this.code}\n                                editorProps={{\n                                    $blockScrolling: Infinity\n                                }}\n                                setOptions={{\n                                    enableBasicAutocompletion: true,\n                                    enableLiveAutocompletion: true,\n                                    enableSnippets: false,\n                                    showLineNumbers: true,\n                                    tabSize: 2,\n                                }}\n            />\n            </Col>\n        </Row>\n            <Row>\n                <Col>\n                    <Col span={8}>\n                        Show CodeExample:<Switch ref={this.codeCheckRef} onChange={this.setCodeExample}/>\n                    </Col>\n                </Col>\n            </Row></div>\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        paramsArray.push(`lang=\"${this.lang}\"`)\n        paramsArray.push(`code='''${this.codeV}'''`)\n        paramsArray.push(`udfType=\"${this.udfTypeV}\"`)\n        if (this.dataTypeV) {\n            paramsArray.push(`dataType='''${this.dataTypeV}'''`)\n        }\n        return `register ScriptUDF.\\`\\` as ${this.data.udfNameV} where \n${paramsArray.join(\"\\nand \")};`\n    }\n\n    render() {\n        return <div>\n\n            <Row>\n                <Col>\n                    <Input onChange={this.udfName} type=\"text\" size={\"large\"} addonBefore=\"UDF Name\"\n                           placeholder=\"the name of udf\"/>\n                </Col>\n            </Row>\n            <br/>\n\n            <Row>\n                <Col span={4}>\n                    <span>udfType:</span>\n                </Col>\n                <Col span={20}>\n                    <Select\n                        showSearch\n                        onChange={this.udfType}\n                        style={{width: 200}}\n                        placeholder=\"Select udf type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >\n                        <Option value=\"udf\">udf</Option>\n                        <Option value=\"udaf\">udaf</Option>\n                    </Select>\n                </Col>\n            </Row>\n            <br/>\n            <Row>\n                <Col span={4}>\n                    <span>Lang:</span>\n                </Col>\n                <Col span={20}>\n                    <Select\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Select language type\"\n                        optionFilterProp=\"children\"\n                        onChange={this.langSelect}\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >\n                        <Option value=\"java\">java</Option>\n                        <Option value=\"scala\">scala</Option>\n                        <Option value=\"python\">python</Option>\n                    </Select>\n                </Col>\n            </Row>\n            <br/>\n            {this.showDataType()}\n            <br/>\n            {this.showCode()}\n            <br/>\n            <Row>\n                <Col>\n                    <Input style={{marginBottom: \"10px\"}} name={\"methodName\"} onChange={this.params} type=\"text\"\n                           addonBefore={\"methodName\"}\n                           placeholder={\"methodName\"}/>\n                </Col>\n            </Row>\n\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETExample extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {\n            dataForRender: [],\n            tableHidden: props.tableHidden,\n            pathAlias: props.pathAlias,\n            pathHidden: props.pathHidden\n        }\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load model.\\`list\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                dataForRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    etName = (value) => {\n        this.etName = value\n    }\n    makeMLSQL = () => {\n        return `load modelExample.\\`${this.etName}\\` as output;`\n    }\n\n    render() {\n        return <div>\n            <Row>\n                <Col>\n                    ET:<Select\n                    onChange={this.etName}\n                    showSearch\n                    style={{width: 200}}\n                    placeholder=\"Choose DataSource type\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                >{this.state.dataForRender}\n                </Select>\n                </Col>\n            </Row>\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport {ETLoadParams} from \"./ETLoadParams\";\nimport {ETPopTool} from \"./ETPopTool\";\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETRegister extends ETPopTool {\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load model.\\`list\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                dataForRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        return `register ${self.data.sourceTypeV}.\\`${self.data.pathV}\\` as ${self.data.outputTableNameV};`\n    }\n\n    etName = (value) => {\n        this.data.sourceTypeV = value\n    }\n\n    render() {\n        return <div>\n            {this.showTableName()}\n            <br/>\n            {this.showOutputTableName()}\n            <br/>\n            {this.showPathName()}\n            <br/>\n            <Row>\n                <Col>\n                    ET:<Select\n                    onChange={this.etName}\n                    showSearch\n                    style={{width: 200}}\n                    placeholder=\"Choose DataSource type\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                >{this.state.dataForRender}\n                </Select>\n                </Col>\n            </Row>\n\n        </div>\n    }\n\n\n}\n","import * as React from \"react\";\nimport {Col, Input, Row, Select} from \"antd\";\nimport ETBaseTool from \"./ETBaseTool\";\n\nconst InputGroup = Input.Group;\n\nexport default class ETStringIndex extends ETBaseTool {\n\n    constructor(props) {\n        super(props)\n    }\n\n    makeMLSQL = () => {\n\n        let asStr = \"\"\n\n        if (this.data.outputTableNameV) {\n            asStr = `as ${this.data.outputTableNameV}`\n        }\n\n        const sqlTrain = super._makeMLSQL().replace(asStr, \"\")\n\n        const sqlBatchPredict = `predict ${this.data.tableNameV} as ${this.name}.\\`${this.data.pathV || \"\"}\\` ${asStr};`\n\n        return (`${sqlTrain}\n        ${sqlBatchPredict}\n        register ${this.name}.\\`${this.data.pathV || \"\"}\\` as ${this.data.functionNameV}; \n        `).stripMargin()\n    }\n\n    functionName = (evt) => {\n        this.data.functionNameV = evt.target.value\n    }\n\n    render() {\n        return <div>\n            {this.showTableName()}\n            <br/>\n\n            {this.showOutputTableName()}\n            <br/>\n            {this.showPathName()}\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.functionName} type=\"text\" size={\"large\"} addonBefore={\"functionName\"}\n                               placeholder=\"A function you can use to convert String to number or number to String\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            {this.state.dataForRender.length == 0 ? \"\" : <span>Parameters:</span>}\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}","import ETBaseTool from \"./ETBaseTool\";\nimport * as React from \"react\";\n\nexport class ETDownloadFile extends ETBaseTool {\n\n    constructor(props) {\n        super(props)\n    }\n\n    makeMLSQL = () => {\n        const url = `/api_v1/public/file/download?fileName=${encodeURIComponent(this.data.pathV)}`\n        const link = document.createElement('a');\n        link.href = url;\n        link.target = \"_blank\"\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        return \"\"\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        return super._render()\n    }\n}","import * as React from \"react\";\nimport Modal from \"../../../node_modules/antd/lib/modal/Modal\";\nimport {ETPopLoad} from \"./ETPopLoad\";\nimport {ETPopAlgorithm} from \"./ETPopAlgorithm\";\nimport {ETPopSave} from \"./ETPopSave\";\nimport {ETPopTool} from \"./ETPopTool\";\nimport {ETPopDownload} from \"./ETPopDownload\";\nimport {ETPopScriptUDF} from \"./ETPopScriptUDF\";\nimport {ETExample} from \"./ETExample\";\nimport {ETRegister} from \"./ETRegister\";\nimport ETStringIndex from \"./ETStringIndex\";\nimport {ETDownloadFile} from \"./ETDownloadFile\";\n\nexport class ETPop extends React.Component {\n    constructor(props) {\n        super(props)\n        this.et = props.parent\n        this.popChild = React.createRef()\n        this.state = {etModalVisible: true, title: props.title}\n        this.data = {}\n    }\n\n    disableEtModalVisible = () => {\n        this.et.setState({etPop: false, etModalVisible: false})\n    }\n    enableEtModalVisible = () => {\n        const sql = this.popChild.current.makeMLSQL()\n        this.et.makeMLSQL(sql)\n        this.et.setState({etPop: false, etModalVisible: false})\n    }\n\n    renderContent = () => {\n        if (this.et.state.eventName === \"load\") {\n            return <ETPopLoad parent={this} ref={this.popChild}/>\n        }\n        if (this.et.state.eventName === \"save\") {\n            return <ETPopSave name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"DownloadExt\") {\n            return <ETPopDownload name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"StringIndex\") {\n            return <ETStringIndex name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"DownloadFile\") {\n            return <ETDownloadFile name={this.et.state.eventName} ref={this.popChild} {...this.et.state}/>\n        }\n\n        if (this.et.state.eventName === \"ETExample\") {\n            return <ETExample name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"ScriptUDF\") {\n            return <ETPopScriptUDF name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"register\") {\n            return <ETRegister name={this.et.state.eventName} ref={this.popChild} {...this.et.state}/>\n        }\n\n        if (this.et.state.processType === \"tool\") {\n            return <ETPopTool name={this.et.state.eventName} ref={this.popChild} {...this.et.state}/>\n        }\n\n        return <ETPopAlgorithm name={this.et.state.eventName} ref={this.popChild}/>\n    }\n\n\n    render() {\n        return (\n            <div>\n                <Modal\n                    title={this.state.title}\n                    visible={this.state.etModalVisible}\n                    onCancel={this.disableEtModalVisible}\n                    onOk={this.enableEtModalVisible}\n                    okText=\"Ok\"\n                    cancelText=\"Cancel\"\n                >\n                    {this.renderContent()}\n                </Modal>\n            </div>\n        )\n    }\n}","import * as React from \"react\";\nimport {Collapse, Tabs} from 'antd';\nimport {Card, Col, Row} from 'antd';\nimport {ETPop} from \"./ETPop\";\nimport Tag from \"../../../node_modules/antd/lib/tag\";\n\n\nconst Panel = Collapse.Panel;\nconst TabPane = Tabs.TabPane;\n\nexport class MLSQLETQuick extends React.Component {\n    constructor(props) {\n        super(props)\n        this.queryApp = props.parent\n        this.state = {}\n    }\n\n    componentDidMount() {\n\n    }\n\n    onDragStart = (evt) => {\n        const processType = evt.target.getAttribute(\"processtype\")\n        evt.dataTransfer.setData(\"eventName\", evt.target.getAttribute(\"name\"));\n        evt.dataTransfer.setData(\"popName\", evt.target.getAttribute(\"help\"));\n        evt.dataTransfer.setData(\"processType\", processType);\n        evt.dataTransfer.setData(\"pathAlias\", evt.target.getAttribute(\"pathalias\") || \"\");\n        evt.dataTransfer.setData(\"outputTableAlias\", evt.target.getAttribute(\"outputtablealias\") || \"\");\n        evt.dataTransfer.setData(\"tableAlias\", evt.target.getAttribute(\"tablealias\") || \"\");\n        evt.dataTransfer.setData(\"tableHidden\", evt.target.getAttribute(\"tablehidden\") || false);\n        evt.dataTransfer.setData(\"pathHidden\", evt.target.getAttribute(\"pathhidden\") || false);\n        evt.dataTransfer.setData(\"outputTableHidden\", evt.target.getAttribute(\"outputtablehidden\") || false);\n\n\n    }\n\n    makeMLSQL = (sql) => {\n        this.queryApp.appendToEditor(sql)\n    }\n\n\n    renderPop = () => {\n        if (this.state.etPop) {\n            return <ETPop parent={this} title={this.state.popName}/>\n        }\n        return null\n    }\n\n\n    render() {\n        return (\n            <div>\n                <Collapse style={{margin: \"0px 0px\", padding: \"0px 0px\"}}>\n                    <Panel header=\"Quick Menu\" key=\"1\">\n                        <Row gutter={16}>\n                            <Col span={8}>\n                                <Card title={\"Load/Save Data\"}>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} title=\"Load/Save Data\"\n                                         onDragStart={this.onDragStart} name={\"load\"}\n                                         help={\"Load file/db as table\"}\n                                         draggable={true} color=\"magenta\">Load data</Tag>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} title=\"Save Data\" onDragStart={this.onDragStart}\n                                         name={\"save\"}\n                                         help={\"Save table into file/db \"}\n                                         draggable={true} color=\"magenta\">Save data</Tag>\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card title=\"Algorithms\">\n                                    <Tag tyle={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"TfIdfInPlace\"}\n                                         help={\"Use TfIdfInPlace vectorize text\"}\n                                         draggable={true} color=\"magenta\">TfIdf</Tag>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"Word2VecInPlace\"}\n                                         help={\"Use Word2VecInPlace vectorize text\"}\n                                         draggable={true} color=\"magenta\">Word2vec</Tag>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"RandomForest\"}\n                                         help={\"Use RandomForest to train a model\"}\n                                         draggable={true} color=\"magenta\">RandomForest</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"PythonAlg\"}\n                                         help={\"Run python lib to train\"}\n                                         draggable={true} color=\"magenta\">Python Algorithm</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"BigDLClassifyExt\"}\n                                         help={\"Use BigDL to develop deep learning algorithm\"}\n                                         draggable={true} color=\"magenta\">Deep Learning</Tag>\n                                </Card>\n                            </Col>\n\n                            <Col span={8}>\n                                <Card title=\"Python\">\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"PythonEnvExt\"} processtype={\"tool\"}\n                                         help={\"Create Python Env\"}\n                                         pathalias={\"Temp directory\"} tablehidden={\"true\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Create Python Env</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"PythonParallelExt\"} processtype={\"tool\"}\n                                         help={\"Run python project\"}\n                                         pathalias={\"Temp directory\"} tablehidden={\"true\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Run python project</Tag>\n                                </Card>\n                            </Col>\n\n                        </Row>\n                        <br/>\n                        <Row gutter={16}>\n                            <Col span={8}>\n                                <Card title=\"Register model as Function\">\n                                    <Tag onDragStart={this.onDragStart} name={\"ScriptUDF\"} processtype={\"tool\"}\n                                         help={\"Use ScriptUDF create udf\"}\n                                         draggable={true} color=\"magenta\">Create UDF</Tag>\n\n                                    <Tag onDragStart={this.onDragStart}\n                                         name={\"register\"}\n                                         help={\"Register model to function \"}\n                                         pathalias={\"Model saved path\"}\n                                         outputtablealias={\"Function name\"}\n                                         tablealias={\"Function name\"}\n                                         tablehidden={\"true\"}\n                                         pathhidden={\"false\"}\n                                         outputtablehidden={\"false\"}\n                                         draggable={true} color=\"magenta\">Register Model As Function</Tag>\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card title=\"Jobs\">\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} name={\"JobList\"}\n                                         processtype={\"direct\"}\n                                         draggable={true} color=\"magenta\">Show jobs</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} name={\"Kill\"}\n                                         processtype={\"tool\"}\n                                         pathalias={\"groupId or jobName\"} tablehidden={\"true\"}\n                                         help={\"Kill your job\"}\n                                         draggable={true} color=\"magenta\">Kill job</Tag>\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card title=\"Tools\">\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"DownloadExt\"} processtype={\"tool\"}\n                                         help={\"Use DownloadExt to download files you have uploaded\"}\n                                         draggable={true} color=\"magenta\">Download uploaded file</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"ImageLoaderExt\"} processtype={\"tool\"}\n                                         help={\"Use ImageLoaderExt to load images\"}\n                                         pathalias={\"\"} tablehidden={\"true\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"false\"}\n                                         draggable={true} color=\"magenta\">Load images</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"ConnectMySQL\"} processtype={\"direct\"}\n                                         help={\"\"}\n                                         draggable={true} color=\"magenta\">Connect MySQL</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} name={\"JDBC\"}\n                                         processtype={\"tool\"}\n                                         pathalias={\"DB name in connect\"} tablehidden={\"false\"}\n                                         help={\"Run DLL on MySQL\"}\n                                         draggable={true} color=\"magenta\">MySQL DDL</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"TreeBuildExt\"} processtype={\"tool\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         help={\"Build tree from parent-child\"}\n                                         draggable={true} color=\"magenta\">Parent-Child</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"ETExample\"} processtype={\"\"}\n                                         help={\"Show Example of ET\"}\n                                         draggable={true} color=\"magenta\">Show ET Example</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"RepartitionExt\"} processtype={\"tool\"}\n                                         help={\"Change Table Partition Num\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"false\"}\n                                         draggable={true} color=\"magenta\">Repartition table</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"SendMessage\"} processtype={\"tool\"}\n                                         help={\"Send email\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Send Mail</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"CacheExt\"} processtype={\"tool\"}\n                                         help={\"Cache table\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Cache Table</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"StringIndex\"} processtype={\"tool\"}\n                                         help={\"Convert String to number\"}\n                                         pathalias={\"Mapping path\"} tablehidden={\"false\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Convert String to number</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"DownloadFile\"} processtype={\"tool\"}\n                                         help={\"Download File\"}\n                                         pathalias={\"Target file\"} tablehidden={\"true\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Download File to computer</Tag>\n\n\n                                </Card>\n                            </Col>\n                        </Row>\n                    </Panel>\n                </Collapse>\n                {this.renderPop()}\n            </div>\n\n        )\n    }\n}","export class ButtonToCommand {\n    makeSQL = (name) => {\n        if (name === \"JobList\") {\n            return `load _mlsql_.\\`jobs\\` as output;`\n        }\n        if (name === \"ConnectMySQL\") {\n            return `connect jdbc where\n url=\"jdbc:mysql://127.0.0.1:3306/wow?characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&tinyInt1isBit=false\"\n and driver=\"com.mysql.jdbc.Driver\"\n and user=\"\"\n and password=\"\"\n as db_1;`\n        }\n        return \"\"\n    }\n}","import * as React from \"react\";\nimport brace from 'brace';\nimport 'brace/ext/searchbox';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/sql';\nimport 'brace/theme/github';\nimport 'brace/ext/language_tools';\n\nimport './MLSQLAceEditor.scss'\nimport 'antd/dist/antd.css';\nimport {Button, Tooltip, Progress} from 'antd';\nimport {MLSQLAPI} from \"../service/MLSQLAPI\";\nimport * as BackendConfig from \"../service/BackendConfig\";\nimport * as HTTP from \"../service/HTTPMethod\";\nimport {assert} from \"../common/tool\"\nimport {MLSQLETQuick} from \"./et/MLSQLETQuick\";\nimport {ButtonToCommand} from \"./et/ButtonToCommand\";\n\nconst uuidv4 = require('uuid/v4');\n\n\nclass MLSQLAceEditor extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.queryApp = this.props.parent\n        this.aceEditorRef = React.createRef()\n        this.commandGroup = React.createRef()\n        this.resourceProgressRef = React.createRef()\n        this.taskProgressRef = React.createRef()\n        this.etRef = React.createRef()\n        this.state = {value: \"\", loading: false}\n    }\n\n    text = (value, scriptId) => {\n        this.setState({value: value, scriptId: scriptId})\n        this.aceEditorRef.current.editor.setValue(value)\n    }\n\n    onChange(newValue) {\n\n    }\n\n    executeSave = () => {\n        const api = new MLSQLAPI(BackendConfig.CREATE_SCRIPT_FILE)\n        const self = this\n\n        const messageBox = this.getMessageBoxAceEditor()\n\n        if (!self.state.scriptId) {\n            messageBox.setValue(\"no file are opened, cannot executeSave\")\n            return\n        }\n\n        api.request(HTTP.Method.POST, {\n            id: self.state.scriptId,\n            content: self.getAceEditor().getValue()\n        }, (ok) => {\n            messageBox.setValue(\"saved\")\n        }, (fail) => {\n        })\n\n    }\n\n    executeQuery = () => {\n        const jobName = uuidv4()\n\n        this.enterLoading(jobName)\n        const api = new MLSQLAPI(BackendConfig.RUN_SCRIPT)\n        const self = this\n        self.getMessageBoxAceEditor().setValue(\"\")\n\n        const select = self.getSelection()\n        let finalSQL = self.getAllText()\n\n\n        if (select !== '') {\n            finalSQL = select\n        }\n\n        const startTime = new Date().getTime();\n\n        function measureTime() {\n            self.exitLoading()\n            const endTime = new Date().getTime()\n            return endTime - startTime\n        }\n\n        api.runScript({jobName: jobName, background: (this.state.background || false)}, finalSQL, (wow) => {\n            try {\n                self.queryApp.setData(wow)\n                self.getDisplay().update(wow)\n                self.getMessageBoxAceEditor().setValue(\"\\nTime cost:\" + measureTime() + \"ms\")\n            } catch (e) {\n                console.log(e)\n                self.getMessageBoxAceEditor().setValue(\"Can not display the result. raw data:\\n\" + JSON.stringify(wow, null, 2))\n            }\n            self.exitLoading()\n\n        }, (fail) => {\n            let failRes = fail.toString()\n            try {\n                failRes = JSON.parse(failRes)[\"msg\"]\n            } catch (e) {\n            }\n            self.getMessageBoxAceEditor().setValue(failRes + \"\\nTime cost:\" + measureTime() + \"ms\")\n            self.exitLoading()\n        })\n\n    }\n\n    getAllText = () => {\n        return this.getAceEditor().getValue()\n    }\n\n    getSelection = () => {\n        let selectionRange = this.getAceEditor().getSelectionRange()\n        let content = this.getAceEditor().session.getTextRange(selectionRange);\n        return content\n    }\n\n    appendToEditor = (str) => {\n        const editor = this.getAceEditor()\n        const p = editor.getCursorPosition()\n        editor.session.insert(p, str)\n        editor.focus();\n    }\n\n    getAceEditor = () => {\n        return this.aceEditorRef.current.editor\n    }\n\n    getMessageBoxAceEditor = () => {\n        return this.queryApp.messageBox.current.editor\n    }\n\n    getDashBoard = () => {\n        return this.queryApp.dash.current\n    }\n\n    getDisplay = () => {\n        return this.queryApp.display.current\n    }\n\n    enterLoading = (jobName) => {\n        this.commandGroup.current.setState({loading: true});\n        this.resourceProgressRef.current.enter({jobName: jobName})\n        this.taskProgressRef.current.enter({jobName: jobName})\n    }\n\n    exitLoading = () => {\n        this.commandGroup.current.setState({loading: false});\n        this.resourceProgressRef.current.exit()\n        this.taskProgressRef.current.exit()\n    }\n    etOver = (evt) => {\n        const eventName = evt.dataTransfer.getData(\"eventName\")\n        const popName = evt.dataTransfer.getData(\"popName\")\n        const processType = evt.dataTransfer.getData(\"processType\")\n        const pathAlias = evt.dataTransfer.getData(\"pathAlias\")\n        const tableHidden = evt.dataTransfer.getData(\"tableHidden\")\n        const pathHidden = evt.dataTransfer.getData(\"pathHidden\")\n        const outputTableHidden = evt.dataTransfer.getData(\"outputTableHidden\")\n        const outputTableAlias = evt.dataTransfer.getData(\"outputTableAlias\")\n        const tableAlias = evt.dataTransfer.getData(\"tableAlias\")\n\n        if (processType === \"direct\") {\n            this.appendToEditor(new ButtonToCommand().makeSQL(eventName))\n        } else {\n            this.etRef.current.setState({\n                etPop: true,\n                eventName: eventName,\n                popName: popName,\n                processType: processType,\n                pathAlias: pathAlias,\n                tableHidden: tableHidden,\n                pathHidden: pathHidden,\n                outputTableHidden: outputTableHidden,\n                outputTableAlias: outputTableAlias,\n                tableAlias: tableAlias\n            })\n        }\n\n    }\n\n    render() {\n        const self = this\n        return (\n            <div className=\"mlsql-editor-area\">\n                <div>\n                    <MLSQLETQuick ref={this.etRef} parent={this}/>\n                </div>\n                <div onDragOver={(evt) => evt.preventDefault()} onDrop={this.etOver}><AceEditor\n                    ref={this.aceEditorRef}\n                    mode=\"sql\"\n                    theme=\"github\"\n                    width={\"100%\"}\n                    height={\"300px\"}\n                    onChange={this.onChange}\n                    name=\"mlsql_editor\"\n                    fontSize={16}\n                    showPrintMargin={true}\n                    showGutter={true}\n                    highlightActiveLine={true}\n                    value=\"\"\n                    editorProps={{\n                        $blockScrolling: Infinity\n                    }}\n                    setOptions={{\n                        enableBasicAutocompletion: true,\n                        enableLiveAutocompletion: true,\n                        enableSnippets: false,\n                        showLineNumbers: true,\n                        tabSize: 2,\n                    }}\n                /></div>\n                <CommandGroup ref={this.commandGroup} parent={this}/>\n                <ResourceProgress ref={this.resourceProgressRef} parent={this}></ResourceProgress>\n                <TaskProgress ref={this.taskProgressRef} parent={this}></TaskProgress>\n            </div>\n        )\n    }\n\n}\n\nclass CommandGroup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {loading: false}\n        this.parent = props.parent\n    }\n\n    render() {\n        return (\n            <div className=\"mslql-editor-buttons\">\n                <Button onClick={this.parent.executeQuery}\n                        loading={this.state.loading}>Run</Button>\n                <Button onClick={this.parent.executeSave}>Save</Button>\n            </div>\n        )\n    }\n\n}\n\nclass ResourceProgress extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {loading: false, percent: 0, successPercent: 0, mark: false}\n        this.parent = props.parent\n    }\n\n    enter = (params) => {\n        const self = this\n        this.setState({mark: true})\n        setTimeout(() => {\n            if (self.state.mark) {\n                self.setState({loading: true})\n                self.intervalTimer = setInterval(() => {\n                        const api = new MLSQLAPI(BackendConfig.RUN_SCRIPT)\n                        assert(params.hasOwnProperty(\"jobName\"), \"jobName is required\")\n                        const jobName = params[\"jobName\"]\n                        api.runScript({}, `load _mlsql_.\\`resource/${jobName}\\` as output;`, (jsonArray) => {\n                            const jsonObj = jsonArray[0]\n                            self.setState({\n                                percent: jsonObj.activeTasks / jsonObj.totalCores * 100,\n                                successPercent: jsonObj.currentJobGroupActiveTasks / jsonObj.totalCores * 100,\n                                title: `Resource (for all users): taken/Total: ${jsonObj.activeTasks}/${jsonObj.totalCores}(${jsonObj.currentJobGroupActiveTasks} you took)`\n                            })\n                        }, (str) => {\n                            try {\n                                self.parent.getMessageBoxAceEditor().setValue(str)\n                            } catch (e) {\n                                console.log(e)\n                            }\n\n                        })\n\n                    }\n                    , 2000)\n            }\n\n        }, 3000)\n\n    }\n\n    exit = () => {\n        this.setState({loading: false, percent: 0, successPercent: 0, mark: false})\n        if (this.intervalTimer) {\n            clearInterval(this.intervalTimer);\n        }\n    }\n\n    render() {\n        if (!this.state.loading) return <div></div>\n        return (\n            <div>{this.state.title}\n                <Progress percent={this.state.percent} successPercent={this.state.successPercent}/>\n            </div>\n        )\n    }\n\n}\n\n\nclass TaskProgress extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {loading: false, percent: 0, successPercent: 0, mark: false}\n        this.parent = props.parent\n    }\n\n    enter = (params) => {\n        const self = this\n        this.setState({mark: true})\n\n        setTimeout(() => {\n            if (self.state.mark) {\n                self.setState({loading: true})\n                self.intervalTimer = setInterval(() => {\n                        const api = new MLSQLAPI(BackendConfig.RUN_SCRIPT)\n                        assert(params.hasOwnProperty(\"jobName\"), \"jobName is required\")\n                        const jobName = params[\"jobName\"]\n                        api.runScript({}, `load _mlsql_.\\`jobs/${jobName}\\` as output;`, (jsonArray) => {\n                            const _jsonObj = jsonArray[0]\n                            const jsonObj = {\n                                numTasks: 0,\n                                numActiveTasks: 0,\n                                numCompletedTasks: 0\n                            }\n                            _jsonObj[\"activeJobs\"].forEach((item) => {\n                                jsonObj[\"numTasks\"] += item[\"numTasks\"]\n                                jsonObj[\"numActiveTasks\"] += item[\"numActiveTasks\"]\n                                jsonObj[\"numCompletedTasks\"] += item[\"numCompletedTasks\"]\n                            })\n                            self.setState({\n                                percent: jsonObj.numActiveTasks / jsonObj.numTasks * 100,\n                                successPercent: jsonObj.numCompletedTasks / jsonObj.numTasks * 100,\n                                title: `Tasks (for all stages): Succeeded/Total:\\n${jsonObj.numCompletedTasks}/${jsonObj.numTasks}(${jsonObj.numActiveTasks} running)`\n                            })\n                        }, (str) => {\n                            try {\n                                self.parent.getMessageBoxAceEditor().setValue(str)\n                            } catch (e) {\n                                console.log(e)\n                            }\n                        })\n\n                    }\n                    , 2000)\n            }\n\n        }, 3000)\n\n    }\n\n    exit = () => {\n        this.setState({loading: false, percent: 0, successPercent: 0, mark: false})\n        if (this.intervalTimer) {\n            clearInterval(this.intervalTimer);\n        }\n    }\n\n    render() {\n        if (!this.state.loading) return <div></div>\n        return (\n            <div>{this.state.title}\n                <Progress percent={this.state.percent} successPercent={this.state.successPercent}/>\n            </div>\n        )\n    }\n\n}\n\nexport default MLSQLAceEditor\n\n","class MLSQLTreeNodeBuilder {\n\n    /**\n     *\n     * Usage:\n     *\n     * convert flat array to tree structure\n     *\n     * input data\n     * [{\"id\":1,\"icon\":null,\"label\":null,\"parentId\":0},\n     * {\"id\":2,\"icon\":\"document\",\"label\":\"jack\",\"parentId\":0},\n     * {\"id\":3,\"icon\":\"document\",\"label\":\"dafe\",\"parentId\":0}\n     * ]\n     *\n     * output:\n     *\n     * @param {[{id:number,icon:string,label:string,parentId:number,childNodes:[]}]} list\n     */\n    build = (list) => {\n        let tempMap = {}, node, roots = [], i;\n        for (i = 0; i < list.length; i += 1) {\n            tempMap[list[i].id] = i;\n            list[i].childNodes = [];\n        }\n        for (i = 0; i < list.length; i += 1) {\n            node = list[i];\n            if (node.parentId !== 0) {\n                try {\n                    list[tempMap[node.parentId]].childNodes.push(node);\n                } catch (e) {\n                    console.log(\"------------\")\n                    console.log(node)\n                    console.log(tempMap[node.parentId])\n                }\n\n            } else {\n                roots.push(node);\n            }\n        }\n        return roots;\n    }\n\n\n}\n\nexport default MLSQLTreeNodeBuilder","import * as React from \"react\";\n\nimport {\n    Button,\n    Classes,\n    Icon,\n    Overlay,\n    Position,\n    Tooltip,\n    Tree,\n    Code,\n    H3,\n    H5,\n    Intent,\n    Switch,\n    InputGroup, FormGroup\n} from \"@blueprintjs/core\";\nimport {ContextMenu, Menu, MenuItem} from \"@blueprintjs/core\";\nimport classNames from \"classnames\";\nimport {MLSQLAPI, APIResponse} from \"../service/MLSQLAPI\";\nimport * as HTTP from \"../service/HTTPMethod\"\nimport './MLSQLTreeNode.scss'\nimport * as backendConfig from \"../service/BackendConfig\";\nimport MLSQLTreeBuilder from \"../service/MLSQLTreeBuilder\"\n\n//the directory tree in the left\nexport class ScriptNodeTree extends React.Component {\n\n    constructor(props) {\n        super(props)\n\n        /**\n         * @type {{isContextMenuOpen: boolean,openCreateScriptDialog: boolean}}\n         */\n        this.state = {isContextMenuOpen: false, openCreateScriptDialog: false};\n        this.parent = this.props.parent\n        this.reloadData()\n\n    }\n\n    reloadData = () => {\n\n        const api = new MLSQLAPI(backendConfig.CREATE_SCRIPT_FILE)\n        const self = this;\n        /**\n         *\n         * @param {APIResponse} ok\n         */\n        const success = (ok) => {\n            ok.content.then((s) => {\n                /**\n                 *\n                 * @type {[{id:number,icon:string,label:string,parentId:number,isDir:boolean,childNodes:[]}]}\n                 */\n                let rawData = []\n                try {\n                    rawData = JSON.parse(s || \"[]\")\n                } catch (e) {\n\n                }\n\n                const builder = new MLSQLTreeBuilder()\n                const treeRes = builder.build(rawData).sort((a, b) => {\n                    return a.id - b.id\n                })\n                self.setState({nodes: treeRes})\n            })\n        }\n        api.request(HTTP.Method.GET, {}, success, (notok) => {\n        })\n    }\n\n    render() {\n\n        return (\n            <div>\n                <Tree\n                    contents={this.state.nodes}\n                    onNodeClick={this.handleNodeClick}\n                    onNodeCollapse={this.handleNodeCollapse}\n                    onNodeExpand={this.handleNodeExpand}\n                    onNodeContextMenu={this.onNodeContextMenu}\n                    onNodeDoubleClick={this.handNodeDoubleClick}\n                    className=\"mlsql-directory-tree\"\n                />\n                {this.state.openCreateScriptDialog ?\n                    <CreateScriptDialog nodeId={this.state.nodeId} parent={this}\n                                        queryApp={this.parent}></CreateScriptDialog> : \"\"}\n\n            </div>\n        );\n    }\n\n    isRootNode = (nodeId) => {\n        return this.state.nodes[0].id === nodeId\n    }\n\n    onNodeContextMenu = (node, _nodePath, e) => {\n        e.preventDefault()\n        const self = this;\n        ContextMenu.show(\n            <ScriptNodeTreeMenu parent={self} nodeId={node.id}/>,\n            {left: e.clientX, top: e.clientY},\n            () => this.setState({isContextMenuOpen: false}),\n        );\n        this.setState({isContextMenuOpen: true});\n    }\n\n    handNodeDoubleClick = (node, _nodePath, e) => {\n        if (node.isDir) {\n            node.isExpanded = !node.isExpanded;\n            this.toggleIsExpanded(node.id, node.isExpanded)\n        } else {\n            const api = new MLSQLAPI(backendConfig.GET_SCRIPT_FILE)\n            const self = this;\n            api.request(HTTP.Method.GET, {id: node.id}, (ok) => {\n                ok.content.then((s) => {\n                    const scriptFile = JSON.parse(s || \"{}\")\n                    self.parent.editor.current.text(scriptFile.content, node.id)\n                })\n            }, (fail) => {\n            })\n\n\n        }\n        this.setState(this.state);\n\n    };\n\n    handleNodeClick = (nodeData, _nodePath, e) => {\n        const originallySelected = nodeData.isSelected;\n        if (!e.shiftKey) {\n            this.forEachNode(this.state.nodes, n => (n.isSelected = false));\n        }\n        nodeData.isSelected = originallySelected == null ? true : !originallySelected;\n        this.setState(this.state);\n    };\n\n    toggleIsExpanded = (id, isExpanded) => {\n        const api = new MLSQLAPI(backendConfig.CREATE_SCRIPT_FILE)\n        const self = this;\n        api.request(HTTP.Method.POST, {id: id, isExpanded: isExpanded}, (ok) => {\n            ok.content.then((s) => {\n\n            })\n        }, (fail) => {\n        })\n    }\n\n    handleNodeCollapse = (nodeData) => {\n        nodeData.isExpanded = false;\n        this.setState(this.state);\n    };\n\n    handleNodeExpand = (nodeData) => {\n        nodeData.isExpanded = true;\n        this.setState(this.state);\n    };\n\n    forEachNode(nodes, callback) {\n        if (nodes == null) {\n            return;\n        }\n\n        for (const node of nodes) {\n            callback(node);\n            this.forEachNode(node.childNodes, callback);\n        }\n    }\n}\n\nclass CreateScriptDialog extends React.Component {\n\n    /**\n     *\n     * @param {{parentFolder:number,parent:ScriptNodeTree,nodeId:number}} props\n     */\n    constructor(props) {\n        super(props)\n        /**\n         * @type {{msg: string,fileName:string,content:string}}\n         */\n        this.state = {\n            msg: \"\"\n        }\n        this.messageBox = this.props.queryApp.messageBox.current.editor\n        this.directoryTree = this.props.parent\n    }\n\n    title = () => {\n        if (this.props.parent.state.isDir) {\n            return \"Create Folder\"\n        }\n        else return \"Create Script\"\n    }\n\n    fileName = (e) => {\n        this.setState({fileName: e.target.value})\n    }\n    content = (e) => {\n        this.setState({content: e.target.value})\n    }\n\n    finish = () => {\n        this.props.parent.setState({openCreateScriptDialog: false})\n        this.props.parent.reloadData()\n    }\n\n    create = () => {\n\n        const api = new MLSQLAPI(backendConfig.CREATE_SCRIPT_FILE)\n        const self = this;\n\n        /**\n         *\n         * @param {APIResponse} ok\n         */\n        const success = (ok) => {\n            if (ok.status === HTTP.Status.Success) {\n                self.finish()\n            } else {\n                ok.content.then((msg) => {\n                    this.setState({\"msg\": msg})\n                })\n\n            }\n        }\n\n        const params = {\n            fileName: this.state.fileName,\n            isDir: this.props.parent.state.isDir,\n            content: this.state.content,\n            parentId: this.props.nodeId\n        }\n\n        if (!params.fileName) {\n            this.setState({\"msg\": \"filename should not be empty\"})\n            return\n        }\n\n        if (!params.isDir && !params.fileName.endsWith(\".mlsql\")) {\n            this.setState({\"msg\": \"filename should be ends with .mlsql\"})\n            return\n        }\n\n        api.request(HTTP.Method.POST, params, success, (notok) => {\n            self.setState({msg: \"Server error\"})\n        })\n\n    }\n    close = () => {\n        /**\n         * @type {ScriptNodeTree}\n         */\n        const parent = this.props.parent;\n        parent.setState({openCreateScriptDialog: false})\n        parent.reloadData()\n    }\n\n    render() {\n        const OVERLAY_EXAMPLE_CLASS = \"docs-md-overlay-example-transition\";\n        const classes = classNames(Classes.CARD, Classes.ELEVATION_4, OVERLAY_EXAMPLE_CLASS);\n        return (\n            <div>\n                <Overlay className=\"msql-treenode-dialog\" isOpen={true} usePortal={true}>\n                    <div className={classes}>\n                        <H3>{this.title()} </H3>\n\n                        <div className=\"msql-treenode-dialog-form\">\n\n                            <p style={{color: \"red\"}}>\n                                {this.state.msg}\n                            </p>\n                            <FormGroup\n                                helperText=\"The file of name you want create.\"\n                                label=\"fileName\"\n                                labelFor=\"fileName\"\n                                labelInfo=\"(required)\">\n                                <InputGroup id=\"fileName\" placeholder=\"example.mlsql\" onChange={this.fileName}/>\n                            </FormGroup>\n                        </div>\n                        <br/>\n                        <Button onClick={this.create}>\n                            Create\n                        </Button>\n\n                        <Button intent={Intent.DANGER} onClick={this.close} style={{float: \"right\"}}>\n                            Close\n                        </Button>\n\n                    </div>\n                </Overlay>\n            </div>\n\n        )\n    }\n}\n\nclass ScriptNodeTreeMenu extends React.Component {\n\n    /**\n     *\n     * @param {{parent:ScriptNodeTree}} props\n     */\n    constructor(props) {\n        super(props)\n        this.parent = this.props.parent\n        this.nodeId = this.props.nodeId\n    }\n\n    removeFile = () => {\n        const api = new MLSQLAPI(backendConfig.REMOVE_SCRIPT_FILE)\n        const self = this;\n\n        api.request(HTTP.Method.POST, {\n            id: self.nodeId\n        }, (ok) => {\n            if (ok.status === HTTP.Status.Success) {\n                self.parent.reloadData()\n            } else {\n                ok.content.then((msg) => {\n                    self.parent.setState({msg: msg})\n                })\n\n            }\n\n        }, (fail) => {\n            self.parent.setState({msg: \"Server error\"})\n        })\n    }\n\n    isCreateProject = () => {\n        return this.parent.isRootNode(this.nodeId)\n    }\n\n    createDocMenuItem = () => {\n        if (!this.isCreateProject()) {\n            return <MenuItem icon=\"document\" text=\"Create Script\" onClick={(() => {\n                this.parent.setState({\n                    openCreateScriptDialog: true,\n                    nodeId: this.nodeId,\n                    isDir: false\n                })\n            }).bind(this)}/>\n        }\n    }\n\n    createFolderTitle = () => {\n        if (!this.isCreateProject()) {\n            return \"Create Folder\"\n        }\n        else {\n            return \"Create Project\"\n        }\n    }\n\n    deleteMenu = () => {\n        if (!this.isCreateProject()) {\n            return <MenuItem icon=\"remove\" text=\"Delete\" onClick={(() => {\n                this.removeFile()\n            }).bind(this)}/>\n        }\n    }\n\n\n    render() {\n        return (\n            <div>\n                <Menu>\n                    {this.createDocMenuItem()}\n                    <MenuItem icon=\"folder-new\" text={this.createFolderTitle()} onClick={(() => {\n                        this.parent.setState({\n                            openCreateScriptDialog: true,\n                            nodeId: this.nodeId,\n                            isDir: true\n                        })\n                    }).bind(this)}/>\n                    {this.deleteMenu()}\n                </Menu>\n            </div>\n        )\n    }\n}\n\n\n\n","import * as React from \"react\";\nimport 'antd/dist/antd.css';\nimport {Table} from 'antd';\nimport Modal from \"../../node_modules/antd/lib/modal/Modal\";\n\nconst ReactMarkdown = require('react-markdown')\n\nexport class MLSQLQueryDisplay extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {columns: [], rows: [], view: {enabled: false}}\n    }\n\n    setRender = (keyColumn, data) => {\n\n        const value = data[0][keyColumn.key]\n\n        if (this.state.config && this.state.config[\"render\"]) {\n            const render = this.state.config[\"render\"][keyColumn.key]\n            if (render) {\n                keyColumn[\"render\"] = render\n            }\n            return\n        }\n\n        if (React.Component.isPrototypeOf(value.type)) {\n            keyColumn[\"render\"] = value => <span>{value}</span>\n            return\n        }\n        if ((typeof value) === 'object') {\n            keyColumn[\"render\"] = value => <span>{JSON.stringify(value).substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'array') {\n            keyColumn[\"render\"] = value => <span>{value.join(\",\").substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'boolean') {\n            keyColumn[\"render\"] = value => <span>{value.toString()}</span>\n            return\n        }\n\n\n    }\n\n    update = (data, config) => {\n        // e.g. [{\"a\":1}]\n        this.setState({config: config})\n        let keys = []\n        let basket = {}\n        let rows = []\n        const self = this\n        //collect all keys\n        data.forEach(function (item) {\n            for (let key in item) {\n                if (!basket[key]) {\n                    const keyColumn = {\n                        title: key,\n                        dataIndex: key,\n                        key: key,\n                    }\n                    self.setRender(keyColumn, data)\n                    keys.push(keyColumn)\n                    basket[key] = true\n                }\n            }\n        })\n\n        // collect data\n        data.forEach(function (item, index) {\n            let new_item = {}\n            keys.forEach(function (key) {\n                new_item[key.key] = item[key.key]\n            })\n            new_item[\"key\"] = index\n            rows.push(new_item)\n        })\n\n        this.setState({columns: keys, data: rows})\n    }\n\n    rowDoubleClick = (row, index, event) => {\n        if (row.name === \"codeExample\" || row.name === \"doc\") {\n            this.setState({\n                view: {\n                    enabled: true,\n                    content: row.value\n                }\n            })\n        }\n    }\n\n    disablePreview = () => {\n        this.setState({\n            view: {\n                enabled: false\n            }\n        })\n    }\n\n    render() {\n        const self = this\n        return (<div>\n                <Table\n                    onRow={(row, index) => {\n                        return {\n                            onDoubleClick: (event) => {\n                                self.rowDoubleClick(row, index, event)\n\n                            }\n                        }\n                    }\n                    }\n\n                    columns={this.state.columns}\n                    dataSource={this.state.data}/>\n                <Modal\n                    title={\"View\"}\n                    visible={this.state.view.enabled}\n                    onCancel={this.disablePreview}\n                    onOk={this.disablePreview}\n                    cancelText=\"Cancel\"\n                    OkText=\"Ok\"\n                >\n                    <ReactMarkdown source={this.state.view.content || \"\"}/>\n                </Modal>\n            </div>\n        )\n    }\n\n}","import React from 'react'\nimport Dropzone from 'react-dropzone'\nimport {fromEvent} from 'file-selector';\nimport request from \"superagent\";\nimport {FILE_UPLOAD} from '../../service/BackendConfig'\nimport * as HTTP from \"../../service/HTTPMethod\";\n\nconst baseStyle = {\n    width: 200,\n    height: 200,\n    borderWidth: 2,\n    borderColor: '#666',\n    borderStyle: 'dashed',\n    borderRadius: 5\n};\nconst activeStyle = {\n    borderStyle: 'solid',\n    borderColor: '#6c6',\n    backgroundColor: '#eee'\n};\nconst rejectStyle = {\n    borderStyle: 'solid',\n    borderColor: '#c66',\n    backgroundColor: '#eee'\n};\n\nconst fileListStyle = {\n    display: 'flex'\n}\n\n\nexport class UploadDropzone extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {\n            files: []\n        }\n\n    }\n\n    onDrop = (files) => {\n        this.setState({files})\n        const req = request.post(FILE_UPLOAD);\n        req.set('Access-Token', sessionStorage.getItem(HTTP.AccessToken.name) || '')\n        files.forEach(file => {\n            req.attach(file.path, file);\n        });\n\n        req.end((err, res) => {\n            this.setState({files: []})\n            if (!err) {\n                if (res.ok) {\n                    this.setState({msg: \"total files:\" + files.length + \" are uploaded\"})\n                }\n            } else {\n                console.log(err)\n                this.setState({msg: err.toString() + \"\\n Sometimes this caused by your upload space is not enough.\"})\n            }\n        })\n    }\n\n\n    render() {\n\n        const files = this.state.files.map(f => (\n            <li key={f.name}>\n                {f.path} - {f.size} bytes\n            </li>\n        ))\n\n        return (\n            <section style={fileListStyle}>\n                <div>\n                    <Dropzone onDrop={this.onDrop}\n                              getDataTransferItems={evt => fromEvent(evt)}\n                    >\n                        {({getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject, acceptedFiles, rejectedFiles}) => {\n                            let styles = {...baseStyle}\n                            styles = isDragActive ? {...styles, ...activeStyle} : styles\n                            styles = isDragReject ? {...styles, ...rejectStyle} : styles\n\n                            return (\n                                <div\n                                    {...getRootProps()}\n                                    style={styles}\n                                >\n                                    <input {...getInputProps()} />\n                                    <div>\n                                        {isDragAccept ? 'Drop' : 'Drag'} files here...\n                                    </div>\n                                    {isDragReject && <div>Unsupported file type...</div>}\n                                </div>\n                            )\n                        }}\n                    </Dropzone>\n                </div>\n                <aside>\n                    <h4>{files.length == 0 ? \"\" : \"Files\"}</h4>\n                    <ul>{files}</ul>\n                </aside>\n                <div>{this.state.msg ? this.state.msg : \"\"}</div>\n            </section>\n        );\n    }\n}","import React, {Component} from 'react';\nimport {Collapse} from 'antd';\nimport {UploadDropzone} from '../upload/UploadDropZone'\nimport 'ant-design-pro/dist/ant-design-pro.css';\nimport {TimelineChart} from 'ant-design-pro/lib/Charts';\nimport {Tabs} from 'antd';\nimport moment from 'moment'\n\n\nconst Panel = Collapse.Panel;\nconst TabPane = Tabs.TabPane;\n\nfunction callback(key) {\n\n}\n\nexport class MLSQLDash extends Component {\n    constructor(props) {\n        super(props);\n        this.queryApp = props.parent\n        this.state = {data: [], dataForRender: [], titleMap: {}}\n    }\n\n    isStream = (data) => {\n        if (data.length < 1) {\n            return false\n        }\n        try {\n            const item = JSON.parse(data[0][\"value\"])\n            if (!item[\"runId\"]) {\n                return false\n            }\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n    renderDash = () => {\n        const data = this.state.data\n        if (!this.isStream(data)) {\n            return <div></div>\n        }\n        return <div>\n            <TimelineChart\n                height={200}\n                data={this.state.dataForRender}\n                titleMap={this.state.titleMap}\n            />\n            <TimelineChart\n                height={200}\n                data={this.state.dataForRender2}\n                titleMap={this.state.titleMap2}\n            />\n        </div>\n    }\n\n    refresh() {\n        try {\n            const data = this.queryApp.queryResData || []\n            this.setState({data: data})\n            this.renderStream()\n        } catch (e) {\n\n        }\n\n    }\n\n    renderStream = () => {\n        const data = this.state.data\n        if (!this.isStream(data)) {\n            return\n        }\n\n        const dataForRender = []\n        const dataForRender2 = []\n        data.forEach((item) => {\n            const jsonItem = JSON.parse(item[\"value\"])\n            dataForRender.push({\n                x: moment.utc(jsonItem.timestamp).toDate().getTime(),\n                y1: jsonItem.inputRowsPerSecond,\n                y2: jsonItem.processedRowsPerSecond\n            })\n\n            dataForRender2.push({\n                x: moment.utc(jsonItem.timestamp).toDate().getTime(),\n                y1: jsonItem.numInputRows\n            })\n        })\n        this.setState({\n            dataForRender: dataForRender,\n            titleMap: {y1: \"inputRowsPerSecond\", y2: \"processedRowsPerSecond\"},\n            dataForRender2: dataForRender2,\n            titleMap2: {y1: \"numInputRows\"}\n        })\n    }\n    renderRawData = () => {\n        const data = this.state.data\n        if (!this.isStream(data)) {\n            return \"\"\n        }\n        const dataForRender = []\n        data.forEach((item) => {\n            const jsonItem = JSON.parse(item[\"value\"])\n            dataForRender.push(JSON.stringify(jsonItem, null, 2))\n        })\n        return dataForRender.join(\"\\n\")\n    }\n\n    render() {\n        return (<Collapse onChange={callback}>\n            <Panel header=\"Tools/Dashboard\" key=\"1\">\n                <Tabs defaultActiveKey=\"1\" onChange={callback}>\n                    <TabPane tab=\"Upload\" key=\"1\">\n                        <UploadDropzone/>\n                    </TabPane>\n                    <TabPane tab=\"Dashboard\" key=\"2\">{this.renderDash()}</TabPane>\n                    <TabPane tab=\"RawData\" key=\"3\"><pre>{this.renderRawData()}</pre></TabPane>\n                </Tabs>\n            </Panel>\n        </Collapse>)\n    }\n\n}","import React, {Component} from 'react';\nimport MLSQLAceEditor from './MLSQLAceEditor'\nimport {ScriptNodeTree} from './MLSQLTreeNode'\nimport './MLSQLQueryApp.scss'\nimport AceEditor from \"react-ace\";\nimport {MLSQLQueryDisplay} from \"./MLSQLQueryDisplay\";\nimport {MLSQLDash} from \"./query/MLSQLDash\";\n\nclass MLSQLQueryApp extends Component {\n\n    constructor(props) {\n        super(props);\n        // create a ref to store the textInput DOM element\n        this.state = {sqlContent: \"\"}\n        this.directoryTree = React.createRef()\n        this.editor = React.createRef()\n        this.messageBox = React.createRef()\n        this.display = React.createRef()\n        this.dash = React.createRef()\n\n    }\n\n    setData = (data) => {\n        this.queryResData = data\n        this.dash.current.refresh()\n    }\n\n    render() {\n        return (\n            <div className=\"mlsql-queryapp\">\n\n                <div className=\"mlsql-directory-tree\">\n                    <ScriptNodeTree ref={this.directoryTree} parent={this}/>\n                </div>\n                <div className=\"mlsql-editor\">\n                    <MLSQLAceEditor ref={this.editor} parent={this}/>\n                    <div className=\"mlsql-messagebox\">\n                        <AceEditor\n                            height={\"100px\"}\n                            width={\"100%\"}\n                            ref={this.messageBox}\n                            mode=\"text\"\n                            theme=\"github\"\n                            name=\"message_box\"\n                        />\n                    </div>\n                    <div>\n                        <MLSQLDash ref={this.dash} parent={this}/>\n                    </div>\n                    <div className=\"mlsql-query-display\">\n                        <MLSQLQueryDisplay ref={this.display} parent={this}/></div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default MLSQLQueryApp","export const VIEW_CLUSTER = \"cluster\"\nexport const VIEW_CONSOLE = \"console\"\nexport const VIEW_DEMO = \"demo\"\nexport const CLUSTER_VIEW_BackendForm = \"BackendForm\"\nexport const CLUSTER_VIEW_BackendList = \"BackendList\"\nexport const CLUSTER_VIEW_SetBackendTags = \"SetBackendTags\"\n\nexport const DEMO_VIEW_BIGDL = \"bigdl\"\nexport const DEMO_VIEW_NLP = \"nlp\"","import * as React from \"react\";\nimport {Button, FormGroup, InputGroup} from \"@blueprintjs/core\";\nimport './BackendForm.scss'\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {CLUSTER_MANAGER} from \"../../service/BackendConfig\";\n\n\nexport default class BackendForm extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {msg: \"\"}\n        this.clusterMainPage = props.parent\n    }\n\n    _submit = () => {\n        const {name, url, tag} = this.state\n        const api = new MLSQLAPI(CLUSTER_MANAGER)\n        const self = this\n        api.request2({\n            action: \"/backend/add\",\n            name: name,\n            tag: tag,\n            url: url\n        }, (json) => {\n            self.clusterMainPage.switchToBackendList()\n        }, (str) => {\n            this.setState({msg: str})\n        })\n    }\n\n    submit = () => {\n        this.validateForm()\n    }\n\n    validateForm = () => {\n        const {name, url, tag} = this.state\n\n        if (!name || !url || !tag) {\n            this.setState({msg: `name, url ,tag should not empty`})\n            return\n        }\n\n        if (!url.includes(\":\")) {\n            this.setState({msg: `${url} should format like: ip/dns:port  `})\n            return\n        }\n\n        const self = this\n        const api = new MLSQLAPI(CLUSTER_MANAGER)\n        api.request2({\n            action: \"/backend/list\"\n        }, (json) => {\n            const nameSet = new Set(json.map(x => x.name))\n\n            if (nameSet.has(name)) {\n                this.setState({msg: `${name} exists`})\n                return\n            }\n\n            self._submit()\n        }, (str) => {\n            this.setState({msg: str})\n        })\n\n    }\n\n    setName = (e) => {\n        this.setState({name: e.target.value})\n    }\n    setTag = (e) => {\n        this.setState({tag: e.target.value})\n    }\n    setUrl = (e) => {\n        this.setState({url: e.target.value})\n    }\n\n    render() {\n        return (<div>\n                <FormGroup\n                    helperText=\"name\"\n                    label=\"the name of backend\"\n                    labelFor=\"name\"\n                    labelInfo=\"(required)\">\n                    <InputGroup id=\"name\" onChange={this.setName} placeholder=\"name\"/>\n                </FormGroup>\n                <FormGroup\n                    helperText=\"multi tag please use comma separate\"\n                    label=\"tag\"\n                    labelFor=\"tag\"\n                    labelInfo=\"(required)\">\n                    <InputGroup id=\"tag\" onChange={this.setTag} placeholder=\"tag\"/>\n                </FormGroup>\n\n                <FormGroup\n                    helperText=\"address\"\n                    label=\"url\"\n                    labelFor=\"url\"\n                    labelInfo=\"(required)\">\n                    <InputGroup id=\"url\" onChange={this.setUrl} placeholder=\"url e.g. 127.0.0.1:9003\"/>\n                </FormGroup>\n\n                <Button type=\"submit\" text=\"Add\" onClick={this.submit}/>\n                {this.state.msg !== \"\" && <div className=\"mlsql-backend-messagebox\">{this.state.msg}</div>}\n            </div>\n        )\n    }\n}","import * as React from \"react\";\nimport {Input, Button, Card, Select} from 'antd';\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {USERS_URL, CLUSTER_MANAGER, USER_TAGS_UPDATE} from \"../../service/BackendConfig\";\nimport {MLSQLAuth} from \"../../user/MLSQLAuth\";\n\nconst gridStyle = {\n    width: '25%',\n    textAlign: 'center',\n};\n\nconst Option = Select.Option;\n\nexport default class SetBackendTagsView extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.mainPage = props.parent\n        this.state = {tags: [], renderTags: [], renderUsers: []}\n        this.tagSelectRef = React.createRef()\n        this.userSelectRef = React.createRef()\n\n\n        const self = this\n        const auth = new MLSQLAuth()\n        auth.user((jsonRes) => {\n            const {userName, backendTags} = jsonRes\n            if (backendTags) {\n                console.log(backendTags.split(\",\"))\n                self.setState({tags: backendTags.split(\",\")})\n            }\n            self.renderTags()\n            self.renderUsers()\n        })\n    }\n\n    /**\n     * This function is written in Prague O(_)O~\n     * I'am happy and maybe this will reduce the bugs in\n     * this code snippet.\n     */\n    renderTags = () => {\n        const self = this\n        const api = new MLSQLAPI(CLUSTER_MANAGER)\n        api.request2({\n            action: \"/backend/list\"\n        }, (json) => {\n            json.forEach((item) => {\n                item[\"tag\"].split(\",\").forEach((tag) => {\n                    self.state.renderTags.push(<Option key={tag}>{tag}</Option>)\n                })\n\n            })\n        }, (failStr) => {\n            self.setState({msg: failStr})\n        })\n    }\n\n    renderUsers = () => {\n        const self = this\n        const api = new MLSQLAPI(USERS_URL)\n        api.request2({}, (json) => {\n            json.forEach((name) => {\n                self.state.renderUsers.push(<Option key={name}>{name}</Option>)\n\n            })\n        }, (failStr) => {\n            self.setState({msg: failStr})\n        })\n\n    }\n\n\n    setTag = (value) => {\n        this.setState({updateTag: value})\n    }\n\n    setUser = (value) => {\n        this.setState({updateUser: value})\n    }\n\n    setDefaultBackend = () => {\n        const self = this\n        const api = new MLSQLAPI(USER_TAGS_UPDATE)\n        const tag = (this.state.updateTag || []).join(\",\")\n        const users = (this.state.updateUser || []).join(\",\")\n        if (tag) {\n            api.request2({\n                backendTags: tag,\n                users: users\n            }, (json) => {\n                self.mainPage.switchToBackendList()\n            }, (failStr) => {\n                self.setState({msg: failStr})\n            })\n        }\n\n    }\n\n    render() {\n        return (\n            <div>\n                Backend Tag:\n\n                <div style={{\"margin\": \"10px 0px\"}}><Select\n                    mode=\"multiple\"\n                    style={{width: '100%'}}\n                    placeholder=\"Please select\"\n                    onChange={this.setTag}\n                    ref={this.tagSelectRef}\n                >\n                    {this.state.renderTags}\n                </Select>\n                </div>\n                For Users:\n                <div style={{\"margin\": \"10px 0px\"}}><Select\n                    mode=\"multiple\"\n                    style={{width: '100%'}}\n                    placeholder=\"Please select\"\n                    onChange={this.setUser}\n                    ref={this.userSelectRef}\n                >\n                    {this.state.renderUsers}\n                </Select>\n                </div>\n\n                <Button type=\"primary\" onClick={() => {\n                    this.setDefaultBackend()\n                }}>Update</Button>\n                <div>\n\n                </div>\n                {this.state.msg && <div className=\"mlsql-backend-messagebox\">{this.state.msg}</div>}\n\n            </div>\n        );\n    }\n}","import * as React from \"react\";\nimport {\n    Layout, Menu, Breadcrumb, Icon, Button\n} from 'antd';\nimport {MLSQLQueryDisplay} from \"../MLSQLQueryDisplay\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {CLUSTER_MANAGER, USER_TAGS_UPDATE} from \"../../service/BackendConfig\";\nimport {CLUSTER_VIEW_BackendForm, CLUSTER_VIEW_BackendList, CLUSTER_VIEW_SetBackendTags} from \"../../common/ViewConst\";\nimport BackendForm from \"./BackendForm\";\nimport SetBackendTagsView from \"./SetBackendTagsView\";\nimport {MLSQLAuth} from \"../../user/MLSQLAuth\";\n\nconst {\n    Header, Content, Footer, Sider,\n} = Layout;\n\nconst SubMenu = Menu.SubMenu;\n\nexport default class MainPage extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            collapsed: false,\n            currentView: CLUSTER_VIEW_BackendList\n        };\n        this.tableDisplayRef = React.createRef()\n        this.backendFormRef = React.createRef()\n        this.setBackendTagsViewRef = React.createRef()\n    }\n\n\n    deleteBackend = (id) => {\n        const self = this\n        const api = new MLSQLAPI(CLUSTER_MANAGER)\n        api.request2({\n            id: id,\n            action: \"/backend/remove\"\n        }, (json) => {\n            self.switchToBackendList()\n        }, (str) => {\n\n        })\n    }\n\n    loadBackends = () => {\n        const self = this\n        const api = new MLSQLAPI(CLUSTER_MANAGER)\n\n        const auth = new MLSQLAuth()\n        auth.user((jsonRes) => {\n            const {userName, backendTags} = jsonRes\n            api.request2({\n                action: \"/backend/list\"\n            }, (json) => {\n\n                json.forEach((item) => {\n                    let activeTag = \"\"\n                    if (backendTags == item[\"tag\"]) {\n                        activeTag = <Button disabled={true} style={{color: \"green\"}}\n                                            type=\"primary\">Active</Button>\n                    }\n                    item[\"status\"] = activeTag\n                    item[\"operator\"] = <div>\n                        <Button type=\"danger\" onClick={() => {\n                            self.deleteBackend(item[\"id\"])\n                        }}>delete</Button>\n                    </div>\n                    delete item[\"tags\"]\n\n                })\n                self.tableDisplayRef.current.update(json, {\n                    render: {\n                        operator: (value) => {\n                            return <span>{value}</span>\n                        },\n                        status: (value) => {\n                            return <span>{value}</span>\n                        }\n                    }\n                })\n            }, (str) => {\n\n            })\n\n        })\n\n\n    }\n\n\n    switchToBackendForm = () => {\n        this.setState({currentView: CLUSTER_VIEW_BackendForm})\n    }\n\n    switchToBackendList = () => {\n        this.setState({currentView: CLUSTER_VIEW_BackendList})\n        this.loadBackends()\n    }\n\n    switchToSetBackendTags = () => {\n        this.setState({currentView: CLUSTER_VIEW_SetBackendTags})\n    }\n\n    renderView = () => {\n        if (this.state.currentView == CLUSTER_VIEW_BackendList) {\n            this.loadBackends()\n            return <MLSQLQueryDisplay ref={this.tableDisplayRef} parent={this}/>\n        }\n        if (this.state.currentView == CLUSTER_VIEW_BackendForm)\n            return <BackendForm ref={this.backendFormRef} parent={this}/>\n\n        if (this.state.currentView == CLUSTER_VIEW_SetBackendTags) {\n            return <SetBackendTagsView ref={this.setBackendTagsViewRef} parent={this}/>\n        }\n    }\n\n    renderViewIndex = () => {\n        if (this.state.currentView == CLUSTER_VIEW_BackendList) {\n            return '1'\n        }\n        if (this.state.currentView == CLUSTER_VIEW_BackendForm)\n            return '2'\n\n        if (this.state.currentView == CLUSTER_VIEW_SetBackendTags) {\n            return '3'\n        }\n        return '1'\n    }\n\n\n    onCollapse = (collapsed) => {\n        this.setState({collapsed});\n    }\n\n    render() {\n        return (\n            <Layout style={{minHeight: '100vh'}}>\n                <Sider\n                    collapsible\n                    collapsed={this.state.collapsed}\n                    onCollapse={this.onCollapse}\n                >\n                    <div className=\"logo\"/>\n                    <Menu theme=\"dark\" defaultSelectedKeys={[this.renderViewIndex()]} mode=\"inline\">\n                        <Menu.Item key=\"1\">\n                            <Icon type=\"desktop\"/>\n                            <span><a style={{color: \"white\"}} onClick={this.switchToBackendList}>List Backend</a></span>\n                        </Menu.Item>\n                        <Menu.Item key=\"2\">\n                            <Icon type=\"desktop\"/>\n                            <span><a style={{color: \"white\"}} onClick={this.switchToBackendForm}>Add Backend</a></span>\n                        </Menu.Item>\n                        <Menu.Item key=\"3\">\n                            <Icon type=\"desktop\"/>\n                            <span><a style={{color: \"white\"}}\n                                     onClick={this.switchToSetBackendTags}>Set Console Backend</a></span>\n                        </Menu.Item>\n                    </Menu>\n                </Sider>\n                <Layout>\n                    <Header style={{background: '#fff', padding: 0}}/>\n                    <Content style={{margin: '0 16px'}}>\n                        <Breadcrumb style={{margin: '16px 0'}}>\n                            <Breadcrumb.Item></Breadcrumb.Item>\n                        </Breadcrumb>\n                        <div style={{padding: 24, background: '#fff', minHeight: 360}}>\n                            {this.renderView()}\n                        </div>\n                    </Content>\n                    <Footer style={{textAlign: 'center'}}>\n\n                    </Footer>\n                </Layout>\n            </Layout>\n        );\n    }\n}","import * as React from \"react\";\nimport MainPage from './MainPage'\n\nexport class ClusterApp extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n\n        return (\n            <div>\n                <MainPage/>\n            </div>\n        )\n    }\n}","import * as React from \"react\";\nimport {Steps, Button, message, List} from 'antd';\nimport MLSQLAceEditor from \"../MLSQLAceEditor\";\nimport '../MLSQLQueryApp.scss'\nimport AceEditor from \"react-ace\";\nimport {MLSQLDash} from \"../query/MLSQLDash\";\nimport {MLSQLQueryDisplay} from \"../MLSQLQueryDisplay\";\n\nconst Step = Steps.Step;\nconst ReactMarkdown = require('react-markdown')\n\n\nexport default class BigDL extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            current: 0,\n        }\n        this.editor = React.createRef()\n        this.dash = React.createRef()\n        this.display = React.createRef()\n        this.messageBox = React.createRef()\n\n        this.techData = this.generateTechData()\n        this.commandData = this.generateCommandData()\n        this.steps = this.generateSteps()\n    }\n\n    generateView(step) {\n        return <div style={{marginTop: \"30px\"}}>\n            {this.techData[step].length > 0 && <List\n                header={<div>How to do:</div>}\n                footer={<div>Congratulations</div>}\n                bordered\n                dataSource={this.techData[step]}\n                renderItem={item => (<List.Item>{item}</List.Item>)}\n            />}\n\n            <div className=\"mlsql-queryapp\">\n                <div className=\"mlsql-editor\">\n                    <MLSQLAceEditor ref={this.editor} parent={this}/>\n                    <div className=\"mlsql-messagebox\">\n                        <AceEditor\n                            height={\"100px\"}\n                            width={\"100%\"}\n                            ref={this.messageBox}\n                            mode=\"text\"\n                            theme=\"github\"\n                            name=\"message_box\"\n                        />\n                    </div>\n                    <div>\n                        <MLSQLDash ref={this.dash} parent={this}/>\n                    </div>\n                    <div className=\"mlsql-query-display\">\n                        <MLSQLQueryDisplay ref={this.display} parent={this}/></div>\n                </div>\n            </div>\n        </div>\n    }\n\n    generateSteps() {\n        return [{\n            title: 'Download Cifar10 Images',\n            content: this.generateView(0),\n        }, {\n            title: 'Resize Images',\n            content: this.generateView(1),\n        }, {\n            title: 'Extract Label',\n            content: this.generateView(2),\n        }, {\n            title: 'Train',\n            content: this.generateView(3),\n        }, {\n            title: 'Predict',\n            content: this.generateView(4),\n        }];\n    }\n\n    setData = (data) => {\n        this.queryResData = data\n        this.dash.current.refresh()\n    }\n\n    getEditor = () => {\n        return this.editor.current.aceEditorRef.current.editor\n    }\n\n    componentDidMount() {\n        setTimeout(() => {\n            this.getEditor().setValue(this.commandData[0], -1)\n        }, 1000)\n    }\n\n    next() {\n        const current = this.state.current + 1;\n        this.setState({current});\n        setTimeout(() => {\n            this.getEditor().setValue(this.commandData[current], -1)\n        }, 1000)\n\n    }\n\n    prev() {\n        const current = this.state.current - 1;\n        this.setState({current});\n        setTimeout(() => {\n            this.getEditor().setValue(this.commandData[current], -1)\n        }, 1000)\n    }\n\n    render() {\n        const {current} = this.state;\n        return (\n            <div>\n                <div className=\"steps-action\" style={{marginBottom: \"30px\"}}>\n                    {\n                        current < this.steps.length - 1\n                        && <Button type=\"primary\" onClick={() => this.next()}>Next Step</Button>\n                    }\n                    {\n                        current === this.steps.length - 1\n                        && <Button type=\"primary\" onClick={() => message.success('Processing complete!')}>Done</Button>\n                    }\n                    {\n                        current > 0\n                        && (\n                            <Button style={{marginLeft: 8}} onClick={() => this.prev()}>\n                                Previous Step\n                            </Button>\n                        )\n                    }\n                </div>\n                <Steps current={current}>\n                    {this.steps.map(item => <Step key={item.title} title={item.title}/>)}\n                </Steps>\n                <div className=\"steps-content\">{this.steps[current].content}</div>\n\n            </div>\n        );\n    }\n\n    generateTechData() {\n        return [\n            [\n                \"Step 0: Clear the content in editor\",\n                \"Step 1: Click Quick Menu\",\n                \"Step 2: Drag Tools/Download uploaded file to Editor\",\n                \"Step 3: An dialog will be opened, fill field [from] with 'public/cifar.tar' and field [to] with '/tmp'\",\n                \"Step 4: Click Ok in dialog\",\n                \"Step 5: Click button Run(Since there are so many files, it will take a while.)\"\n            ],\n            [\n                \"Step 0: Clear the content in editor\",\n                \"Step 1: Click Quick Menu\",\n                \"Step 2: Drag Tools/Load images\",\n                <ReactMarkdown source={\"Step 3: An dialog will be opened\\n\" +\n                \"fill field [Output table] with 'images'\\n\" +\n                \"field [imageDir]  with '/tmp/cifar/train'\\n\" +\n                \"field [code]  with \\n\" +\n                \"\\n\" +\n                \"```scala\\n\" +\n                \"def apply(params:Map[String,String]) = {\\n\" +\n                \"         Resize(256, 256) -> CenterCrop(224, 224) ->\\n\" +\n                \"          MatToTensor() -> ImageFrameToSample()\\n\" +\n                \"       }\\n\" +\n                \"```\"}/>,\n                \"Step 4: Click Ok in dialog\",\n                \"Step 5: Click button Run\"\n            ],\n            [\n                \"Step 0: Use set statement to set a variable named labelMappingPath.\",\n                \"Step 1: extract the class name from path\",\n                \"Step 2: map label string to number\",\n                \"Step 3: add 1 to label number since the bigdl requires that.\",\n                \"Step 4: finally, we get features and label\",\n                \"Step 5: Click button Run\"\n            ],\n            [\n                \"Step 0: Clear the content in editor\",\n                \"Step 1: Click Quick Menu\",\n                \"Step 2: Drag Algorithms/Deep Learning\",\n                <ReactMarkdown source={\"Step 3: An dialog will be opened  \\n\" +\n                \"fill field [tableName] with 'trainData'  \\n\" +\n                \"field [Model save path]  with '/tmp/bigdl' \\n\" +\n                \"field [code]  with    \\n\" +\n                \"```scala  \\n\" +\n                \" def apply(params:Map[String,String])={\\n\" +\n                \"                        val model = Sequential()\\n\" +\n                \"                        model.add(Reshape(Array(3, 28, 28), inputShape = Shape(28, 28, 3)))\\n\" +\n                \"                        model.add(Convolution2D(6, 5, 5, activation = \\\"tanh\\\").setName(\\\"conv1_5x5\\\"))\\n\" +\n                \"                        model.add(MaxPooling2D())\\n\" +\n                \"                        model.add(Convolution2D(12, 5, 5, activation = \\\"tanh\\\").setName(\\\"conv2_5x5\\\"))\\n\" +\n                \"                        model.add(MaxPooling2D())\\n\" +\n                \"                        model.add(Flatten())\\n\" +\n                \"                        model.add(Dense(100, activation = \\\"tanh\\\").setName(\\\"fc1\\\"))\\n\" +\n                \"                        model.add(Dense(params(\\\"classNum\\\").toInt, activation = \\\"softmax\\\").setName(\\\"fc2\\\"))\\n\" +\n                \"                    }\" +\n                \"```  \\n\"}/>,\n                \"Step 4: Click Ok in dialog\",\n                <ReactMarkdown source={\"Step 5: modify the where statement, add \\n\" +\n                \"```\\n\" +\n                \"fitParam.0.featureSize=\\\"[3,28,28]\\\"\\n\" +\n                \"and fitParam.0.classNum=\\\"10\\\"\\n\" +\n                \"and fitParam.0.maxEpoch=\\\"50\\\"\\n\" +\n                \"```\"}/>,\n                \"Step 6: Click button Run\"\n            ],\n            []\n        ]\n    }\n\n    generateCommandData() {\n        return [\n            `run command as DownloadExt.\\`\\` where \n            from=\"public/cifar.tar\" \n            and to=\"/tmp\";`.stripMargin(),\n\n\n            `run command as ImageLoaderExt.\\`/tmp/cifar/train\\` \n            where code='''\n        def apply(params:Map[String,String]) = {\n         Resize(256, 256) -> CenterCrop(224, 224) ->\n          MatToTensor() -> ImageFrameToSample()\n       }''' as images;`.stripMargin(),\n\n\n            `-- convert image path to number label \n            set labelMappingPath = \"/tmp/si\"; \n            select split(split(imageName,\"_\")[1],\"\\\\\\\\.\")[0] as labelStr,features from images as tempData;\n            --convert the label string to number \n            train tempData as StringIndex.\\`\\${labelMappingPath}\\` where inputCol=\"labelStr\" and outputCol=\"labelIndex\";\n            predict tempData as StringIndex.\\`\\${labelMappingPath}\\` as tempData;\n            -- Since the bigdl need label number from 1, we should plus one\n            select (cast(labelIndex as float) + 1) as label,features from tempData as trainData;`.stripMargin(),\n\n\n            `--train with LeNet5 model\n            set modelPath = \"/tmp/bigdl\";            \n            train trainData as BigDLClassifyExt.\\`\\${modelPath}\\` where\n            fitParam.0.featureSize=\"[3,28,28]\"\n            and fitParam.0.classNum=\"10\"\n            and fitParam.0.maxEpoch=\"50\"\n            and fitParam.0.code='''\n            |       def apply(params:Map[String,String])={\n            |            val model = Sequential()\n            |            model.add(Reshape(Array(3, 28, 28), inputShape = Shape(28, 28, 3)))\n            |            model.add(Convolution2D(6, 5, 5, activation = \"tanh\").setName(\"conv1_5x5\"))\n            |            model.add(MaxPooling2D())\n            |            model.add(Convolution2D(12, 5, 5, activation = \"tanh\").setName(\"conv2_5x5\"))\n            |            model.add(MaxPooling2D())\n            |            model.add(Flatten())\n            |            model.add(Dense(100, activation = \"tanh\").setName(\"fc1\"))\n            |            model.add(Dense(params(\"classNum\").toInt, activation = \"softmax\").setName(\"fc2\"))\n            |        }''';\n            `.stripMargin(),\n\n            `set modelPath = \"/tmp/bigdl\";\n            \n            -- batch predict            \n            predict trainData as BigDLClassifyExt.\\`\\${modelPath}\\` as predictdata;\n            \n            -- register BigDLClassifyExt.\\`/tmp/bigdl\\` as cifarPredict;\n            select vec_argmax(cifarPredict(vec_dense(features))) as predicted_label,\n            label from trainData\n            as output;`.stripMargin()\n\n\n        ]\n    }\n}","import * as React from \"react\";\nimport BigDL from \"./BigDL\";\n\nconst ReactMarkdown = require('react-markdown')\n\nexport class NLP extends BigDL {\n\n    constructor(props) {\n        super(props)\n    }\n\n    generateSteps() {\n        return [{\n            title: 'Download Dataset SogouCS.WWW08',\n            content: this.generateView(0),\n        }, {\n            title: 'Parse the xml file',\n            content: this.generateView(1),\n        }, {\n            title: 'Extract Label',\n            content: this.generateView(2),\n        }, {\n            title: 'Run TFIDF',\n            content: this.generateView(3),\n        }, {\n            title: 'Train/Register',\n            content: this.generateView(4),\n        }, {\n            title: 'Predict',\n            content: this.generateView(5),\n        }];\n    }\n\n    generateTechData() {\n        return [\n            [\n                \"Step 0: Clear the content in editor\",\n                \"Step 1: Click Quick Menu\",\n                \"Step 2: Drag Tools/Download uploaded file to Editor\",\n                \"Step 3: An dialog will be opened, fill field [from] with 'public/SogouCS.reduced.tar' and field [to] with '/tmp/nlp/sogo'\",\n                \"Step 4: Click Ok in dialog\",\n                \"Step 5: Click button Run(it will take a while.)\"\n            ],\n            [\n                \"Step 0: Clear the content in editor\",\n                \"Step 1: Click Quick Menu\",\n                \"Step 2: Drag Load/Save Data/Load data\",\n                <ReactMarkdown source={`\n                |\n                |Step 3: An dialog will be opened,\n                |fill field [path] with '/tmp/nlp/sogo' and field [Output table] with 'xmlData',\n                |specify rowTag to doc and charset to GBK\n                |\"\n                |\n                `.stripMargin()}/>,\n                \"Step 4: Click Ok in dialog\",\n                \"Step 5: Click button Run(it will take a while.)\"\n            ],\n            [\n                <ReactMarkdown source={`\n                | Step 0: We will treat url as label source, we use SQL to extract label from url:\n                |\n                |\n                |\\`\\`\\`\n                |-- http://sports.sohu.com/20070422/n249599819.shtml extract sports from url\n                |select temp.* from (select split(split(url,\"/\")[2],\"\\\\\\\\.\")[0] as labelStr,content from xmlData) as temp\n                |where temp.labelStr is not null\n                |as rawData;\n                |\\`\\`\\`\n                |\n                |For now , the label is string, we should convert them to number\n\n                `.stripMargin()}/>,\n\n                <ReactMarkdown source={`\n                |Step 1:  Drag Tools/Convert String to number, a dialog will open,\n                |\n                |\\`\\`\\`\n                |     1. set Input table as rawData,\n                |     2. Set save path as /tmp/nlp/label_mapping\n                |     3. Set inputCol as labelStr\n                |     4. Set outputCol as label\n                |     5. set Output table as rawDataWithLabel\n                |     6. set functionName table as rawDataWithLabel\n                |\\`\\`\\`\n                |We can use the functionName in SQL to convert String to number or number to String.\n                `.stripMargin()}/>\n            ],\n            [\n                <ReactMarkdown source={`\n                |Step 0:  Drag Algorithms/TfIdf, a dialog will open,\n                |\n                |\\`\\`\\`\n                |         1. set Input table as rawDataWithLabel,\n                |         2. Set save path as /tmp/nlp/tfidf\n                |         3. Set inputCol as content\n                |         4. Set nGrams as 2\n                |         5. set Output table as trainData\n                |\\`\\`\\`\n                |Click Ok in dialog\n                `.stripMargin()}/>,\n                <ReactMarkdown source={`\n                |Step 1:  Drag [Register model as Function]/[Register Model As Function], a dialog will open,\n                |\n                |\\`\\`\\`\n                |         1. set Function name  as tfidf_predict,\n                |         2. Set Model saved path as /tmp/nlp/tfidf\n                |         3. Set et as TfIdfInPlace\n                |\\`\\`\\`\n                |Click Ok in dialog\n                `.stripMargin()}/>,\n\n                \"Step 2: Click button Run(it will take a while.)\"\n\n            ],\n            [\n                <ReactMarkdown source={`\n                |Step 0:  Drag Algorithms/RandomForest, a dialog will open,\n                |\n                |\\`\\`\\`\n                |         1. set tableName as trainData,\n                |         2. Set Model save path as /tmp/nlp/rf\n                |\\`\\`\\`\n                |Click Ok in dialog\n                `.stripMargin()}/>,\n                <ReactMarkdown source={`\n                |Step 1:  Drag [Register model as Function]/[Register Model As Function], a dialog will open,\n                |\n                |\\`\\`\\`\n                |         1. set Function name  as rf_predict,\n                |         2. Set Model saved path as /tmp/nlp/rf\n                |         3. Set et as RandomForest\n                |\\`\\`\\`\n                |Click Ok in dialog\n                `.stripMargin()}/>,\n\n                \"Step 2: Click button Run(it will take a while.)\"\n\n            ],\n            [\n                <ReactMarkdown source={`\n                |Paste:\n                |\n                |\\`\\`\\`sql\n                |select rf_predict(tfidf_predict(\"china is cool\")) as predicted as output;\n                |\\`\\`\\`\n                `.stripMargin()}/>,\n                \"Step 2: Click button Run(it will take a while.)\"\n\n            ]\n\n        ]\n\n    }\n\n    generateCommandData() {\n        return [\n            `run command as DownloadExt.\\`\\` where \n             |from=\"public/SogouCS.reduced.tar\" and\n             |to=\"/tmp/nlp/sogo\";`.stripMargin(),\n\n            `load xml.\\`/tmp/nlp/sogo\\` where rowTag=\"doc\" and charset=\"GBK\" as xmlData; `.stripMargin(),\n\n            `-- http://sports.sohu.com/20070422/n249599819.shtml extract sports from url\n            |select temp.* from (select split(split(url,\"/\")[2],\"\\\\\\\\.\")[0] as labelStr,content from xmlData) as temp \n            |where temp.labelStr is not null \n            |as rawData;\n            |-- select distinct(split(split(url,\"/\")[2],\"\\\\\\\\.\")[0]) as labelStr from rawData as output;\n            |-- select split(split(url,\"/\")[2],\"\\\\\\\\.\")[0] as labelStr,url from rawData as output;\n            |\n            |run rawData as StringIndex.\\`/tmp/nlp/label_mapping\\` where inputCol=\"labelStr\"and\n            |outputCol=\"label\" ;\n            |predict rawData as StringIndex.\\`/tmp/nlp/label_mapping\\` as rawDataWithLabel;\n            |register StringIndex.\\`/tmp/nlp/label_mapping\\` as convert_label; `.stripMargin(),\n\n\n            `train rawDataWithLabel as TfIdfInPlace.\\`/tmp/nlp/tfidf\\` where inputCol=\"content\"\n            |and nGrams=\"2\" as trainData;\n            |\n            |register TfIdfInPlace.\\`/tmp/nlp/tfidf\\` as tfidf_predict;`.stripMargin(),\n\n            `train trainData as RandomForest.\\`/tmp/nlp/rf\\` where \n            |keepVersion=\"true\";\n            |\n            |register RandomForest.\\`/tmp/nlp/rf\\` as rf_predict;`.stripMargin(),\n\n            `select rf_predict(tfidf_predict(\"china is cool\")) as predicted as output;`.stripMargin()\n        ]\n    }\n\n}","import * as React from \"react\";\nimport {DEMO_VIEW_BIGDL, DEMO_VIEW_NLP} from \"../../common/ViewConst\";\nimport BigDL from \"./BigDL\";\nimport {NLP} from \"./NLP\";\n\nexport class Demos extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            currentView: DEMO_VIEW_BIGDL\n        }\n    }\n\n    renderView = () => {\n        if (this.state.currentView === DEMO_VIEW_BIGDL) {\n            return <BigDL/>\n        }\n        if (this.state.currentView === DEMO_VIEW_NLP) {\n            return <NLP/>\n        }\n        return null\n    }\n\n    render() {\n        return this.renderView()\n    }\n}","import * as React from \"react\";\nimport {\n    Layout, Menu, Breadcrumb, Icon, Button\n} from 'antd';\nimport {DEMO_VIEW_BIGDL, DEMO_VIEW_NLP} from \"../../common/ViewConst\";\nimport BigDL from \"./BigDL\";\nimport {NLP} from \"./NLP\";\nimport {Demos} from \"./Demos\";\n\nconst {\n    Header, Content, Footer, Sider,\n} = Layout;\n\n\nexport default class MainPage extends React.Component {\n    constructor(props) {\n        super(props)\n        this.demosRef = React.createRef()\n\n    }\n\n    switchToBigDL = () => {\n        this.demosRef.current.setState({currentView: DEMO_VIEW_BIGDL})\n    }\n    switchToNLP = () => {\n        this.demosRef.current.setState({currentView: DEMO_VIEW_NLP})\n    }\n\n\n    render() {\n        return (\n            <Layout style={{minHeight: '100vh'}}>\n                <Sider>\n                    <div className=\"logo\"/>\n                    <Menu theme=\"dark\" defaultSelectedKeys={[\"1\"]} mode=\"inline\">\n                        <Menu.Item key=\"1\">\n                            <Icon type=\"desktop\"/>\n                            <span><a style={{color: \"white\"}} onClick={this.switchToBigDL}>Cifar10</a></span>\n                        </Menu.Item>\n                        <Menu.Item key=\"2\">\n                            <Icon type=\"desktop\"/>\n                            <span><a style={{color: \"white\"}} onClick={this.switchToNLP}>NLP</a></span>\n                        </Menu.Item>\n                    </Menu>\n                </Sider>\n                <Layout>\n                    <Header style={{background: '#fff', padding: 0}}/>\n                    <Content style={{margin: '0 16px'}}>\n                        <div style={{padding: 24, background: '#fff', minHeight: 360}}>\n                            <Demos ref={this.demosRef}/>\n                        </div>\n                    </Content>\n                    <Footer style={{textAlign: 'center'}}>\n\n                    </Footer>\n                </Layout>\n            </Layout>\n        );\n    }\n}","import * as React from \"react\";\nimport MainPage from \"./demo/MainPage\";\n\nexport class MLSQLDemoApp extends React.Component {\n    constructor(props) {\n        super(props)\n    }\n\n    render() {\n\n        return (\n            <div>\n                <MainPage/>\n            </div>\n        )\n    }\n}","import * as React from \"react\";\nimport {FormGroup, InputGroup, Button, Navbar} from '@blueprintjs/core'\nimport './MLSQLRegister.scss'\nimport {MLSQLAuth as Auth} from './MLSQLAuth'\nimport * as HTTP from \"../service/HTTPMethod\";\nimport MLSQLQueryApp from \"../components/MLSQLQueryApp\";\nimport {VIEW_CLUSTER, VIEW_CONSOLE, VIEW_DEMO} from \"../common/ViewConst\";\nimport {ClusterApp} from \"../components/cluster/ClusterApp\";\nimport {MLSQLDemoApp} from \"../components/MLSQLDemoApp\";\n\n\nexport const LOGIN = \"login\"\nexport const REGISTER = \"register\"\n\nexport class WelcomeMessage extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.auth = new Auth()\n        this.state = {isLogin: this.auth.isLogin()}\n        this.app = this.props.parent\n        this.auth.userName((name) => {\n            this.setState({userName: name})\n        })\n\n    }\n\n    getLoginOrRegisterManager = () => {\n        return this.app.registerOrLoginRef.current\n    }\n\n\n    logout = () => {\n        this.auth.logout()\n        this.app.updateLoginoutStatus()\n    }\n\n    login = () => {\n        this.logout()\n        this.getLoginOrRegisterManager().setState({loginType: LOGIN})\n    }\n\n    register = () => {\n        this.logout()\n        this.getLoginOrRegisterManager().setState({loginType: REGISTER})\n    }\n\n    updateLoginoutStatus = () => {\n        this.setState({isLogin: this.auth.isLogin()})\n    }\n\n    render() {\n        const LoginButton = <Button className=\"bp3-minimal\" icon=\"log-in\" text=\"Login\" onClick={this.login}/>\n\n        const LogoutButton = <Button className=\"bp3-minimal\" icon=\"log-out\" text=\"Logout\"\n                                     onClick={this.logout}/>\n\n        const RegisterButton = <Button className=\"bp3-minimal\" icon=\"intersection\" text=\"Register\"\n                                       onClick={this.register}/>\n        return (\n            <div>{this.state.isLogin ? \"welcome  \" + this.state.userName : \"\"}\n                {this.state.isLogin ? LogoutButton : LoginButton}\n                {RegisterButton}\n            </div>\n        )\n    }\n}\n\nexport class MLSQLRegisterOrLogin extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.auth = new Auth()\n        this.app = this.props.parent\n\n        this.state = {\n            registerOrLoginSuccess: false,\n            msg: \"\",\n            isLogin: this.auth.isLogin(),\n            loginType: this.props.loginType || LOGIN\n        }\n\n\n    }\n\n    currentView = () => {\n        return this.app.state.currentView\n    }\n\n\n    render() {\n        if (this.state.isLogin && this.currentView() === VIEW_CONSOLE) return <MLSQLQueryApp/>\n        if (this.state.isLogin && this.currentView() === VIEW_CLUSTER) return <ClusterApp/>\n        if (this.state.isLogin && this.currentView() === VIEW_DEMO) return <MLSQLDemoApp/>\n            return (\n                <div className=\"mlsql-register\">\n                    <div className=\"mlsql-register-form\">\n                        <FormGroup\n                            helperText=\"email\"\n                            label=\"userName\"\n                            labelFor=\"userName\"\n                            labelInfo=\"(required)\">\n                            <InputGroup id=\"userName\" placeholder=\"email\" onChange={this.userName}/>\n                        </FormGroup>\n                        <FormGroup\n                            helperText=\"password\"\n                            label=\"password\"\n                            labelFor=\"password\"\n                            labelInfo=\"(required)\">\n                            <InputGroup id=\"password\" type=\"password\" placeholder=\"password\" onChange={this.password}/>\n                        </FormGroup>\n\n                        <Button type=\"submit\" text={this.state.loginType === LOGIN ? \"Login\" : \"Register\"}\n                                onClick={this.state.loginType === LOGIN ? this.login : this.register}/>\n                        {this.state.msg !== \"\" && <div className=\"mlsql-register-messagebox\">{this.state.msg}</div>}\n                    </div>\n\n                </div>\n            )\n    }\n\n    userName = (e) => {\n        this.setState({userName: e.target.value})\n    }\n\n    password = (e) => {\n        this.setState({password: e.target.value})\n    }\n\n    updateLoginoutStatus = () => {\n        this.setState({isLogin: this.auth.isLogin()})\n    }\n\n    /**\n     * @param  {APIResponse} apiResponse\n     */\n    registerSuccess = (apiResponse) => {\n\n        if (apiResponse.status === HTTP.Status.Success) {\n            this.setState({\n                registerOrLoginSuccess: true\n            })\n            this.app.updateLoginoutStatus()\n        } else {\n            const self = this;\n            const log = (s) => {\n                let msg = s;\n                try {\n                    msg = JSON.parse(s)[\"msg\"]\n                } catch (e) {\n                }\n                self.setState({msg: msg})\n            }\n            apiResponse.content.then(log).catch(log)\n\n        }\n\n    }\n\n    /**\n     *\n     * @param {ServerError} serverError\n     */\n    registerFail = (serverError) => {\n        this.setState({msg: serverError.value.message})\n    }\n\n    login = () => {\n        const validator = new FormValidate(this)\n        if (validator.validate()) {\n            this.auth.login(\n                this.state.userName,\n                this.state.password, this.registerSuccess, this.registerFail)\n        }\n    }\n\n    register = () => {\n        const validator = new FormValidate(this)\n        if (validator.validate()) {\n            this.auth.register(\n                this.state.userName,\n                this.state.password, this.registerSuccess, this.registerFail)\n        }\n    }\n}\n\n\nclass FormValidate {\n\n    /**\n     *\n     * @param  {{registerSuccess: boolean, msg: string, userName: string, password: string}} state\n     * @param {MLSQLRegisterOrLogin} parent\n     */\n    constructor(parent) {\n        this.parent = parent\n    }\n\n    validate() {\n        return this.validateUserName() && this.validatePassword()\n    }\n\n\n    validateUserName() {\n        const pattern = /[a-zA-Z0-9]+[\\.]?([a-zA-Z0-9]+)?[\\@][a-z]{3,9}[\\.][a-z]{2,5}/g;\n        const isEmail = pattern.test(this.parent.state.userName);\n        if (!isEmail) {\n            this.parent.setState({msg: \"userName should be email\"})\n        }\n        return isEmail\n    }\n\n    validatePassword() {\n        const normal = this.parent.state.password.length >= 4\n        if (!normal) {\n            this.parent.setState({\"msg\": \"the length of password should > 4\"})\n        }\n        return normal\n    }\n\n\n}\n\n","import React, {Component} from 'react';\nimport './App.scss';\nimport {Alignment, Button, Navbar} from \"@blueprintjs/core\";\nimport {notification} from 'antd';\nimport {LOGIN, MLSQLRegisterOrLogin, WelcomeMessage} from \"./user/MLSQLRegisterOrLogin\";\nimport {VIEW_CLUSTER, VIEW_CONSOLE, VIEW_DEMO} from \"./common/ViewConst\"\nimport {MLSQLAuth} from \"./user/MLSQLAuth\";\n\nconst s = require('stripmargin');\ns.inject()\n\nconst openNotificationWithIcon = (type, message, description) => {\n    notification[type]({\n        message: message,\n        description: description\n    });\n};\n\nclass App extends Component {\n    constructor(props) {\n        super(props)\n        this.menuRef = React.createRef()\n        this.registerOrLoginRef = React.createRef()\n        this.state = {currentView: VIEW_CONSOLE}\n    }\n\n    updateLoginoutStatus = () => {\n        this.menuRef.current.updateLoginoutStatus()\n        this.registerOrLoginRef.current.updateLoginoutStatus()\n    }\n\n    switchToCluster = () => {\n        const auth = new MLSQLAuth()\n        const self = this\n        auth.user((user) => {\n            console.log(user[\"role\"])\n            if (user[\"role\"] == \"admin\") {\n                self.setState({currentView: VIEW_CLUSTER})\n            } else {\n                openNotificationWithIcon(\"error\", \"Auth Fail\", \"You are not allow to visit Cluster Manager\")\n            }\n        })\n\n    }\n\n    switchToConsole = () => {\n        this.setState({currentView: VIEW_CONSOLE})\n    }\n\n    switchToDemo = () => {\n        this.setState({currentView: VIEW_DEMO})\n    }\n\n    switchToCnDoc = () => {\n        window.open(\"http://docs.mlsql.tech/zh/\", \"_blank\")\n    }\n\n\n    render() {\n        return (\n            <div>\n                <Navbar>\n                    <Navbar.Group align={Alignment.LEFT}>\n                        <Navbar.Heading>MLSQL Web Console</Navbar.Heading>\n                        <Navbar.Divider/>\n                        <Button className=\"bp3-minimal\" icon=\"home\" text=\"Console\" onClick={this.switchToConsole}/>\n                        <Button className=\"bp3-minimal\" icon=\"document\" text=\"Demo Center\" onClick={this.switchToDemo}/>\n                        <Button className=\"bp3-minimal\" icon=\"document\" text=\"Cluster\" onClick={this.switchToCluster}/>\n                        <Button className=\"bp3-minimal\" icon=\"document\" text=\"\"\n                                onClick={this.switchToCnDoc}/>\n                    </Navbar.Group>\n                    <Navbar.Group align={Alignment.RIGHT}>\n                        <WelcomeMessage ref={this.menuRef} parent={this}/>\n                    </Navbar.Group>\n                </Navbar>\n                <MLSQLRegisterOrLogin ref={this.registerOrLoginRef} parent={this} loginType={LOGIN}/>\n                <div style={{bottom: \"100px\", textAlign: \"center\", width: \"100%\"}}>\n                    MLSQL Licensed under the Apache License, Version 2.0. @<a className=\"copyright\"\n                                                                              href=\"http://www.miitbeian.gov.cn/\">ICP18052520</a>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './mlsql.scss';\nimport './index.scss';\n\nimport * as serviceWorker from './serviceWorker';\nimport App from \"./App\";\n\nReactDOM.render(\n    <App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}