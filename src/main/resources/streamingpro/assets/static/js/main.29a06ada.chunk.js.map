{"version":3,"sources":["serviceWorker.js","v1/app_console/actions/SwitchAction.js","v1/UIMaker.js","v1/app_console/actions/CheckLoginedAction.js","v1/app_console/actions/AppConsoleReducer.js","v1/app_console/pages/ConsoleHeader.js","v1/app_setup/actions/app/RegisterAction.js","v1/app_console/login_register/actions/LoginAction.js","v1/app_console/login_register/actions/LoginRegisterReducer.js","v1/AlertBox.js","v1/app_console/login_register/Register.js","v1/app_console/login_register/Login.js","v1/service/CodeIntellegence.js","service/HTTPMethod.js","service/BackendConfig.js","user/MLSQLAuth.js","service/MLSQLAPI.js","components/et/ButtonToCommand.js","v1/comp_op/EditorOp.js","v1/comp_op/ConsoleOp.js","v1/service/EngineService.js","v1/async_execute/AsyncExecuter.js","v1/async_execute/JobProgress.js","v1/async_execute/ResourceProgress.js","v1/app_console/pages/EngineSelectComp.js","components/MLSQLAceEditor.js","common/tool.js","components/MLSQLQueryDisplay.js","components/upload/UploadDropZone.js","components/dash/MLSQLScatterChart.js","components/dash/MLSQLLineChart.js","components/dash/MLSQLStream.js","components/dash/MLSQLHTML.js","v1/async_execute/QueryHistory.js","components/query/MLSQLDash.js","components/notebook/CodeBlock.js","components/notebook/CommandGroup.js","components/notebook/service/Engine.js","components/notebook/DataTable.js","components/notebook/DisplayGroup.js","components/notebook/ExecuteUnit.js","components/notebook/NoteBook.js","common/LogMonitor.js","components/python/PythonACE.js","components/python/PythonEditor.js","components/editor/TabEditor.js","components/et/ETLoadParams.js","common/Tools.js","components/et/ETPopLoad.js","components/et/ETPopAlgorithm.js","components/et/ETPopSave.js","components/et/ETBaseTool.js","components/et/ETPopTool.js","components/et/ETPopDownload.js","components/et/ETPopScriptUDF.js","components/et/ETExample.js","components/et/ETRegister.js","components/et/ETStringIndex.js","components/et/ETDownloadFile.js","components/et/ETStreamProgress.js","components/et/ETPop.js","components/et/MLSQLETQuick.js","v1/detla_lake/DeltaLakeTree.js","v1/file_system/FileSystemTree.js","v1/analysis/common/CommonHandlers.js","v1/script_console/actions/OpenScriptFileAction.js","v1/script_console/actions/CreateFileAction.js","v1/script_console/actions/ExpandAction.js","v1/script_console/actions/DeleteFileAction.js","v1/script_console/actions/ScriptTreeReducer.js","service/MLSQLTreeBuilder.js","v1/SpinBox.js","v1/script_console/pages/ContextMenu.js","v1/script_console/ScriptTree.js","v1/async_execute/LeftTreePane.js","components/MLSQLQueryApp.js","common/mixin.js","v1/analysis/NewSessionOp.js","v1/analysis/AFileSystemTree.js","v1/analysis/ADeltaLakeTree.js","v1/analysis/workshop_tables/actions/LoadAction.js","v1/analysis/workshop_tables/actions/OpenAction.js","v1/analysis/workshop_tables/actions/DeleteAction.js","v1/analysis/workshop_tables/actions/WorkshopTablesReducer.js","v1/analysis/workshop_tables/WorkshopTables.js","v1/analysis/hive/actions/LoadAction.js","v1/analysis/hive/actions/OpenAction.js","v1/analysis/hive/actions/SearchAction.js","v1/analysis/hive/actions/HiveTablesReducer.js","v1/analysis/hive/HiveTables.js","v1/analysis/leftview.js","v1/analysis/WorkshopOp.js","v1/analysis/WorkshopAutoSql.js","v1/analysis/ApplyOrSave.js","v1/analysis/commonops/StationCommonOp.js","v1/analysis/join/SelectJoinField.js","v1/analysis/project/SelectFields.js","v1/analysis/join/SelectProjectFields.js","v1/analysis/join/SelectJoinTable.js","v1/analysis/join/JoinStation.js","v1/analysis/ColumnOperate.js","v1/analysis/agg/AggStationOp.js","v1/analysis/FuncDesc.js","v1/analysis/ApplyFuncToField.js","v1/analysis/agg/AggStation.js","v1/analysis/project/RenameFields.js","v1/analysis/project/FunctionField.js","v1/analysis/project/ProjectStationSQLOp.js","v1/analysis/order/actions/RemoveFieldAction.js","v1/analysis/order/actions/AddFieldAction.js","v1/analysis/common/ApplyActionUtils.js","v1/analysis/project/actions/CastAction.js","v1/analysis/project/actions/CastFieldsReducer.js","v1/apply_save_rollback/actions/RollbackAction.js","v1/apply_save_rollback/actions/SaveAction.js","v1/apply_save_rollback/actions/ApplySaveRollbackReducer.js","v1/apply_save_rollback/ApplySaveRollback.js","v1/analysis/order/actions/OrderApplyAction.js","v1/analysis/order/actions/OrderStationReducer.js","v1/analysis/project/CastFields.js","v1/analysis/project/ProjectStation.js","v1/analysis/filter/FilterCondition.js","v1/analysis/filter/Compare.js","v1/analysis/filter/GroupGroup.js","v1/analysis/filter/ApplyGroup.js","v1/analysis/filter/FilterStation.js","v1/analysis/order/OrderStation.js","v1/analysis/limit/actions/LimitApplyAction.js","v1/analysis/limit/actions/LimitStationReducer.js","v1/analysis/limit/LimitStation.js","v1/analysis/window/actions/BuildGroupAction.js","v1/analysis/window/actions/BuildOrderAction.js","v1/analysis/window/actions/BuildRowWindowsAction.js","v1/analysis/window/actions/WindowApplyAction.js","v1/analysis/window/actions/WindowStationReducer.js","v1/analysis/common/pages/SelectFieldsToOperate.js","v1/analysis/window/pages/BuildGroup.js","v1/analysis/window/pages/SetupGroupRowOrder.js","v1/analysis/window/pages/BuildWindowOnGroup.js","v1/analysis/common/pages/ApplyFunc.js","v1/analysis/window/pages/ApplyFunction.js","v1/analysis/window/WindowStation.js","v1/analysis/dash/actions/DashStationReducer.js","v1/analysis/dash/DashStation.js","v1/analysis/dash/pages/useDataConfig.js","v1/analysis/dash/pages/useDashConfig.js","v1/analysis/OperateStation.js","v1/analysis/WorkshopMessageOp.js","v1/analysis/WorkshopUIOp.js","v1/analysis/real_time_view_table/SearchOp.js","v1/analysis/real_time_view_table/DropdownMenuUI.js","v1/analysis/RealTimeViewTable.js","v1/analysis/workshop.js","v1/app_console/admin/actions/LRAction.js","v1/app_console/admin/actions/AdminSettingReducer.js","v1/app_console/admin/pages/LRSettings.js","v1/analysis/common/CrudTable.js","v1/app_console/admin/pages/Engines.js","v1/app_console/admin/pages/ChangePassword.js","v1/app_console/admin/AdminSetting.js","v1/analysis/common/pages/useUserConfig.js","v1/app_console/admin/pages/DefaultBackend.js","v1/app_console/admin/pages/ApplyTimeout.js","v1/analysis/common/pages/useIntegerStep.js","v1/app_console/admin/pages/Settings.js","v1/app_console/AppConsole.js","v1/app_setup/actions/app/AddEngineAction.js","v1/app_setup/actions/app/SkipAddEngineAction.js","v1/app_setup/actions/app/AppSetupReducer.js","v1/app_setup/pages/StepUserPassword.js","v1/app_setup/pages/AddEngines.js","v1/app/actions/go.js","v1/app/actions/AppReducer.js","v1/app_setup/pages/Done.js","v1/app_setup/app_setup.js","locale/zh_CN.js","locale/en_US.js","App.js","index.js","v1/ActionMaker.js","backend_service/RemoteAction.js","backend_service/Dicts.js","backend_service/backend/Backend.js","backend_service/ActionProxy.js","v1/app_console/admin/actions/SetStateAction.js","backend_service/backend/RestConst.js"],"names":["Boolean","window","location","hostname","match","ActionMaker","buildHandler","action","a","data","currentPage","client","ActionProxy","post","RemoteAction","LOGOUT","sessionStorage","removeItem","AccessToken","name","logined","SwitchActionHandler","handler","SwitchAction","UIMaker","res","user","userName","content","role","extraOption","backendTags","token","resp","headers","get","setItem","JSON","stringify","Cookies","set","path","userStr","getItem","parse","e","formItemLayout","labelCol","xs","span","sm","wrapperCol","tailLayout","offset","__state","CheckLoginedActionHandler","CheckLoginedAction","AppConsoleActionNames","SWITCH","CHECK_LOGINED","AppConsoleHandlers","setState","SetStateActionHandler","AppConsoleReducer","state","type","SetStateAction","SubMenu","Menu","ConsoleHeaderContext","React","createContext","ConsoleHeader","props","userLogined","isUserAdmin","appInfo","dispacher","useContext","AppConsoleContext","useState","current","setCurrent","setLogined","isAdmin","setIsAdmin","undefined","leave","setLeave","tempCurrent","useRef","useEffect","Provider","title","visible","onCancel","onOk","buildEvent","cancelText","okText","description","onClick","key","selectedKeys","mode","Item","style","fontSize","icon","LoginOutlined","id","SelectOutlined","enableConsole","HomeOutlined","AppstoreOutlined","SettingOutlined","MoreOutlined","LogoutOutlined","password","password2","error","REGISTER","status","msg","setupLogin","RegisterActionHandler","RegisterAction","LOGIN","LoginActionHandler","LoginAction","LoginRegisterActionNames","LoginRegisterHandlers","LoginRegisterReducer","AlertBoxW","styled","div","AlertBox","closable","message","RegisterContext","initState","Register","appConsoleDispacher","formLayout1","useReducerAsync","value","className","onFinish","values","label","rules","required","Password","htmlType","LoginContext","Login","require","default","CodeIntellegence","sql","lineNum","columnNum","restClient","RUN","executeMode","isDebug","queryType","wordList","Method","Status","RUN_SCRIPT","MLSQLAuth","isLogin","HTTP","callback","MLSQLAPI","request","apiResponse","then","s","catch","m","console","log","request2","json","str","login","_sCallBack","_errorCallBack","this","registerOrLogin","logout","register","url","body","accessToken","serverError","uuidv4","ServerError","constructor","APIResponse","process","jsonErr","jsonObj","params","successCallback","serverErrorCallback","ok","wow","fail","toString","runScript","auth","Auth","jobName","self","jsonRes","finalParams","owner","sessionPerUser","show_stack","skipAuth","tags","Object","assign","background","async","method","toUpperCase","formBody","property","encodedKey","encodeURIComponent","encodedValue","push","newurl","join","fetch","timeout","text","newRunScript","okFun","failFun","new_request","resStatus","extractMsg","err","ButtonToCommand","makeSQL","EditorOp","consoleComp","inner","session","editor","setText","setValue","append","insert","row","getLength","column","insertAfterCursor","p","getCursorPosition","focus","comp","super","getText","getValue","getSelection","selectionRange","getSelectionRange","getTextRange","EngineService","JOB_KILL","block","ANALYSIS_TABLES","tableName","ANALYSIS_TABLE_INFO","empty_res","currentJobIndex","totalJobs","progress","totalJob","res2","completedJobsNum","activeJobsNum","totalCores","activeTasks","AsyncExecuter","queryPanel","enterLoading","commandGroupRef","loading","exitLoading","editorOp","getEditorOp","consoleOp","getConsoleOp","selectSQL","commandGroup","jobProgressRef","taskProgressRef","displayRef","queryApp","display","dashRef","dash","logInfo","closed","prepare","update","measureTime","startTime","Date","getTime","saveFile","scriptId","SAVE_SCRIPT_FILE","run","engineName","intervalTimer","setInterval","monitorJob","monitorLog","queryHistory","reload","enter","cancelMonitor","clearInterval","exit","JOB_DETAIL","jobInfo","reason","response","setData","length","map","item","split","killJob","JobProgress","executor","jobProgress","finalTime","timer","toFixed","parent","render","marginRight","ref","et","Minutes","formatValue","Seconds","percent","margin","ResourceProgress","componentDidMount","resourceInfo","jobs","jobNum","filter","maxWidth","EngineSelectComp","setLoading","engine","setEngine","proxy","ENGINE_LIST","backend","useEngine","onChange","width","Option","Select","MLSQLAceEditor","aceEditorRef","executeSave","getAllText","getAceEditor","appendToEditor","messageBox","getMessageBoxAceEditor","appendLog","getDashBoard","getDisplay","resourceProgressRef","etOver","evt","etRef","eventName","getData","popName","processType","pathAlias","tableHidden","pathHidden","outputTableHidden","outputTableAlias","tableAlias","etPop","language","cancelQuery","bind","executeQuery","parentCallback","staticWordCompleter","getCompletions","pos","prefix","getSuggestList","word","desc","extra","caption","meta","completers","newValue","onDragOver","preventDefault","onDrop","defaultSize","height","onResize","resize","theme","showPrintMargin","showGutter","highlightActiveLine","editorProps","$blockScrolling","Infinity","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","autoScrollEditorIntoView","CommandGroup","TaskProgress","mark","setTimeout","taskCompute","api","BackendConfig","condition","Error","assert","hasOwnProperty","jsonArray","_jsonObj","numTasks","numActiveTasks","numCompletedTasks","forEach","successPercent","resourceCompute","ReactMarkdown","MLSQLQueryDisplay","setRender","keyColumn","config","isPrototypeOf","substring","keys","basket","rows","dataIndex","index","new_item","columns","rowDoubleClick","event","view","enabled","disablePreview","tableStyle","onRow","onDoubleClick","dataSource","OkText","source","baseStyle","borderWidth","borderColor","borderStyle","borderRadius","activeStyle","backgroundColor","rejectStyle","fileListStyle","UploadDropzone","Component","files","req","file","attach","end","f","size","getDataTransferItems","fromEvent","getRootProps","getInputProps","isDragActive","isDragAccept","isDragReject","acceptedFiles","rejectedFiles","styles","randomColor","generateColor","color","MLSQLThreeDimScatterChart","haveZ","dataTypeToItems","reduce","x","y","z","dataType","prev","Map","_config","scatters","dataTypeConfig","fill","shape","xConfig","dataKey","yConfig","zConfig","top","right","bottom","left","cursor","strokeDasharray","basicCheck","fun","isShouldRender","MLSQLLineChart","ys","stroke","MLSQLStream","renderStream","dataForRender","dataForRender2","jsonItem","moment","utc","timestamp","format","inputRowsPerSecond","processedRowsPerSecond","numInputRows","titleMap","isStream","renderRawData","MLSQLHTML","MLSQLHTMLPanel","refresh","sandbox","srcDoc","frameBorder","scrolling","ifr","QueryHistory","toggleDetail","showDetail","toggleResponse","showResponse","executeAgainStatus","defaultRender","record","currentTH","target","parentNode","num","cellIndex","field","whiteSpace","wordWrap","renderConfig","t","cssStyle","runJob","JOB_LIST","processData","detailConsoleMessage","respDisplay","overflow","_display","marginBottom","Panel","Collapse","TabPane","Tabs","MLSQLDash","PureComponent","isNormalXY","xYRender","renderDash","queryResData","header","defaultActiveKey","onTabClick","tab","CodeBlock","originalEditor","container","lineHeight","maxLines","initialCode","evtExecute","isExecute","executeUnit","execute","cancelExecute","spin","Engine","show_result","fail_result","code","DataTable","parseData","DisplayGroup","displayData","errorMsg","displayTableRef","displayDashRef","displayDash","displayError","displayTable","ExecuteUnit","codeBlock","displayGroup","notebook","nextExecuteUnit","codeBlockIsEmpty","getCodeStr","CODE_SPLITTER","NodeBook","createNewExecuteUnit","addRef","instance","executeUnitRefs","slice","isLastEmpty","executeUnits","saveNoteBook","LogMonitor","cancelQueryLog","queryLog","PythonACE","logMonitor","select","finalSQL","runMode","ex","PythonEditor","TabEditor","pushRef","myRefs","getCurrentEditor","activeKey","currentItem","panes","endsWith","displayEditor","onEdit","targetKey","addFull","tabName","newTabIndex","add","getPaneIndexByActiveKey","lastIndex","pane","i","remove","editorRefList","closeEditor","InputGroup","Input","Group","ETLoadParams","etPopLoad","compact","Tools","getTempTableName","replace","getJobName","escapeQuote","unQuote","startsWith","visitDown","tree","visit","children","visitUp","robotFetchParam","fetchType","includeSchema","robotFetchParamWithCollect","getField","v","distinct","arrays","Set","tempF","fastCompareObject","deepCompareObject","arg1","arg2","compare2Objects","isNaN","RegExp","String","Number","prototype","leftChain","indexOf","rightChain","pop","ETPopLoad","datasourcesRender","getAttribute","sourceType","sourceTypeV","param","addonBefore","placeholder","loadParamsRef","pathV","tableNameV","makeMLSQL","paramsArray","k","rv","whereStr","etpop","showSearch","optionFilterProp","filterOption","input","option","toLowerCase","ignorePath","ignoreTableName","TextArea","ETPopAlgorithm","renderParam","temp","ETPopSave","saveMode","saveModeV","partitionBy","partitionByV","fileNum","fileNumV","partitionByStr","fileNumStr","ETBaseTool","outputTableName","outputTableNameV","showTableName","showOutputTableName","pathNameForRender","showPathName","_makeMLSQL","asStr","_render","ETPopTool","ETPopDownload","ETPopScriptUDF","udfName","udfNameV","dataTypeV","udfType","udfTypeV","codeV","langSelect","lang","codeCheckRef","checked","codeLang","setCodeExample","codeRef","codeExample","showDataType","showCode","ETExample","etName","ETRegister","ETStringIndex","sqlTrain","sqlBatchPredict","functionNameV","stripMargin","functionName","ETDownloadFile","link","document","createElement","href","appendChild","click","removeChild","ETStreamProgress","jobType","ETPop","disableEtModalVisible","etModalVisible","enableEtModalVisible","popChild","renderContent","MLSQLETQuick","itemData","onDragStart","renderPop","etDoubleClick","padding","gutter","tyle","help","draggable","processtype","pathalias","tablehidden","pathhidden","outputtablehidden","outputtablealias","tablealias","TreeNode","Tree","DirectoryTree","DeltaLakeTree","dbs","tablesInDeltaLake","database","table","show","entries","TableOutlined","isLeaf","tip","spinning","FileSystemTree","getFileList","ls","_corrupt_record","root","isDir","is_dir","permission","onLoadData","treeNode","dataRef","renderTreeNodes","loadData","CommonHandlers","CommonActions","node","consoleApp","SCRIPT_FILE_GET","scriptFile","openExistsOrNewEditor","OpenScriptFileActionHandler","OpenScriptFileAction","createType","form","scriptContent","getFieldValue","fileName","createFileError","saveParams","parentId","reloading","CreateFileActionHandler","CreateFileAction","expandedKeys","oldExpandedKeys","newExpanedKeys","includes","newNoExpanedKeys","element","isExpanded","ExpandActionHandler","ExpandAction","SCRIPT_FILE_REMOVE","DeleteFileActionHandler","DeleteFileAction","ScriptTreeActionNames","openScriptFile","createScriptFile","deleteScriptFile","expand","ScriptTreeHandlers","ScriptTreeActions","ScriptTreeReducer","MLSQLTreeNodeBuilder","build","list","tempMap","roots","childNodes","convert","cn","FolderOutlined","FileOutlined","SpinBoxW","SpinBox","useContextMenu","contextMenuRef","onRender","rightClickNodeTreeItem","setRightClickNodeTreeItem","onRightClick","useCallback","clickX","clientX","clickY","clientY","contains","addEventListener","scroll","pageX","pageY","removeEventListener","ui","tmpStyle","zIndex","position","boxShadow","nodes","createTitle","operateModal","ScriptTreeContext","ScriptTree","Form","useForm","SCRIPT_FILE_LIST","builder","treeRes","sort","b","treeData","getList","FolderAddOutlined","FileAddOutlined","DeleteOutlined","popContextMenu","contextMenu","onExpand","autoExpandParent","expandAction","switcherIcon","DownOutlined","LeftTreePane","deltaLakeTreeRef","fileSystemTreeRef","MLSQLQueryApp","script","fileToEditorMap","editorRef","editorGroup","tempFileToEditorMap","pre","tableAndDash","sqlContent","createRef","paddingRight","borderRight","leftTreePaneRef","MixinBuilder","superclass","with","mixins","c","mixin","mix","NewSessionOp","toggleNewSession","showNewSession","currentTable","db","currentTableName","showTable","AnalysisWorkshop","workshop","newSession","AFileSystemTree","tp","options","loadPopRef","ADeltaLakeTree","tableClick","tablesInWorkshop","sessionId","LoadActionHandler","LoadAction","openTable","OpenActionHandler","OpenAction","ANALYSIS_TABLE_DELETE","DeleteActionHandler","DeleteAction","WorkshopTablesActionNames","LOAD","OPEN","DELETE","WorkshopTablesHandlers","WorkshopTablesActions","WorkshopTablesReducer","confirm","WorkshopTablesContext","WorkshopTables","externalReload","FolderOpenOutlined","flatMap","dbName","databaseName","namespace","tables","newdbs","loop","searchValue","beforeStr","substr","afterStr","search_dbs","showKeys","sub","SearchActionHandler","SearchAction","HiveTablesActionNames","SEARCH","HiveTablesHandlers","HiveTablesActions","HiveTablesReducer","HiveTablesContext","HiveTables","LeftView","reloaWorkshop","WorkshopOp","dbPrefix","tableInfo","whereBlock","sqls","loadingTable","toggleMessage","schema","setCurrentTable","updateDisplay","WorkshopAutoSql","getLastApplyTable","rollback","APPLY_GET","apply","_data","_schema","runSQLAtCurrentTable","analysis_workshop_table_name","analysis_workshop_sql","save","persist","finalSql","persistJobName","extraParams","persistSQL","ANALYSIS_SAVE","ApplyOrSave","applyLoading","tableLoading","showSaveDiagram","toggle","saveDiagram","handleTableInput","handlePersit","onSave","onApply","disabled","onRollback","StationCommonOp","tableNameForSave","persistForSave","refreshOperateStation","refreshTableWorkshop","ApplyOrSaveRef","SelectJoinField","currentTableSchema","joinStation","joinInfo","joinTable","currentTableFields","fields","joinTableFields","tableSchema","next","SelectFields","inputValue","handleChange","targetKeys","getSelectFields","schemaFields","componentDidUpdate","prevProps","SelectProjectFields","handleLeft","leftProjectFields","handleRight","rightProjectFields","reset","danger","SelectJoinTable","Step","Steps","StepContent","JoinStation","joinType","leftField","rightField","tableRes","joinTableInfo","leftProjectFieldsStr","rightProjectFieldsStr","leftFieldStr","rightFieldStr","joinStr","projectStr","currentStep","preview","steps","ColumnOperate","AggStationOp","enableGroupByField","fieldName","groupByFields","generateProjectField","newName","aggFields","newFields","concat","FuncDesc","func","funcValue","Meta","zhDoc","returnValue","parameters","footer","bordered","ApplyFuncToField","handleSearch","showFunctions","currentFunc","funcDescRef","handleOperateInput","manuallyTransform","isAggChecked","manuallyIsAgg","handleNewName","newFuncName","handleField","funcParams","showColumn","operateField","getTransform","isAgg","transformCode","columnName","agg","Math","random","funcPopUp","collect","d","defaultActiveFirstOption","showArrow","onSearch","notFoundContent","defaultValue","AggStation","showAggFuncsAndApply","result","groupby","dataref","columnsRef","handleFunc","applyFuncToFieldRef","RenameFields","formRef","FunctionField","ProjectStationSQLOp","onSelectApply","selectFieldsRef","showInfo","onFuncApply","functionFieldRef","isAggExists","onRenameApply","renameFieldsRef","currentFields","operateFileds","RemoveFieldActionHandler","RemoveFieldAction","AddFieldActionHandler","AddFieldAction","ApplyActionUtils","validateInput","genSQL","applySaveRollbackDispacher","newCastFields","oldFieldNames","selectStr","CastActionHandler","CastAction","CastFieldsActionNames","ADD_FIELD","REMOVE_FIELD","CastFieldsHandlers","CastFieldsActions","CastFieldsReducer","RollbackActionHandler","RollbackAction","saveTablePersisted","saveTableName","SaveActionHandler","SaveAction","ApplySaveRollbackHandlers","ApplySaveRollbackReducer","ApplySaveRollbackContext","ApplySaveRollback","parentDispacher","context","applyToken","orderStr","OrderApplyActionHandler","OrderApplyAction","OrderStationActionNames","OrderStationHandlers","OrderStationActions","OrderStationReducer","CastFieldsContext","CastFields","submit","marginTop","onDeselect","ProjectStation","ExpressionConst","EQUAL","NON_EQUAL","IN","CONTAINS","STARTS_WITH","ENDS_WITH","LIKE","IS_NULL","IS_NOT_NULL","IS_EMPTY","IS_NOT_EMPTY","FilterCondition","compare","setCompare","inCandidate","setInCandidate","inCandidateLoading","setInCandidateLoading","forms","outputSize","layout","initialValue","Compare","command","buildSelectedRows","fieldToDataType","getFieldsValue","selectedRowKeys","addGroup","groupName","groupType","selectedRows","fitlerStation","conGroups","applyGroup","groupGroup","rowSelection","getCheckboxProps","onNonGroupFilterApply","GroupGroup","ApplyGroup","FilterStation","filterStr","buildCondition","onFilterApply","buildFilter","group","currentConditions","items","conTemp","cond","con","IS_NOT_EMPT","buildExpression","OrderStationContext","OrderStation","limitSize","limitStr","LimitApplyActionHandler","LimitApplyAction","LimitStationHandlers","LimitStationActions","LimitStationReducer","LimitStationContext","LimitStation","groupFields","BuildGroupActionHandler","BuildGroupAction","orderFields","BuildOrderActionHandler","BuildOrderAction","rowWindows","BuildRowWindowsActionHandler","BuildRowWindowsAction","functions","orderBy","orderByStr","windowType","preceding","following","windowStr","precedingStr","followingStr","oldFields","WindowApplyActionHandler","WindowApplyAction","WindowStationActionNames","buildGroup","buildOrder","buildRowWindows","WindowStationHandlers","WindowStationActions","WindowStationReducer","useSelectFields","enableApply","fieldWrapper","selectFields","selectFieldsLabel","selectFieldsMode","operateFields","setOperateFields","setError","commands","onClose","BuildGroup","WindowStationContext","SetupGroupRowOrder","orderFieldsObj","BuildWindowOnGroup","selectFieldsName","ApplyFunction","funcs","setFuncs","setCurrentFunc","fetchFuncs","mannualTransform","isMannualAgg","newFieldName","useFieldTransform","resetFields","renderItem","Text","WindowStation","DashStationHandlers","DashStationActions","DashStationReducer","DashStationContext","DashStation","vType","setVtype","plugins","setPlugins","onFieldsChange","changeFields","useDataConfig","dataUi","dataForm","pluginConfigs","setPluginConfigs","imagePreview","setImagePreview","src","useDashConfig","dashUi","dashForm","fetchDashPlugins","PLUGIN_LIST","dashPlugins","fetchPlugin","PLUGIN_GET","pluginName","analyzedScriptContent","image","dataValues","dashValues","xColumn","yColumn","OperateStation","tabPosition","WorkshopMessageOp","showMessage","consoleMessage","showInfoMessage","infoMessage","WorkshopUIOp","stationRef","SearchOp","getColumnSearchProps","filterDropdown","setSelectedKeys","clearFilters","searchInput","onPressEnter","SearchOutlined","handleReset","filterIcon","filtered","onFilter","onFilterDropdownVisibleChange","searchedColumn","highlightStyle","searchWords","searchText","autoEscape","textToHighlight","DropdownMenuUI","dropdownStat","dropdown","menu","BarChartOutlined","overlay","RealTimeViewTable","getDefaultRender","getDefaultSearch","getDefaultTitleRender","isDash","newColumns","operateStationView","subTitle","enableRegister","enableLogin","APP_SAVE","applySuccess","LRActionHandler","LRAction","AdminSettingActionNames","LR_CONTROL","SET_STATE","AdminSettingHandlers","AdminSettingReducer","LRSettingsContext","LRSettings","APP_INFO","getAppInfo","showIcon","defaultChecked","checkedChildren","unCheckedChildren","useCrudTable","createInitRow","externalSubmit","setSchema","setResult","editorMode","setEditorMode","useDynamicList","getKey","move","resetList","sortForm","submitNow","REG","fieldValue","matchFF","exec","pagination","onDragEnd","oldIndex","newIndex","handleSelector","rowKey","r","tempRow","createRow","debug","Engines","setReload","ENGINE_ADD","ChangePassword","setApplySuccess","newPassword","_newPassword","USER_CHANGE_PASSWORD","AdminSettingContext","AdminSetting","defaultSelectedKeys","defaultOpenKeys","MailOutlined","useUserConfig","success","setSuccess","formItems","getParams","DefaultBackend","USER_EXTRA","updateUser","ApplyTimeout","min","max","useIntegerStep","timeoutUi","timoutValue","apply_timeout","Settings","setCurrentPage","AppConsole","textAlign","AddEngineActionHandler","AddEngineAction","SkipAddEngineActionHandler","SkipAddEngineAction","AppSetupActionNames","registerAdmin","addEngine","skipAddEngine","AppSetupReducerHandlers","AppSetupReducer","StepUserPassword","AppSetupContext","AddEngines","requireField","AppConfiguredActionHandler","AppConfiguredAction","appConfigured","GoAdminActionHandler","GoAdminAction","GoConsoleActionHandler","GoConsoleAction","AppActionNames","GO_CONSOLE","GO_ADMIN","AppReducerHandlers","AppReducer","Done","AppContext","AppSetupContainer","AppSetupHeader","AppSetupBody","AppSetup","zh_CN","analysis_workshop","settings","admin","more","set_default_backend","set_default_backend_error","set_engine","curent_value","choose","done","congratulation","set_timeout","set_apply_timeout","table_workshop","delta_lake","file_system","project","limit","order","select_columns","rename_columns","transform_columns","cast_columns_type","hive","en_US","App","configured","locale","messages","AntZhCN","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","eventCallBack","dispatch","getState","signal","USER_NAME","GlobalParamNames","USER_ID","ADMIN_TOKEN","LOGIN_TOKEN","RestResponse","Backend","fetch_config","BACKEND_URL","basic_config","final_config","GET","POST","PUT"],"mappings":"4RAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,2FCb2DC,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,eAAAC,EAAA,yDACvD,WAA5BD,EAAOE,KAAKC,YADuE,uBAE5EC,EAAS,IAAIC,cAF+D,SAG5ED,EAAOE,KAAKC,UAAaC,OAAQ,IAH2C,cAIlFC,eAAeC,WAAWC,IAAYC,MACtCH,eAAeC,WAAW,QALwD,kBAM3E,CACHR,KAAM,CACFC,YAAa,QACbU,SAAS,KATiE,gCAa/E,CACHX,KAAM,CACFC,YAAaH,EAAOE,KAAKC,eAfqD,2CAAzB,uDAA3CW,E,EAARC,QAAmCC,E,EAAPhB,O,oBC+F3BiB,MAjGf,MAEI,kBAAkBC,GACd,MAAMC,EAAO,CAACC,SAASF,EAAIG,QAAQT,KAAMU,KAAKJ,EAAIG,QAAQC,KAAKC,YAAYL,EAAIG,QAAQG,aACjFC,EAAQP,EAAIQ,KAAKC,QAAQC,IAAIjB,IAAYC,MAC/CH,eAAeoB,QAAQlB,IAAYC,KAAMa,GACzChB,eAAeoB,QAAQ,OAAOC,KAAKC,UAAUZ,KAC7B,IAAIa,KACZC,IAAItB,IAAYC,KAAMa,EAAO,CAAES,KAAM,MAGjD,kBAAkBhB,GACd,MAAMC,EAAO,CAACC,SAASF,EAAIG,QAAQT,KAAMU,KAAKJ,EAAIG,QAAQC,KAAKC,YAAYL,EAAIG,QAAQG,aACvFf,eAAeoB,QAAQ,OAAOC,KAAKC,UAAUZ,IAGjD,qBACI,MAAMgB,EAAU1B,eAAe2B,QAAQ,QACvC,IAAID,EAAS,MAAO,GACpB,IACI,OAAOL,KAAKO,MAAMP,KAAKO,MAAMF,GAASZ,aACzC,MAAMe,GACH,MAAO,IAKf,iBACI,MAAMH,EAAU1B,eAAe2B,QAAQ,QACvC,IAAID,EAAS,OAAO,EAEpB,MAAe,UADFL,KAAKO,MAAMF,GAChBb,KAIZ,iBACI,QAAGb,eAAe2B,QAAQzB,IAAYC,MAK1C,qBAyBI,MAAO,CAAE2B,eAxBc,CACnBC,SAAU,CACNC,GAAI,CACAC,KAAM,GAEVC,GAAI,CACAD,KAAM,IAGdE,WAAY,CACRH,GAAI,CACAC,KAAM,GAEVC,GAAI,CACAD,KAAM,KAUOG,WANN,CACfD,WAAY,CACRE,OAAQ,EACRJ,KAAM,MAKlB,qBAyBI,MAAO,CAAEH,eAxBc,CACnBC,SAAU,CACNC,GAAI,CACAC,KAAM,IAEVC,GAAI,CACAD,KAAM,IAGdE,WAAY,CACRH,GAAI,CACAC,KAAM,IAEVC,GAAI,CACAD,KAAM,MAUOG,WANN,CACfD,WAAY,CACRE,OAAQ,EACRJ,KAAM,Q,QC1FuD5C,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,eAAAC,EAAA,6DAC9FE,EAAc,WACc,aAA7BH,EAAO+C,QAAQ5C,aAA6Bc,EAAQJ,YACnDV,EAAc,YAHgF,kBAK3F,CACHD,KAAK,2BACEF,EAAOE,MADV,IAEAW,QAASI,EAAQJ,UACjBV,kBAT0F,2CAAzB,uDAAvD6C,E,EAARjC,QAAyCkC,E,EAAPjD,O,YCAhD,MAAMkD,KACKC,OAAS,SADdD,EAEKE,cAAgB,eAE3B,MAAMC,EAAqB,CACvB,CAACH,EAAsBC,QAASrC,EAChC,CAACoC,EAAsBE,eAAgBJ,EACvCM,SAAUC,yBAGd,SAASC,EAAkBC,EAAOzD,GAC9B,OAAQA,EAAO0D,MACX,KAAKR,EAAsBC,OACvB,OAAOnC,EAAayC,EAAOzD,EAAOE,MACtC,KAAKgD,EAAsBE,cACvB,OAAOH,EAAmBQ,EAAOzD,EAAOE,MAC5C,IAAK,WACD,OAAOyD,yBAAeF,EAAOzD,EAAOE,MACxC,QACI,OAAOuD,G,wICZXG,EAAYC,IAAZD,QAEFE,EAAuBC,IAAMC,gBAEnC,SAASC,EAAcC,GAAQ,MACnB/D,EAAkD+D,EAAlD/D,YAAagE,EAAqCD,EAArCC,YAAaC,EAAwBF,EAAxBE,YAAYC,EAAYH,EAAZG,QACtCC,EAAcC,qBAAWC,IAAzBF,UAFkB,EAGIG,mBAAStE,GAHb,mBAGnBuE,EAHmB,KAGVC,EAHU,OAIIF,mBAASN,GAJb,mBAInBtD,EAJmB,KAIV+D,EAJU,OAKIH,mBAASL,GALb,mBAKnBS,EALmB,KAKVC,EALU,OAMAL,wBAASM,GANT,mBAMnBC,EANmB,KAMZC,EANY,OAQeR,oBAAS,GARxB,mBASpBS,GAToB,UASNC,oBASpB,OAPAC,oBAAU,KAAO,MACLjF,EAA0C+D,EAA1C/D,YAAagE,EAA6BD,EAA7BC,YAAaC,EAAgBF,EAAhBE,YAClCO,EAAWxE,GACXyE,EAAWT,GACXW,EAAWV,IACZ,CAACF,IAGA,kBAACJ,EAAqBuB,SAAtB,KACI,kBAAC,IAAD,CACIC,MAAO,UACPC,QAASP,IAAS,EAClBQ,SAAU,KAAQP,OAASF,IAC3BU,KAAM,KACFR,OAASF,GACTJ,EAAWO,EAAYR,SACvBJ,EAAUxE,IAAY4F,WAClBxC,EAAsBC,OAAQ,CAAEhD,YAAa+E,EAAYR,YAGjEiB,WAAW,SACXC,OAAO,SAEP,kBAAC,IAAD,CACIC,YAAab,EACbtB,KAAK,UAGb,kBAAC,IAAD,CAAMoC,QAAUxD,IACRzB,GAAuB,aAAZ6D,GAAoC,aAAVpC,EAAEyD,KACvCb,EAAYR,QAAUpC,EAAEyD,IACxBd,EAAS,8FAETN,EAAWrC,EAAEyD,KACbzB,EAAUxE,IAAY4F,WAClBxC,EAAsBC,OAAQ,CAAEhD,YAAamC,EAAEyD,SAIxDC,aAAc,CAACtB,GAAUuB,KAAK,cAC7B,kBAAC,IAAKC,KAAN,CAAWH,IAAI,QACX,0BAAMI,MAAO,CAAEC,SAAU,KAAzB,sBAEJ,kBAAC,IAAD,CAAS1C,KAAK,cAEZ7C,GAAW,kBAAC,IAAKqF,KAAN,CAAWH,IAAI,QAAQM,KAAM,kBAACC,EAAA,EAAD,OACtC,kBAAC,IAAD,CAAkBC,GAAG,YAEvB1F,GAAW,kBAAC,IAAKqF,KAAN,CAAWH,IAAI,WAAWM,KAAM,kBAACG,EAAA,EAAD,OACxC,kBAAC,IAAD,CAAkBD,GAAG,cAGzB1F,GAAWwD,EAAQoC,eAAiB,kBAAC,IAAKP,KAAN,CAAWH,IAAI,UAAUM,KAAM,kBAACK,EAAA,EAAD,OAChE,kBAAC,IAAD,CAAkBH,GAAG,aAExB1F,GAAW,kBAAC,IAAKqF,KAAN,CAAWH,IAAI,WAAWM,KAAM,kBAACM,EAAA,EAAD,OACzC,kBAAC,IAAD,CAAkBJ,GAAG,uBAGpB1F,GAAW,kBAAC,IAAKqF,KAAN,CAAWH,IAAI,WAAWM,KAAM,kBAACO,EAAA,EAAD,OACvC,kBAAC,IAAD,CAAkBL,GAAG,cAIzB1F,GAAWgE,GAAW,kBAAC,IAAKqB,KAAN,CAAWH,IAAI,QAAQM,KAAM,kBAACO,EAAA,EAAD,OAC/C,kBAAC,IAAD,CAAkBL,GAAG,WAIzB1F,GAAW,kBAAC+C,EAAD,CAASyC,KAAM,kBAACQ,EAAA,EAAD,MAAkBvB,MAAO,kBAAC,IAAD,CAAkBiB,GAAG,UACpE,kBAAC,IAAKL,KAAN,CAAWH,IAAI,OAAf,4BACA,kBAAC,IAAKG,KAAN,CAAWH,IAAI,SAASM,KAAM,kBAACS,EAAA,EAAD,OAA9B,a,wDC3F6ChH,IAAYC,aAAZ,uCAAyB,WAAMC,GAAN,2BAAAC,EAAA,2DAC5CD,EAAOE,KAAzCkB,EAD8E,EAC9EA,SAAU2F,EADoE,EACpEA,SAAUC,EAD0D,EAC1DA,UACxBD,IAAaC,EAFqE,yCAG3E,CACH9G,KAAM,CACF+G,MAAO,+BALmE,cAUhF7G,EAAS,IAAIC,cAVmE,SAWpED,EAAOE,KAAKC,UAAa2G,SAAU,CACjD9F,WAAU2F,aAZwE,cAWhF7F,EAXgF,OAelFhB,EAAO,GACQ,MAAfgB,EAAIiG,OACJjH,EAAO,CACH+G,MAAOnF,KAAKO,MAAMnB,EAAIG,SAAS+F,MAInCnG,EAAQoG,WAAWnG,GACnBhB,EAAO,CACH+G,WAAOlC,EACPlE,SAAS,EACT6D,QAAS1E,EAAO+C,QAAQ2B,QAAU,IA1B4C,kBA6B/E,CAACxE,SA7B8E,4CAAzB,uDAA/CoH,E,EAARvG,QAAqCwG,E,EAAPvH,O,ECAmBF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,iBAAAC,EAAA,6DAC9EG,EAAS,IAAIC,cADiE,SAElED,EAAOE,KAAKC,UAAaiH,MAAOxH,EAAOE,MAF2B,UAGjE,OADbgB,EAF8E,QAG5EiG,OAH4E,yCAIzE,CACHjH,KAAK,CAACW,SAAQ,EAAMoG,MAAOnF,KAAKO,MAAMnB,EAAIG,SAAS+F,OALyB,cASpFnG,EAAQoG,WAAWnG,GATiE,kBAU7E,CACHhB,KAAK,CAACW,SAAQ,KAXkE,2CAAzB,uDAAzC4G,E,EAAR1G,QAAkC2G,G,EAAP1H,OCFzC,MAAM2H,OACKT,SAAW,WADhBS,GAEKH,MAAQ,QAEnB,MAAMI,GAAwB,CAC1B,CAACD,GAAyBT,UAAWI,EACrC,CAACK,GAAyBH,OAAQC,GAGtC,SAASI,GAAqBpE,EAAOzD,GACjC,OAAQA,EAAO0D,MACX,KAAKiE,GAAyBT,SAC1B,OAAOK,EAAe9D,EAAOzD,EAAOE,MACxC,KAAKyH,GAAyBH,MAC1B,OAAOE,GAAYjE,EAAOzD,EAAOE,MACrC,QACI,OAAOuD,G,oJCdnB,MAAMqE,GAAYC,KAAOC,IAAV,MAUAC,OANf,SAAkB/D,GACd,OAAO,kBAAC4D,GAAD,KACH,kBAAC,IAAD,iBAAW5D,EAAX,CAAkBgE,UAAQ,EAACxE,KAAMQ,EAAMR,MAAM,QAASyE,QAASjE,EAAMoB,OAAS,UAAWO,YAAa3B,EAAMiE,aCCpH,MAAMC,GAAkBrE,IAAMC,gBACxBqE,GAAY,CACdxH,SAAS,EACToG,WAAOlC,GAEX,SAASuD,KAAY,MACEC,EAAwBhE,qBAAWC,IAA9CF,UADQ,EAEuBrD,EAAQuH,cAAvCjG,EAFQ,EAERA,eAAgBM,EAFR,EAEQA,WAFR,EAGW4F,0BAAgBZ,GAAsBQ,GAAWT,IAH5D,mBAGTnE,EAHS,KAGFa,EAHE,KAKRzD,EAAmB4C,EAAnB5C,QAASoG,EAAUxD,EAAVwD,MASjB,OAPA7B,oBAAU,KACNmD,EAAoB,CAChB7E,KAAMR,EAAsBE,cAC5BlD,KAAM,MAEX,CAACW,IAGA,kBAACuH,GAAgB/C,SAAjB,CAA0BqD,MAAO,IAC7B,yBAAKC,UAAU,6BACX,kBAAC,IAAD,CAAMrD,MAAM,YAEJ2B,GAAS,kBAAC,GAAD,CAAUvD,KAAK,QAAQyE,QAASlB,IAE7C,kBAAC,IAAD,iBAAU1E,EAAV,CAA0BoG,UAAU,aAAaC,SAAWC,IACxDvE,EAAU,CACNZ,KAAMiE,GAAyBT,SAC/BhH,KAAM2I,OAGV,kBAAC,IAAK3C,KAAN,CACI4C,MAAM,WACNlI,KAAK,WACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,iCAIjB,kBAAC,IAAD,OAGJ,kBAAC,IAAKjC,KAAN,CACI4C,MAAM,WACNlI,KAAK,WACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,iCAIjB,kBAAC,IAAMc,SAAP,OAEJ,kBAAC,IAAK/C,KAAN,CACI4C,MAAM,oBACNlI,KAAK,YACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,iCAIjB,kBAAC,IAAMc,SAAP,OAEJ,kBAAC,IAAK/C,KAASrD,EACX,kBAAC,IAAD,CAAQa,KAAK,UAAUwF,SAAS,UAAhC,WCtE5B,MAAMb,GAAY,CACdxH,SAAS,EACToG,WAAOlC,GAGLoE,GAAepF,IAAMC,gBAE3B,SAASoF,KAAS,MAAD,EAC0BnI,EAAQuH,cAAvCjG,EADK,EACLA,eAAgBM,EADX,EACWA,WACL0F,EAAwBhE,qBAAWC,IAA9CF,UAFK,EAIcmE,0BAAgBZ,GAAsBQ,GAAWT,IAJ/D,mBAINnE,EAJM,KAICa,EAJD,KAKLzD,EAAkB4C,EAAlB5C,QAASoG,EAASxD,EAATwD,MAWjB,OATA7B,oBAAU,KACNmD,EAAoB,CAChB7E,KAAMR,EAAsBE,cAC5BlD,KAAM,CACFW,cAGT,CAACA,IAGA,kBAACsI,GAAa9D,SAAd,KACI,yBAAKsD,UAAU,6BACX,kBAAC,IAAD,CAAMrD,MAAM,SAEJ2B,GAAS,kBAAC,GAAD,CAAUvD,KAAK,QAAQyE,QAASlB,IAE7C,kBAAC,IAAD,iBAAU1E,EAAV,CAA0BoG,UAAU,aAAaC,SAAWC,IACxDvE,EAAUxE,IAAY4F,WAAWiC,GAAyBH,MAAOqB,OAEjE,kBAAC,IAAK3C,KAAN,CACI4C,MAAM,WACNlI,KAAK,WACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,iCAIjB,kBAAC,IAAD,OAGJ,kBAAC,IAAKjC,KAAN,CACI4C,MAAM,WACNlI,KAAK,WACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,iCAIjB,kBAAC,IAAMc,SAAP,OAEJ,kBAAC,IAAK/C,KAASrD,EACX,kBAAC,IAAD,CAAQa,KAAK,UAAUwF,SAAS,UAAhC,W,iECvEpB7I,GAAgBgJ,EAAQ,IAAxBhJ,YACSE,GAAiB8I,EAAQ,IAAlCC,QAEO,MAAMC,GAChB,sBAA4BC,EAAIC,EAAQC,GAAW,OAAD,qHAE7CC,EAAa,IAAItJ,GAF4B,SAIjCsJ,EAAWrJ,KAAKC,GAAaqJ,IAAI,CAC/CC,YAAa,cACbL,IAAKA,EACLC,QAASA,EAAS,EAClBC,UAAWA,EACXI,SAAS,EACTC,UAAW,UAVoC,YAI7C7I,EAJ6C,SAa1B,MAAfA,EAAIiG,OAbqC,uBAczC6C,EAAW9I,EAAIG,QAd0B,kBAexC2I,GAfwC,gCAiBxC,IAjBwC,+C,sBCJhD,MAAMC,GACJ,MADIA,GAEH,OAIGC,GAGK,IAKLvJ,GACH,eCNGwJ,GAA8B,qBCFpC,MAAMC,GAETC,UACI,OAAyD,OAAlD5J,eAAe2B,QAAQkI,IAOlClJ,SAASmJ,GAEO,IAAIC,GDjBqB,yBCqCjCC,QAAQH,GAAiB,GAfVI,IAKXA,EAAYvD,SAAWmD,GACvB7J,eAAeC,WAAW4J,IAE1BI,EAAYrJ,QAAQsJ,KAAMC,IACtBL,EAASzI,KAAKO,MAAMuI,GAAX,YACTC,MAAO5D,QAK0B6D,IACzCC,QAAQC,IAAIF,KAIpB3J,KAAKoJ,GAEW,IAAIC,GD5CqB,yBC6CjCS,SAAS,GAAKC,IACdX,EAASW,IACTC,OASRC,MAAMhK,EAAU2F,EAAUsE,EAAYC,GAClCC,KAAKC,gBDtD6B,qBCsDYpK,EAAU2F,EAAUsE,EAAYC,GAGlFG,SACIhL,eAAeC,WAAW4J,IAO9BoB,SAAStK,EAAU2F,EAAUsE,EAAYC,GACrCC,KAAKC,gBDtEgC,wBCsEYpK,EAAU2F,EAAUsE,EAAYC,GAGrFE,gBAAgBG,EAAKvK,EAAU2F,EAAUsE,EAAYC,GACjD,MAEMM,EAAO,CACTxK,SAAUA,EACV2F,SAAUA,GAJF,IAAIyD,GAASmB,GAyBrBlB,QAAQH,GAAkBsB,EAfXlB,IACf,GAAIA,EAAYmB,YAAa,CACzBpL,eAAeoB,QAAQyI,GAAuBI,EAAYmB,cAC1C,IAAI7J,KACZC,IAAIqI,GAAuBI,EAAYmB,YAAa,CAAE3J,KAAM,MAExEmJ,EAAWX,IAMQoB,IACnBR,EAAeQ,MC/F3B,MAAMC,GAAS1C,EAAQ,KAEhB,MAAM2C,GACTC,YAAY5K,GACRkK,KAAK7C,MAAQrH,GAId,MAAM6K,GAMTD,YAAY9E,EAAQ9F,EAASwK,GAAc,KAM3CX,KAAO,CAACiB,EAASC,KAEbb,KAAKlK,QAAQsJ,KAAMC,IACf,IACI,MAAMyB,EAAUvK,KAAKO,MAAMuI,GAC3BuB,EAAQE,GACV,MAAO/J,GACLyI,QAAQC,IAAI1I,GACZ8J,EAAQxB,OAbhBW,KAAKpE,OAASA,EACdoE,KAAKlK,QAAUA,EACfkK,KAAKM,YAAcA,GAmBpB,MAAMrB,GAETyB,YAAYN,GACRJ,KAAKI,IAAMA,EAIfV,SAASqB,EAAQC,EAAiBC,GACjBjB,KACRd,QAAQH,GAAkBgC,EAASG,IACpCA,EAAGvB,KAAMwB,IACLH,EAAgBG,IAChBN,IACAI,EAAoBJ,MAExBO,IACA,IACIA,EAAKjE,QAAQrH,QAAS8J,IAClB,IAAIjK,EAAMiK,EACV,IACIjK,EAAMY,KAAKO,MAAM8I,GAAX,IACR,MAAO7I,IAGTkK,EAAoBtL,KAE1B,MAAOoB,GACLkK,EAAoBG,EAAOA,EAAKC,WAAa,qBAMzDC,UAAUP,EAAQ9C,EAAK+C,EAAiBC,GACpC,MAAMM,EAAO,IAAIC,GACXC,EAAUjB,KACVkB,EAAO1B,KACbuB,EAAK3L,KAAM+L,IAAa,MACb9L,EAAyB8L,EAAzB9L,SAAUI,EAAe0L,EAAf1L,YACX2L,EAAc,CAChB3D,IAAKA,EACL4D,MAAOhM,EACP4L,QAASA,EACTK,gBAAgB,EAChBC,YAAY,EACZC,UAAU,EACVC,KAAMhM,GAAe,IAEzBiM,OAAOC,OAAOP,EAAab,IACRA,EAAOqB,aAAc,IAEpCF,OAAOC,OAAOP,EAAa,CAACS,OAAO,EAAMrD,SAAU,KAGvD0C,EAAKxC,QAAQH,GAAkB6C,EAAcV,IACzC,GAAkB,MAAdA,EAAGtF,OACHsF,EAAGvB,KAAMwB,IACLH,EAAgBG,IAChBN,IACAI,EAAoBJ,UAGxB,IACIK,EAAGpL,QAAQsJ,KAAMQ,IACb,IAAIjK,EAAMiK,EACV,IACIjK,EAAMY,KAAKO,MAAM8I,GAAX,IACR,MAAO7I,IAGTkK,EAAoB,kBAAoBC,EAAGtF,OAAS,KAAOjG,KAEjE,MAAOoB,GACLkK,EAAoB,kBAAoBC,EAAGtF,UAInDwF,IACA,IACIA,EAAKjE,QAAQrH,QAAS8J,IAClB,IAAIjK,EAAMiK,EACV,IACIjK,EAAMY,KAAKO,MAAM8I,GAAX,IACR,MAAO7I,IAGTkK,EAAoBtL,KAE1B,MAAOoB,GACLkK,EAAoBG,EAAOA,EAAKC,WAAa,uBAO7DnC,QAAQoD,EAAQjC,EAAMW,EAAiBC,GACnCqB,EAASA,EAAOC,cAEhB,IAAIC,EAAW,GACf,IAAK,IAAIC,KAAYpC,EAAM,CACvB,IAAIqC,EAAaC,mBAAmBF,GAChCG,EAAeD,mBAAmBtC,EAAKoC,IAC3CD,EAASK,KAAKH,EAAa,IAAME,GAGrC,IAAIE,EAAS9C,KAAKI,IAQlB,MANe,QAAXkC,GACAQ,EAASA,EAAS,IAAMN,EACxBA,OAAWhJ,GAEXgJ,EAAWA,EAASO,KAAK,KAEtBC,MAAMF,EAAQ,CACjBR,OAAQA,EACRW,QAAS,MACT7M,QAAS,CACL,eAAgB,oCAChB,OAAU,mBACV,eAAgBlB,eAAe2B,QAAQkI,KAA0B,IAErEsB,KAAMmC,IACPpD,KAAMzJ,IACLqL,EAAgB,IAAIL,GAAYhL,EAAIiG,OAAQjG,EAAIuN,OAAQvN,EAAIS,QAAQC,IAAI0I,QAEvEO,MAAO3J,IACJsL,EAAoB,IAAIR,GAAY9K,MAIhDwN,aAAapC,EAAQ9C,EAAKmF,EAAOC,GAC7B,MAAM9B,EAAO,IAAIC,GACXC,EAAUjB,KACVkB,EAAO1B,KACbuB,EAAK3L,KAAM+L,IAAa,MACb9L,EAAyB8L,EAAzB9L,SAAUI,EAAe0L,EAAf1L,YAEjB,IAAKA,EAUD,YATAoN,EAAQ,mTAYZ,MAAMzB,EAAc,CAChB3D,IAAKA,EACL4D,MAAOhM,EACP4L,QAASA,EACTK,gBAAgB,EAChBC,YAAY,EACZC,UAAU,EACVC,KAAMhM,GAAe,IAEzBiM,OAAOC,OAAOP,EAAab,IACRA,EAAOqB,aAAc,IAEpCF,OAAOC,OAAOP,EAAa,CAACS,OAAO,EAAMrD,SAAU,KAGvD0C,EAAK4B,YAAYvE,GAAkB6C,EAAawB,EAAOC,KAI/DC,YAAYhB,EAAQjC,EAAM+C,EAAOC,GAC7Bf,EAASA,EAAOC,cAEhB,IAAIC,EAAW,GACf,IAAK,IAAIC,KAAYpC,EAAM,CACvB,IAAIqC,EAAaC,mBAAmBF,GAChCG,EAAeD,mBAAmBtC,EAAKoC,IAC3CD,EAASK,KAAKH,EAAa,IAAME,GAGrC,IAAIE,EAAS9C,KAAKI,IAEH,QAAXkC,GACAQ,EAASA,EAAS,IAAMN,EACxBA,OAAWhJ,GAEXgJ,EAAWA,EAASO,KAAK,KAE7B,IAAIQ,EAAY,EAEhB,OAAOP,MAAMF,EAAQ,CACjBR,OAAQA,EACRW,QAAS,MACT7M,QAAS,CACL,eAAgB,oCAChB,OAAU,mBACV,eAAgBlB,eAAe2B,QAAQkI,KAA0B,IAErEsB,KAAMmC,IACPpD,KAAMzJ,IACL4N,EAAY5N,EAAIiG,OACE,MAAd2H,GACA5N,EAAIgK,OAAOP,KAAMjC,IACbiG,EAAMjG,KAGPxH,IACRyJ,KAAKzJ,IACJ,MAAM6N,EAAa,KACf7N,EAAIuN,OAAO9D,KAAKjC,IACR,IACIkG,EAAQ9M,KAAKO,MAAMqG,GAAX,KACV,MAAOpG,GACLsM,EAAQlG,OAMxB,OAAQoG,GACJ,KAAK,IACD,MACJ,KAAK,IAGL,KAAK,IACDC,IACA,MACJ,QACIhE,QAAQC,IAAI,gBAInBH,MAAOmE,IACJJ,EAAQI,EAAI7G,YCjRrB,MAAM8G,GAAiB,cAAD,KACzBC,QAAWtO,GACM,YAATA,EACM,iCAEG,iBAATA,EACM,2NAQG,iBAATA,EACM,qCAEH,I,uBCfA,MAAMuO,WCFN,MACblD,YAAYmD,GACT7D,KAAK8D,MAAQD,EACb7D,KAAK+D,QAAU/D,KAAK8D,MAAME,OAAOD,QACjC/D,KAAKgE,OAAShE,KAAK8D,MAAME,OAG5BC,QAAQpI,GAEJ,OADAmE,KAAKgE,OAAOE,SAASrI,GACdmE,KAGXmE,OAAOtI,GAKL,OAJAmE,KAAK+D,QAAQK,OAAO,CAChBC,IAAKrE,KAAK+D,QAAQO,YAClBC,OAAQ,GACT,KAAO1I,GACHmE,KAGTwE,kBAAkB3I,GAChB,MAAM4I,EAAIzE,KAAKgE,OAAOU,oBAGtB,OAFA1E,KAAK+D,QAAQK,OAAOK,EAAG5I,GACvBmE,KAAKgE,OAAOW,QACL3E,ODrBPU,YAAYkE,GACVC,MAAMD,GAERE,UACI,OAAO9E,KAAKgE,OAAOe,WAGvBC,eACI,IAAIC,EAAiBjF,KAAKgE,OAAOkB,oBAEjC,OADclF,KAAK+D,QAAQoB,aAAaF,IEThD,MAAMzE,GAAS1C,EAAQ,KACjBjJ,GAAS,IAAIC,cACJ,MAAMsQ,GAEjB,UAAgBzO,GAAM,OAAD,mHACX9B,EAAS,IAAIC,cADF,SAECD,EAAOyM,UAAP,uBAAiC3K,EAAjC,KAA0C6J,KAAU,CAAC,UAAY,UAFlE,cAEX7K,EAFW,yBAGVA,GAHU,6CAMrB,eAAqB8L,GAAS,OAAD,0HACP5M,GAAOyM,UAAU,SAAWG,EAAQ,IAAKjB,KAAU,CAAC,UAAY,UADzD,cACnB7K,EADmB,gBAGnBd,GAAOwB,IAAIrB,UAAaqQ,SAAU,CAAC5D,QAAQA,IAHxB,gCAIlB9L,GAJkB,6CAO7B,cAAoBsI,EAAIqH,GAAM,GAAO,OAAD,0HACdzQ,GAAOyM,UAAUrD,EAAKuC,KAAS,CAAE,MAAS8E,IAD5B,cAC1B3P,EAD0B,yBAEzBA,GAFyB,6CAKpC,uBAA6B,OAAD,0HACNd,GAAOyM,UAAU,GAAGd,KAAS,CAAClC,YAAY,iBADpC,cAClB3I,EADkB,yBAEjBA,GAFiB,6CAK5B,cAAoB,OAAD,mHACT8L,EAAUjB,KADD,SAEG3L,GAAOyM,UAAP,8BAAiDG,EAAS,CAAC,UAAY,UAF1E,cAET9L,EAFS,yBAGR,CAAC8L,UAAQ9L,QAHD,6CAMnB,2BAAiC,OAAD,mHACtB8L,EAAUjB,KADY,SAEV3L,GAAOyM,UAAP,sBAAuCG,EAAS,CAAC,UAAY,UAFnD,cAEtB9L,EAFsB,yBAGrBA,GAHqB,6CAMhC,0BAAgC,OAAD,0HACTd,GAAOwB,IAAIrB,UAAauQ,gBAAiB,IADhC,cACrB5P,EADqB,yBAEpBA,GAFoB,6CAK/B,iBAAuB6P,GAAW,OAAD,0HACX3Q,GAAOwB,IAAIrB,UAAayQ,oBAAqB,CAACD,cADnC,cACvB7P,EADuB,yBAEtBA,GAFsB,6CAKjC,mBAAyB8L,GAAS,OAAD,oIACX5M,GAAOyM,UAAP,iCAA4CG,EAA5C,aAAgEjB,KAAS,CAAC,UAAY,UAD3E,UACvB7K,EADuB,OAEvB+P,EAAa,CAACC,gBAAgB,EAAEC,UAAU,GAChC,MAAbjQ,EAAIiG,OAHsB,oBAInBkF,EAAUnL,EAAIG,QAAQ,GAJH,yCAMd4P,GANc,UAQrBC,EAAkB7E,EAAQ+E,SAASF,gBAExB,KADXC,EAAY9E,EAAQ+E,SAASC,UATR,kCAWFjR,GAAOyM,UAAP,6BAAwCG,EAAxC,aAA4DjB,KAAS,CAAC,UAAY,UAXhF,QAWfuF,EAXe,OAYrBJ,EAAkBI,EAAKjQ,QAAQ,GAAGkQ,iBAClCJ,EAAYG,EAAKjQ,QAAQ,GAAGmQ,cAAgBN,EAbvB,iCAelB,CAACA,kBAAgBC,cAfC,iCAiBtBF,GAjBsB,8CAoBjC,sBAA4B,OAAD,8HACL7Q,GAAOyM,UAAP,qCAAwDd,KAAS,CAAC,UAAY,UADzE,cACjB7K,EADiB,OAEjBuQ,EAAavQ,EAAIG,QAAQ,GAAGoQ,WAC5BC,EAAcxQ,EAAIG,QAAQ,GAAGqQ,YAHZ,kBAIhB,CAACA,cAAYD,eAJG,8CCrE/B,MAAM1F,GAAS1C,EAAQ,KAER,MAAMsI,GACjB1F,YAAY2F,GAAY,KAgCxBC,aAAe,KACXtG,KAAKuG,gBAAgBxO,SAAS,CAACyO,SAAS,KAjCrB,KAsCvBC,YAAc,KACVzG,KAAKuG,gBAAgBxO,SAAS,CAACyO,SAAS,KAtC1CxG,KAAKqG,WAAaA,EAClBrG,KAAKnL,OAAS,IAAIC,cAClBkL,KAAKyB,QAAUjB,KACfR,KAAK0G,SAAW1G,KAAKqG,WAAWM,cAChC3G,KAAK4G,UAAY5G,KAAKqG,WAAWQ,eACjC,MAAMC,EAAY9G,KAAK0G,SAAS1B,eAChChF,KAAK/B,IAAM6I,GAAa9G,KAAK0G,SAAS5B,UAEtC9E,KAAKuG,gBAAkBvG,KAAKqG,WAAWU,aAAa5N,QAEpD6G,KAAKgH,eAAiBhH,KAAKqG,WAAWW,eACtChH,KAAKiH,gBAAkBjH,KAAKqG,WAAWY,gBAAgB9N,QAEvD6G,KAAKkH,WAAalH,KAAKqG,WAAWc,SAASC,QAAQjO,QACnD6G,KAAKqH,QAAUrH,KAAKqG,WAAWc,SAASG,KAAKnO,QAG7C6G,KAAKiD,QAAUjD,KAAKuG,gBAAgBrO,MAAM+K,QAC1CjD,KAAKuH,QAAU,GAEfvH,KAAKwH,QAAS,EAMhB/H,IAAI5D,GAEA,OADAmE,KAAK4G,UAAUzC,OAAOtI,GACfmE,KAgBXyH,UACIzH,KAAKsG,eACLtG,KAAK4G,UAAU3C,QAAQ,IACvBjE,KAAKkH,WAAWQ,OAAOnR,KAAKO,MAAM,OAEtC6Q,YAAYC,GACR5H,KAAKyG,cAEL,OADgB,IAAIoB,MAAOC,UACVF,EAKfG,SAAShH,GAAQ,IAAD,6HACdiH,EAAW,EAAK3B,WAAWnO,MAAM8P,SADnB,uBAGjB,EAAKvI,IAAI,kDAHQ,0CAMF,EAAK5K,OAAOE,KAAKC,UAAaiT,iBAAiB,CAC/DjN,GAAIgN,EACJlS,QAAS,EAAK4Q,SAAS5B,YARL,cAUF,OAJZnP,EANc,QAUbiG,QACH,EAAK6D,IAAI9J,EAAIG,SAEC,MAAfH,EAAIiG,QACH,EAAK6D,IAAL,eAAiBuI,EAAjB,uBAdgB,kBAgBbrS,GAhBa,8CAoBhBuS,IAAInH,GAAS,IAAD,iIACd,EAAK0G,UACCG,GAAY,IAAIC,MAAOC,UAFf,SAGI,EAAKjT,OAAOyM,UAAU,EAAKrD,IAAK,EAAKwD,QAASS,OAAOC,OAAOpB,EAAO,CACjFU,QAAS,EAAKA,QACdY,OAAO,EACPY,QAAS,EAAKA,QACdkF,WAAW,EAAK9B,WAAW8B,cAPjB,UAUI,OAPZxS,EAHQ,QAUPiG,OAVO,uBAWV,EAAK6D,IAAI,iCAAwC,EAAKkI,YAAYC,GAAa,MAXrE,kBAYH,IAZG,cAed,EAAKQ,cAAgBC,YAAW,sBAAC,sBAAA3T,EAAA,sEACvB,EAAK4T,aADkB,uBAEvB,EAAKC,aAFkB,2CAG9B,KAGA,EAAKlB,QAAQmB,cACZ,EAAKnB,QAAQmB,aAAaC,SAE9B,EAAKzB,eAAe0B,QAxBN,kBAyBP/S,GAzBO,8CA2BZgT,gBAAiB,IAAD,kHACd,EAAKP,gBACLQ,cAAc,EAAKR,eACnB,EAAKA,cAAgB,MAEzB,EAAKpB,eAAe6B,OALF,6CAQhBP,aAAa,IAAD,4IACI,EAAKzT,OAAOwB,IAAIrB,UAAa8T,WAC3C,CACIrH,QAAQ,EAAKA,UAHP,OACR9L,EADQ,OAOQ,KAFhBoT,EAAUpT,EAAIG,SAET8F,SACR,EAAK4L,QAAS,EACd,EAAKmB,gBACL,EAAKlC,cACL,EAAKO,eAAe6B,OACpB,EAAKpJ,IAAIsJ,EAAQC,SAGE,IAAnBD,EAAQnN,SACP,EAAK4L,QAAS,EACd,EAAKmB,gBACL,EAAKlC,cACL,EAAKO,eAAe6B,OACdlU,EAAO4B,KAAKO,MAAMiS,EAAQE,UAChC,EAAK/B,WAAWQ,OAAO/S,GACvB,EAAK0R,WAAWc,SAAS+B,QAAQvU,IAtBvB,6CA0BZ4T,aAAa,IAAD,mIACR9G,EAAUjB,KADF,SAEI,EAAK3L,OAAOyM,UAAZ,4BAA4C,EAAKiG,QAAL,SAA2B,EAAvE,4CAAqH9F,EAAS,CAAC,UAAY,UAF/I,UAGI,OADZ9L,EAFQ,QAGPiG,OAHO,kDAIRkF,EAAUnL,EAAIG,QAAQ,IACjB,OAAagL,EAAO,MAAUqI,OAAS,GAC9C,EAAK1J,IAAIqB,EAAO,MAAUsI,IAAIC,GACnBA,EAAKC,MAAM,cAAc,IACjCvG,KAAK,OAEZ,EAAKwE,QAAL,OAAyBzG,EAAO,OAVlB,6CAeZyI,UAAU,IAAD,2HACN,EAAK9H,QADC,iEAEO2D,GAAcmE,QAAQ,EAAK9H,SAFlC,OAEL9L,EAFK,OAGX,IACI,EAAK8J,IAAI9J,EAAIG,QAAQ,GAAZ,aACZ,MAAMiB,GACH,EAAK0I,IAAI9J,EAAIG,SAEjB,EAAK0R,QAAS,EACd,EAAK/F,QAAU,KACf,EAAKkH,gBACL,EAAKlC,cAXM,+C,yBC3JJ,MAAM+C,WAAoBhR,YACrCkI,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YAMnB+P,MAAS3H,IACLf,KAAKjI,SAAS,CAACyO,SAAQ,IACvBxG,KAAKoI,cAAgBC,YAAW,sBAAC,kCAAA3T,EAAA,6DACvB+M,EAAU,EAAK4E,WAAWoD,SAAShI,QADZ,SAEc2D,GAAcsE,YAAYjI,GAFxC,gBAEtBkE,EAFsB,EAEtBA,gBAAgBC,EAFM,EAENA,UACvB,EAAK7N,SAAS,CAAC8N,SAAUF,EAAgBC,EAAW,MAHvB,2CAI/B,MAZa,KAenBiD,KAAO,KACA7I,KAAKoI,gBACJQ,cAAc5I,KAAKoI,eACnBpI,KAAKoI,cAAgB,KACrBpI,KAAK2J,WAAa3J,KAAK4J,MAAM9B,UAAY,KAAM+B,QAAQ,GAAK,IAC5D7J,KAAKjI,SAAS,CAACyO,SAAQ,MAlB3BxG,KAAKqG,WAAa1N,EAAMmR,OACxB9J,KAAK9H,MAAO,CAACsO,SAAQ,EAAMX,SAAS,GAqBxCkE,SACI,OAAI/J,KAAK9H,MAAMsO,QASR,2BACH,gBAAC,IAAD,CAAQrO,KAAK,UAAUyC,MAAO,CAACoP,YAAY,SAA3C,aACU,gBAAC,KAAD,CAAOC,IAAMC,GAAMlK,KAAK4J,MAAOM,GACrC,gBAAC,KAAMC,QAAP,CAAeC,YAAajN,GAAK,UAAOA,EAAP,UACjC,gBAAC,KAAMkN,QAAP,CAAeD,YAAajN,GAAK,UAAOA,EAAP,YAErC,gBAAC,KAAD,CAAUhF,KAAK,SAASmS,QAAStK,KAAK9H,MAAM2N,YAdzC7F,KAAK2J,UACG,gBAAC,IAAD,CAAQxR,KAAK,UAAUyC,MAAO,CAAC2P,OAAO,qBAAtC,cACQvK,KAAK2J,WAGb,6B,OCjCR,MAAMa,WAAyBhS,YAC1CkI,YAAY/H,GACRkM,MAAMlM,GADS,KAoBnB+P,MAAS3H,MApBU,KAwBnB8H,KAAO,OAtBH7I,KAAKqG,WAAa1N,EAAMmR,OACxB9J,KAAK9H,MAAO,CAACoS,QAAQ,GAGnBG,oBAAoB,IAAD,kIACjB,EAAKhC,SADY,6CAInBA,SAAS,IAAD,oJAC4BrD,GAAcsF,eAD1C,uBACJvE,EADI,EACJA,YAAYD,EADR,EACQA,WADR,SAEkBd,GAAcuF,OAFhC,gBAEJlJ,EAFI,EAEJA,QAAQ9L,EAFJ,EAEIA,IACTiV,EAASjV,EAAIG,QAAQ+U,OAAQxB,GACxBA,EAAK5H,UAAYA,GACzB0H,OACH,EAAKpR,SAAS,CAACuS,QAAQnE,EAAYD,EAAW,IAC7CA,aAAWC,cAAYyE,WAPb,8CAkBdb,SACI,OAAO,uBAAK3M,UAAU,WAElB,uBAAKA,UAAU,YACf,uBAAKA,UAAU,WAAf,yBAAiD4C,KAAK9H,MAAMgO,WAA5D,OACC,gBAAC,KAAD,CAAUoE,QAAStK,KAAK9H,MAAMoS,QAAW1P,MAAO,CAACkQ,SAAS,YAG3D,uBAAK1N,UAAU,YACf,uBAAKA,UAAU,WAAf,iBAAuC,4BAAO4C,KAAK9H,MAAM0S,YClCrE,SAASG,GAAiBpS,GAAQ,MAAD,EACHO,wBAASM,GADN,gCAELN,mBAAS,KAFJ,mBAEtBvE,EAFsB,KAEhBuU,EAFgB,OAGChQ,oBAAS,GAHV,mBAGb8R,GAHa,aAID9R,wBAASM,GAJR,mBAItByR,EAJsB,KAIdC,EAJc,KAK7BrR,oBAAU,MACK,uCAAG,gCAAAnF,EAAA,6DACVsW,GAAW,GACLG,EAAQ,IAAIrW,cAFR,SAGQqW,EAAM9U,IAAIrB,UAAaoW,YAAa,IAH5C,OAGJzV,EAHI,OAIVuT,EAAQvT,EAAIG,QAAQnB,MACd0W,EAAU3V,EAAQM,cAAR,QACbL,EAAIG,QAAQnB,KAAKwU,OAAQ,IAAMkC,GAC9BH,EAAUvV,EAAIG,QAAQnB,KAAK,GAAGU,MAElC2V,GAAW,GATD,2CAAH,qDAWXhI,IACD,IAEHnJ,oBAAU,KAMRlB,EAAM2S,UAAUL,IAChB,CAACA,IAKH,OACI,kBAAC,KAAD,CAAQM,SAJUpO,IAClB+N,EAAU/N,IAGsBvC,MAAO,CAAC4Q,MAAO,UAC1C7W,EAAKyU,IAAIC,GACC,kBAAC,KAAOoC,OAAR,CAAetO,MAAOkM,EAAKhU,MAAOgU,EAAKhU,Q,MCpBvDoW,GAAUC,KAAVD,OAEQ3N,EAAQ,KAGvB,MAAM6N,WAAuBnT,YAEzBkI,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YAenBuK,KAAO,CAAC/F,EAAO6K,KACXhI,KAAKjI,SAAS,CAACoF,MAAOA,EAAO6K,SAAUA,GAAW,KAC9ChI,KAAK4L,aAAazS,QAAQ6K,OAAOE,SAAS/G,EAAO,MAjBtC,KAmDlB0O,YAnDkB,sBAmDJ,8BAAAnX,EAAA,6DACL+U,EAAW,IAAIrD,GAAc,GADxB,SAEOqD,EAAS1B,SAAS,IAFzB,cAELpS,EAFK,yBAGJA,GAHI,2CAnDI,KA6EnBmW,WAAa,IACF9L,KAAK+L,eAAehH,WA9EZ,KAiFnBC,aAAe,IACJhF,KAAK2G,cAAc3B,eAlFX,KAqFnBgH,eAAkBpM,GACPI,KAAK2G,cAAcnC,kBAAkB5E,GAtF7B,KAyFnB+G,YAAY,IACD,IAAI/C,GAAS5D,KAAK4L,aAAazS,SA1FvB,KA6FnB0N,aAAa,IACF,IAAIjD,GAAS5D,KAAKmH,SAAS8E,WAAW9S,SA9F9B,KAiGnB4S,aAAe,IACJ/L,KAAK2G,cAAc3C,OAlGX,KAqGnBkI,uBAAyB,IACdlM,KAAK6G,eAAe7C,OAtGZ,KAyGnBmI,UAAatQ,GACFmE,KAAK6G,eAAe1C,OAAOtI,GA1GnB,KA6GnBuQ,aAAe,IACJpM,KAAKmH,SAASG,KAAKnO,QA9GX,KAiHnBkT,WAAa,IACFrM,KAAKmH,SAASC,QAAQjO,QAlHd,KAqHnBmN,aAAgB7E,IACZzB,KAAK+G,aAAa5N,QAAQpB,SAAS,CAACyO,SAAS,IAC7CxG,KAAKsM,oBAAoBnT,QAAQuP,MAAM,CAACjH,QAASA,IACjDzB,KAAKgH,eAAe0B,MAAM,CAACjH,QAASA,IACpCzB,KAAKiH,gBAAgB9N,QAAQuP,MAAM,CAACjH,QAASA,KAzH9B,KA4HnBgF,YAAc,KACVzG,KAAK+G,aAAa5N,QAAQpB,SAAS,CAACyO,SAAS,IAC7CxG,KAAKgH,eAAe6B,OACpB7I,KAAKsM,oBAAoBnT,QAAQ0P,OACjC7I,KAAKiH,gBAAgB9N,QAAQ0P,QAhId,KAkInB0D,OAAUC,IACN,MAAMtC,EAAKlK,KAAKmH,SAASsF,MAAMtT,QACzBuT,EAAYxC,EAAGyC,QAAQ,aACvBC,EAAU1C,EAAGyC,QAAQ,WACrBE,EAAc3C,EAAGyC,QAAQ,eACzBG,EAAY5C,EAAGyC,QAAQ,aACvBI,EAAc7C,EAAGyC,QAAQ,eACzBK,EAAa9C,EAAGyC,QAAQ,cACxBM,EAAoB/C,EAAGyC,QAAQ,qBAC/BO,EAAmBhD,EAAGyC,QAAQ,oBAC9BQ,EAAajD,EAAGyC,QAAQ,cAEV,WAAhBE,EACA7M,KAAKgM,gBAAe,IAAItI,IAAkBC,QAAQ+I,IAElDxC,EAAGnS,SAAS,CACRqV,OAAO,EACPV,UAAWA,EACXE,QAASA,EACTC,YAAaA,EACbC,UAAWA,EACXC,YAAaA,EACbC,WAAYA,EACZC,kBAAmBA,EACnBC,iBAAkBA,EAClBC,WAAYA,KAzJpBnN,KAAKqN,SAAWrN,KAAKrH,MAAM0U,UAAY,MACvCrN,KAAKmH,SAAWnH,KAAKrH,MAAMmR,OAC3B9J,KAAK4L,aAAepT,cACpBwH,KAAK+G,aAAevO,cAEpBwH,KAAKiH,gBAAkBzO,cAEvBwH,KAAKsN,YAActN,KAAKsN,YAAYC,KAAKvN,MACzCA,KAAKwN,aAAexN,KAAKwN,aAAaD,KAAKvN,MAE3CA,KAAK9H,MAAQ,CAACiF,MAAO,GAAIqJ,SAAS,GAUtCiE,oBACQzK,KAAKrH,MAAM8U,gBACXzN,KAAKrH,MAAM8U,eAAezN,MAG9B,IAAI0N,EAAsB,CACtBC,eAAe,WAAD,4BAAE,WAAe3J,EAAQD,EAAS6J,EAAKC,EAAQ7O,GAA7C,eAAAtK,EAAA,sEACSsJ,GAAiB8P,eAAe9J,EAAOe,WAAW6I,EAAIvJ,IAAIuJ,EAAIrJ,QADvE,OACR9F,EADQ,OAEZO,EAAS,KAAMP,EAAS2K,KAAI,SAAS2E,GACjC,IAAIC,EAAO,GAIX,MAHG,SAAUD,EAAKE,QACdD,EAAMD,EAAKE,MAAL,MAEH,CACHC,QAASH,EAAK1Y,KACd8H,MAAO4Q,EAAK1Y,KACZ8Y,KAAMH,OAVF,2CAAF,2DAAC,IAgBnBhO,KAAK+L,eAAeqC,WAAa,CAACV,GAGtCnC,SAAS8C,IAUHb,eAAe,IAAD,4HACb,EAAK/D,UAAa,EAAKA,SAASjC,OADnB,uBAEZ,EAAK/H,IAAL,cAAgB,EAAKgC,QAArB,uBACA,EAAKhC,IAAL,6CAHY,iCAMhB,EAAKgK,SAAW,IAAIrD,GAAc,GANlB,SAOE,EAAKqD,SAASvB,IAAI,IAPpB,cAOVvS,EAPU,OAQZ,EAAK8T,SAASjC,SACd,EAAKiC,SAASjC,QAAS,GATX,kBAWT7R,GAXS,8CAcd2X,cAAe,IAAD,kHACd,EAAK7D,UACL,EAAKA,SAASF,UAFA,6CA0FpBQ,SAEI,OACI,uBAAK3M,UAAU,qBAEX,uBAAKkR,WAAa9B,GAAQA,EAAI+B,iBAAkBC,OAAQxO,KAAKuM,QACzD,gBAAC,aAAD,CAAWkC,YAAa,CAACC,OAAQ,SAAUC,SAAU,KAAK3O,KAAK4L,aAAazS,QAAQ6K,OAAO4K,WAAY,gBAAC,KAAD,CACnG3E,IAAKjK,KAAK4L,aACVlR,KAAMsF,KAAKqN,SACXwB,MAAM,SACNrD,MAAO,OACPkD,OAAQ,OACRnD,SAAUvL,KAAKuL,SACflW,KAAK,eACLwF,SAAU,GACViU,iBAAiB,EACjBC,YAAY,EACZC,qBAAqB,EACrBC,YAAa,CACTC,gBAAiBC,KAErBC,WAAY,CACRC,2BAA2B,EAC3BC,0BAA0B,EAC1BC,gBAAgB,EAChBC,iBAAiB,EACjBC,QAAS,EACTC,0BAA0B,OAKtC,gBAAC,GAAD,CAAczF,IAAKjK,KAAK+G,aAAc+C,OAAQ9J,OAC9C,gBAAC,GAAD,CAAaiK,IAAMC,IAAMlK,KAAKgH,eAAekD,GAAKJ,OAAQ9J,OAC1D,gBAAC,GAAD,CAAciK,IAAKjK,KAAKiH,gBAAiB6C,OAAQ9J,SAOjE,MAAM2P,WAAqBnX,YACvBkI,YAAY/H,GACRkM,MAAMlM,GADS,KAMnB4S,SAAYpO,IACR6C,KAAKjI,SAAS,CAACkL,QAAS9F,KALxB6C,KAAK9H,MAAQ,CAACsO,SAAS,EAAOvD,QAAS,MACvCjD,KAAK8J,OAASnR,EAAMmR,OAOxBC,SACI,OACI,uBAAK3M,UAAU,wBACX,gBAAC,IAAD,CAAQ7C,QAASyF,KAAK8J,OAAO0D,aACrBhH,QAASxG,KAAK9H,MAAMsO,SAD5B,OAEA,gBAAC,IAAD,CAAQjM,QAASyF,KAAK8J,OAAOwD,aAA7B,UACA,gBAAC,IAAD,CAAQ/S,QAASyF,KAAK8J,OAAO+B,aAA7B,QAJJ,eAKgB,gBAAC,KAAD,CACZN,SAAUvL,KAAKuL,SACf3Q,MAAO,CAAC4Q,MAAO,UAEf,gBAACC,GAAD,CAAQtO,MAAM,SAAd,OACA,gBAACsO,GAAD,CAAQtO,MAAM,SAAd,OACA,gBAACsO,GAAD,CAAQtO,MAAM,SAAd,OACA,gBAACsO,GAAD,CAAQtO,MAAM,WAAd,OACA,gBAACsO,GAAD,CAAQtO,MAAM,WAAd,MACA,gBAACsO,GAAD,CAAQtO,MAAM,YAAd,MACA,gBAACsO,GAAD,CAAQtO,MAAM,MAAd,cAEJ,gBAAC,IAAD,CAAShF,KAAK,aAjBd,UAkBO,gBAAC4S,GAAD,CAAkBO,UAAYL,IACjCjL,KAAKmI,WAAa8C,OASlC,MAAM2E,WAAqBpX,YACvBkI,YAAY/H,GACRkM,MAAMlM,GADS,KAMnB+P,MAAS3H,IACL,MAAMW,EAAO1B,KACbA,KAAKjI,SAAS,CAAC8X,MAAM,IAErBC,WAAW,KACHpO,EAAKxJ,MAAM2X,OACXnO,EAAK3J,SAAS,CAACyO,SAAS,IACxB9E,EAAK0G,cAAgBC,YAAY,KAEzB,GAAyB,YAArB3G,EAAKqO,YACL,OAEJrO,EAAKqO,YAAc,UACnB,MAAMC,EAAM,IAAI/Q,GAASgR,ICrS3B,EAACC,EAAWtT,KAC9B,IAAKsT,EAAW,CAEZ,GADAtT,EAAUA,GAAW,mBACA,qBAAVuT,MACP,MAAM,IAAIA,MAAMvT,GAEpB,MAAMA,IDgSUwT,CAAOrP,EAAOsP,eAAe,WAAY,uBACzC,MAAM5O,EAAUV,EAAM,QACtBiP,EAAI1O,UAAU,GAAd,6BAAyCG,EAAzC,gBAAkE6O,IAC9D5O,EAAKqO,YAAc,SACnB,MAAMQ,EAAWD,EAAU,GACrBxP,EAAU,CACZ0P,SAAU,EACVC,eAAgB,EAChBC,kBAAmB,GAEvBH,EAAQ,WAAeI,QAAStH,IAC5BvI,EAAO,UAAgBuI,EAAI,SAC3BvI,EAAO,gBAAsBuI,EAAI,eACjCvI,EAAO,mBAAyBuI,EAAI,oBAExC3H,EAAK3J,SAAS,CACVuS,QAASxJ,EAAQ2P,eAAiB3P,EAAQ0P,SAAW,IACrDI,eAAgB9P,EAAQ4P,kBAAoB5P,EAAQ0P,SAAW,IAC/DzW,MAAM,6CAAD,OAA+C+G,EAAQ4P,kBAAvD,YAA4E5P,EAAQ0P,SAApF,YAAgG1P,EAAQ2P,eAAxG,gBAET7Q,IACA8B,EAAKqO,YAAc,SACnB,IACIrO,EAAKoI,OAAOqC,UAAUvM,GACxB,MAAO7I,GACLyI,QAAQC,IAAI1I,OAKtB,OAGX,MArDY,KAyDnB8R,KAAO,KACH7I,KAAK+P,YAAc,SACnB/P,KAAK6Q,gBAAkB,SACvB7Q,KAAKjI,SAAS,CAACyO,SAAS,EAAO8D,QAAS,EAAGsG,eAAgB,EAAGf,MAAM,IAChE7P,KAAKoI,eACLQ,cAAc5I,KAAKoI,gBA5DvBpI,KAAK9H,MAAQ,CAACsO,SAAS,EAAO8D,QAAS,EAAGsG,eAAgB,EAAGf,MAAM,GACnE7P,KAAK8J,OAASnR,EAAMmR,OA+DxBC,SACI,OAAK/J,KAAK9H,MAAMsO,QAEZ,2BAAMxG,KAAK9H,MAAM6B,MACb,gBAAC,KAAD,CAAUuQ,QAAStK,KAAK9H,MAAMoS,QAASsG,eAAgB5Q,KAAK9H,MAAM0Y,kBAH1C,6BAUzBjF,U,+BE3Vf,MAAMmF,GAAgBhT,EAAQ,KAEvB,MAAMiT,WAA0BvY,YACnCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAOnBqY,UAAY,CAACC,EAAWtc,KAEpB,MAAMwI,EAAQxI,EAAK,GAAGsc,EAAUzW,KAEhC,GAAIwF,KAAKkR,QAAUlR,KAAKkR,OAAL,OAAnB,CACI,MAAMnH,EAAS/J,KAAKkR,OAAL,OAAsBD,EAAUzW,KAC3CuP,IACAkH,EAAS,OAAalH,OAH9B,CAQA,IACI,GAAIvR,YAAgB2Y,cAAchU,EAAMhF,MAEpC,YADA8Y,EAAS,OAAa9T,GAAS,4BAAOA,IAI9C,MAAOpG,IAGc,QAAjBka,EAAUzW,IAKS,kBAAX2C,EAMW,iBAAXA,EAIW,mBAAXA,EAIS,cAAjB8T,EAAUzW,KAAwC,WAAjByW,EAAUzW,KAAqC,QAAjByW,EAAUzW,MACzEyW,EAAS,OAAa9T,GAAS,2BAAMA,EAAMkE,aAJ3C4P,EAAS,OAAa9T,GAAS,4BAAOA,EAAMkE,YAJ5C4P,EAAS,OAAa9T,GAAS,4BAAOA,EAAM4F,KAAK,KAAKqO,UAAU,EAAG,MANnEH,EAAS,OAAa9T,GAAS,4BACvB5G,KAAKC,UAAU2G,GAAOiU,UAAU,EAAG,MAN3CH,EAAS,OAAa9T,GAAS,2BAAMA,EAAMiU,UAAU,EAAE,QA7B5C,KAuDnB1J,OAAS,CAAC/S,EAAMuc,KAEZlR,KAAKkR,OAAOA,EACZ,IAAIG,EAAO,GACPC,EAAS,GACTC,EAAO,GACX,MAAM7P,EAAO1B,KAEbrL,EAAKgc,SAAQ,SAAUtH,GACnB,IAAK,IAAI7O,KAAO6O,EACZ,IAAKiI,EAAO9W,GAAM,CACd,MAAMyW,EAAY,CACdlX,MAAOS,EACPgX,UAAWhX,EACXA,IAAKA,GAETkH,EAAKsP,UAAUC,EAAWtc,GAC1B0c,EAAKxO,KAAKoO,GACVK,EAAO9W,IAAO,MAM1B7F,EAAKgc,SAAQ,SAAUtH,EAAMoI,GACzB,IAAIC,EAAW,GACfL,EAAKV,SAAQ,SAAUnW,GACnBkX,EAASlX,EAAIA,KAAO6O,EAAK7O,EAAIA,QAEjCkX,EAAQ,IAAUD,EAClBF,EAAK1O,KAAK6O,MAGd1R,KAAKjI,SAAS,CAAC4Z,QAASN,EAAM1c,KAAM4c,KAxFrB,KA2FnBK,eAAiB,CAACvN,EAAKoN,EAAOI,KACT,gBAAbxN,EAAIhP,MAAuC,QAAbgP,EAAIhP,MAClC2K,KAAKjI,SAAS,CACV+Z,KAAM,CACFC,SAAS,EACTjc,QAASuO,EAAIlH,UAhGV,KAsGnB6U,eAAiB,KACbhS,KAAKjI,SAAS,CACV+Z,KAAM,CACFC,SAAS,MAvGjB/R,KAAKiS,WAAatZ,EAAMiC,OAAS,GACjCoF,KAAK9H,MAAQ,CAACyZ,QAAS,GAAIJ,KAAM,GAAIO,KAAM,CAACC,SAAS,IACrD/R,KAAKkR,OAAS,GA0GlBnH,SACI,MAAMrI,EAAO1B,KACb,OAAQ,uBAAKpF,MAAOoF,KAAKiS,YACjB,gBAAC,KAAD,CACIC,MAAO,CAAC7N,EAAKoN,KACF,CACHU,cAAgBN,IACZnQ,EAAKkQ,eAAevN,EAAKoN,EAAOI,MAO5CF,QAAS3R,KAAK9H,MAAMyZ,QACpBS,WAAYpS,KAAK9H,MAAMvD,OAC3B,gBAAC,KAAD,CACIoF,MAAO,OACPC,QAASgG,KAAK9H,MAAM4Z,KAAKC,QACzB9X,SAAU+F,KAAKgS,eACf9X,KAAM8F,KAAKgS,eACX5X,WAAW,SACXiY,OAAO,MAEP,gBAACvB,GAAD,CAAewB,OAAQtS,KAAK9H,MAAM4Z,KAAKhc,SAAW,Q,kECtItE,MAAMyc,GAAY,CACd/G,MAAO,IACPkD,OAAQ,IACR8D,YAAa,EACbC,YAAa,OACbC,YAAa,SACbC,aAAc,GAEZC,GAAc,CAChBF,YAAa,QACbD,YAAa,OACbI,gBAAiB,QAEfC,GAAc,CAChBJ,YAAa,QACbD,YAAa,OACbI,gBAAiB,QAGfE,GAAgB,CAClB3L,QAAS,QAIN,MAAM4L,WAAuBxa,IAAMya,UAEtCvS,cACImE,QADU,KAQd2J,OAAU0E,IACNlT,KAAKjI,SAAS,CAACmb,UACf,MAAMC,EAAMjU,KAAQnK,KdhCgB,uBciCpCoe,EAAIzc,IAAI,eAAgBxB,eAAe2B,QAAQkI,KAA0B,IACzEmU,EAAMvC,QAAQyC,IACVD,EAAIE,OAAOD,EAAKzc,KAAMyc,KAG1BD,EAAIG,IAAI,CAAC7P,EAAK9N,KACVqK,KAAKjI,SAAS,CAACmb,MAAO,KACjBzP,GAKDjE,QAAQC,IAAIgE,GACZzD,KAAKjI,SAAS,CAAC8D,IAAK4H,EAAIpC,WAAa,kFALjC1L,EAAIuL,IACJlB,KAAKjI,SAAS,CAAC8D,IAAK,eAAiBqX,EAAM/J,OAAS,uFAlBhEnJ,KAAK9H,MAAQ,CACTgb,MAAO,IA2BfnJ,SAEI,MAAMmJ,EAAQlT,KAAK9H,MAAMgb,MAAM9J,IAAImK,GAC/B,wBAAI/Y,IAAK+Y,EAAEle,MACNke,EAAE5c,KADP,MACgB4c,EAAEC,KADlB,WAKJ,OACI,6BAAS5Y,MAAOmY,IACZ,6BACI,kBAAC,KAAD,CAAUvE,OAAQxO,KAAKwO,OACbiF,qBAAsBjH,GAAOkH,aAAUlH,IAE5C,EAAEmH,eAAcC,gBAAeC,eAAcC,eAAcC,eAAcC,gBAAeC,oBACrF,IAAIC,EAAM,eAAO3B,IAIjB,OAHA2B,EAASL,EAAY,2BAAOK,GAAWtB,IAAesB,EACtDA,EAASH,EAAY,2BAAOG,GAAWpB,IAAeoB,EAGlD,yCACQP,IADR,CAEI/Y,MAAOsZ,IAEP,0BAAWN,KACX,6BACKE,EAAe,OAAS,OAD7B,kBAGCC,GAAgB,6DAMrC,+BACI,4BAAsB,IAAjBb,EAAM/J,OAAe,GAAK,SAC/B,4BAAK+J,IAET,6BAAMlT,KAAK9H,MAAM2D,IAAMmE,KAAK9H,MAAM2D,IAAM,M,aChGxD,MAAMsY,GAAcrW,EAAQ,KACtBsW,GAAgB,KAClB,IAAIC,EAAQF,KAIZ,MAHc,YAAVE,IACAA,EAAQ,WAELA,GAGI,MAAMC,GA0BjB,cAAc3f,GACV,IAAI4f,EAAQ5f,EAAK,GAAG0b,eAAe,KAC9B1b,EAAK0b,eAAe,aACrB1b,EAAKgc,QAAStH,IACVA,EAAI,SAAe,UACdkL,IACDlL,EAAI,EAAQ,KAIxB,MAAMmL,EAAkB7f,EAAK8f,OAAO,CAACrL,EAAKC,KACVA,EAArBqL,EAAqBrL,EAAlBsL,EAAkBtL,EAAfuL,EADmC,MAChCC,EAAYxL,EAAZwL,SACVC,EAAO1L,EAAI/S,IAAIwe,GAMrB,OALIC,EACAA,EAAKjS,KAAKwG,GAEVD,EAAI1S,IAAIme,EAAU,CAACxL,IAEhBD,GACR,IAAI2L,KAGDC,EADOrgB,EAAK,GACE,cAAoB,GAElCsgB,EAAW,IAAIT,EAAgBnD,QAAQjI,IAAK5O,IAC9C,MAAM0a,EAAiBhT,OAAOC,OAAO,CAACgT,KAAMf,KAAiBgB,MAAO,YAAcJ,EAAQxa,IAAQ,IAClG,OAAO,kBAAC,KAAD,eAASA,IAAKA,EAAKnF,KAAMmF,EAAK7F,KAAM6f,EAAgBne,IAAImE,IAAU0a,MAIvEG,EAAUnT,OAAOC,OAAO,CAAChK,KAAM,SAAUmd,QAAS,KAAON,EAAO,GAAS,IACzEO,EAAUrT,OAAOC,OAAO,CAAChK,KAAM,SAAUmd,QAAS,KAAON,EAAO,GAAS,IACzEQ,EAAUtT,OAAOC,OAAO,CAAChK,KAAM,SAAUmd,QAAS,KAAON,EAAO,GAAS,IAG/E,OACI,kBAAC,KAAD,CACIxJ,MAAO,IACPkD,OAAQ,IACRnE,OAAQ,CACJkL,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,KAG1C,kBAAC,KAAD,MACA,kBAAC,KAAUP,GACX,kBAAC,KAAUE,GACVhB,EAAQ,kBAAC,KAAUiB,GAAa,GACjC,kBAAC,KAAD,CAASK,OAAQ,CAACC,gBAAiB,SACnC,kBAAC,KAAD,MACCb,IA3EIX,GAGVyB,WAAa,CAACphB,EAAMqhB,KACvB,GAAIrhB,EAAKwU,OAAS,EACd,OAAO,EAGX,IACI,OAAO6M,EAAIrhB,EAAK,IAClB,MAAOoC,GACL,OAAO,EAGX,OAAO,GAdMud,GAiBV2B,eAAkBthB,GACd2f,GAA0ByB,WAAWphB,EAAO0U,GAExCA,EAAKgH,eAAe,MAAQhH,EAAKgH,eAAe,OAAShH,EAAKgH,eAAe,iBAAmBhH,EAAKgH,eAAe,WACtG,YAAjBhH,EAAI,MAAmE,aAAxCA,EAAI,cAAoB,IAAzB,OCtB9C,MAAM8K,GAAcrW,EAAQ,KACtBsW,GAAgB,KAClB,IAAIC,EAAQF,KAIZ,MAHc,YAAVE,IACAA,EAAQ,WAELA,GAGI,MAAM6B,GAuBjB,cAAcvhB,GACV,MAAM0U,EAAO1U,EAAK,GACZwhB,EAAK,GACLnB,EAAU3L,EAAI,cAAoB,GACxC,MAAqB,SAAjBA,EAAI,MAA2C,SAApB2L,EAAO,MAClC9S,OAAOmP,KAAKhI,GAAMsH,QAASnW,IACvB,GAA2B,kBAAf6O,EAAK7O,GAAoB,CACjC,MAAM0a,EAAiBhT,OAAOC,OAAO,CAACiU,OAAQhC,MAAmBY,EAAQxa,IAAQ,IACjF2b,EAAGtT,KAAK,kBAAC,KAAD,eAAMrI,IAAKA,EAAKrC,KAAK,WAAWmd,QAAS9a,GAAS0a,QAG3D,kBAAC,KAAD,CACH1J,MAAO,IACPkD,OAAQ,IACR/Z,KAAMA,EACN4V,OAAQ,CACJkL,IAAK,EAAGC,MAAO,GAAIE,KAAM,GAAID,OAAQ,IAGzC,kBAAC,KAAD,CAAeG,gBAAgB,QAC/B,kBAAC,KAAD,CAAOR,QAAQ,MACf,kBAAC,KAAD,MACA,kBAAC,KAAD,MACA,kBAAC,KAAD,MACCa,IAKY,QAAjB9M,EAAI,MAA0C,QAApB2L,EAAO,MACjC9S,OAAOmP,KAAKhI,GAAMsH,QAASnW,IACvB,GAA2B,kBAAf6O,EAAK7O,GAAoB,CACjC,MAAM0a,EAAiBhT,OAAOC,OAAO,CAACgT,KAAMf,MAAmBY,EAAQxa,IAAQ,IAC/E2b,EAAGtT,KAAK,kBAAC,KAAD,eAAMrI,IAAKA,EAAK8a,QAAS9a,GAAS0a,QAG3C,kBAAC,KAAD,CACH1J,MAAO,IACPkD,OAAQ,IACR/Z,KAAMA,EACN4V,OAAQ,CACJkL,IAAK,EAAGC,MAAO,GAAIE,KAAM,GAAID,OAAQ,IAGzC,kBAAC,KAAD,CAAeG,gBAAgB,QAC/B,kBAAC,KAAD,CAAOR,QAAQ,MACf,kBAAC,KAAD,MACA,kBAAC,KAAD,MACA,kBAAC,KAAD,MACCa,SApBT,GApDaD,GAGVH,WAAa,CAACphB,EAAMqhB,KACvB,GAAIrhB,EAAKwU,OAAS,EACd,OAAO,EAGX,IACI,OAAO6M,EAAIrhB,EAAK,IAClB,MAAOoC,GACL,OAAO,EAGX,OAAO,GAdMmf,GAiBVD,eAAkBthB,GACduhB,GAAeH,WAAWphB,EAAO0U,GAC7BA,EAAKgH,eAAe,OAAShH,EAAKgH,eAAe,SAAWhH,EAAKgH,eAAe,kB,yBCpCpF,MAAMgG,WAAoBpD,YAErCvS,YAAY/H,GACRkM,MAAMlM,GADS,KA+BnB2d,aAAe,KACX,MAAM3hB,EAAOqL,KAAK9H,MAAMvD,KAClB4hB,EAAgB,GAChBC,EAAiB,GAEvB7hB,EAAKgc,QAAStH,IACV,MAAMoN,EAAWlgB,KAAKO,MAAMuS,EAAI,OAC1BqL,EAAIgC,KAAOC,IAAIF,EAASG,WAAWC,OAAO,cAChDN,EAAc1T,KAAK,CACf6R,EAAGA,EACHoC,mBAAoBL,EAASK,mBAC7BC,uBAAwBN,EAASM,yBAGrCP,EAAe3T,KAAK,CAChB6R,EAAGA,EACHsC,aAAcP,EAASO,iBAG/BhX,KAAKjI,SAAS,CACVwe,cAAeA,EACfC,eAAgBA,KAlDpBxW,KAAKmH,SAAWxO,EAAMmR,OAAOA,OAC7B9J,KAAK9H,MAAQ,CAACvD,KAAMgE,EAAMhE,KAAM4hB,cAAe,GAAIU,SAAU,IAIjExM,oBACIzK,KAAKsW,eA0DTvM,SACI,OAAwC,IAApC/J,KAAK9H,MAAMqe,cAAcpN,OAAqB,KAC3C,6BAEH,kBAAC,KAAD,CAAWqC,MAAO,IAAKkD,OAAQ,IAAK/Z,KAAMqL,KAAK9H,MAAMqe,eACjD,kBAAC,KAAD,CAAMpe,KAAK,WAAWmd,QAAQ,qBAAqBc,OAAO,YAC1D,kBAAC,KAAD,CAAMje,KAAK,WAAWmd,QAAQ,yBAAyBc,OAAO,YAC9D,kBAAC,KAAD,CAAeA,OAAO,SACtB,kBAAC,KAAD,CAAOd,QAAQ,MACf,kBAAC,KAAD,MACA,kBAAC,KAAD,OAGJ,kBAAC,KAAD,CAAW9J,MAAO,IAAKkD,OAAQ,IAAK/Z,KAAMqL,KAAK9H,MAAMse,gBACjD,kBAAC,KAAD,CAAMre,KAAK,WAAWmd,QAAQ,eAAec,OAAO,YACpD,kBAAC,KAAD,CAAeA,OAAO,SACtB,kBAAC,KAAD,CAAOd,QAAQ,MACf,kBAAC,KAAD,MACA,kBAAC,KAAD,SAtFKe,GAaVa,SAAYviB,IACf,GAAIA,EAAKwU,OAAS,EACd,OAAO,EAEX,IAEI,IADa5S,KAAKO,MAAMnC,EAAK,GAAL,OACf,MACL,OAAO,EAEb,MAAOoC,GACL,OAAO,EAGX,OAAO,GA1BMsf,GA6BVJ,eAAkBthB,GACd0hB,GAAYa,SAASviB,GA9Bf0hB,GA0DVc,cAAiBxiB,IACpB,IAAK0hB,GAAYJ,eAAethB,GAAO,MAAO,GAC9C,MAAM4hB,EAAgB,GAKtB,OAJA5hB,EAAKgc,QAAStH,IACV,MAAMoN,EAAWlgB,KAAKO,MAAMuS,EAAI,OAChCkN,EAAc1T,KAAKtM,KAAKC,UAAUigB,EAAU,KAAM,MAE/CF,EAAcxT,KAAK,OClEnB,MAAMqU,GAuBjB,cAAcziB,GACV,MAAM0U,EAAO1U,EAAK,GAClB,OAAO,kBAAC,GAAD,CAAgBA,KAAM0U,KAzBhB+N,GAGVrB,WAAa,CAACphB,EAAMqhB,KACvB,GAAIrhB,EAAKwU,OAAS,EACd,OAAO,EAGX,IACI,OAAO6M,EAAIrhB,EAAK,IAClB,MAAOoC,GACL,OAAO,EAGX,OAAO,GAdMqgB,GAiBVnB,eAAkBthB,GACdyiB,GAAUrB,WAAWphB,EAAO0U,GACxBA,EAAKgH,eAAe,UAAYhH,EAAKgH,eAAe,SAAWhH,EAAKgH,eAAe,kBAW/F,MAAMgH,WAAuB7e,IAAMya,UAGtCvS,YAAY/H,GACRkM,MAAMlM,GADS,KAKnB2e,QAAW3iB,IACPqL,KAAKjI,SAAS,CAACpD,KAAMA,KAJrBqL,KAAK9H,MAAQ,CAACvD,KAAMqL,KAAKrH,MAAMhE,MAOnCoV,SACI,OACI,yBAAKnP,MAAO,CAAC4Q,MAAM,SACf,kBAAC,aAAD,CAAWiD,YAAa,CAACC,OAAQ,UAC7B,4BACI6I,QAAQ,gBACR3c,MAAO,CAAC4Q,MAAO,OAAQkD,OAAQ,QAC/B8I,OAAQxX,KAAK9H,MAAMvD,KAAX,KACR8iB,YAAY,IACZC,UAAU,MACVzN,IAAMsJ,IACFvT,KAAK2X,IAAMpE,QChDxB,MAAMqE,WAAqBpf,IAAMya,UAC5CvS,YAAY/H,GAAO,IAAD,EAChBkM,MAAMlM,GADU,YAqHlBkf,aAAe,KACb7X,KAAKjI,SAAS,CAAC+f,YAAY9X,KAAK9H,MAAM4f,cAtHtB,KAwHlBC,eAAiB,KACf/X,KAAKjI,SAAS,CAACigB,cAAchY,KAAK9H,MAAM8f,gBAtHxChY,KAAKmH,SAAWxO,EAAMmR,OAAO3C,SAC7BnH,KAAKnL,OAAS,IAAIC,cAClBkL,KAAK9H,MAAQ,CAAC4f,YAAW,EAAMG,mBAAmB,IAGlD,IAAIC,EAAiB,CAAC/a,EAAMgb,IACnB,kBAAC,IAAD,CAAQhgB,KAAK,OAAOoC,QAAO,uCAAE,WAAOiS,GAAP,mBAAA9X,EAAA,sDAM5B0jB,EAAY5L,EAAI6L,OAAOC,WAMvBC,EAAMH,EAAUE,WAAWE,UAC7BC,EAAQ,GAbsB,KAc1BF,EAd0B,OAe3B,IAf2B,OAgB3B,IAhB2B,OAiB3B,IAjB2B,+BAexBE,EAAO,UAfiB,mCAgBxBA,EAAO,SAhBiB,oCAiBxBA,EAAO,WAjBiB,oCAmBlCjZ,QAAQC,IAAI8Y,GAnBsB,UAoB5B,EAAKT,WAAWK,EAAO9iB,KAAKojB,GApBA,4CAAF,uDAsB9B,0BAAM7d,MAAO,CAAC8d,WAAW,SAASC,SAAS,aAAanN,MAAM,UAAWrO,IAsC/E6C,KAAK4Y,aAAe,CAClB7O,OAAO,CACLjU,QAASoiB,EACTjP,SATkB,CAAC9L,EAAMgb,IACpB,kBAAC,IAAD,CAAQhgB,KAAK,OAAOoC,QAAO,uCAAE,WAAOiS,GAAP,SAAA9X,EAAA,sEAC5B,EAAKsjB,aAAaG,EAAO9iB,MADG,2CAAF,uDAE/B,0BAAMuF,MAAO,CAAC8d,WAAW,SAASC,SAAS,aAAanN,MAAM,UAAWrO,IAO1E6L,OAAQkP,EACRtc,OAxCgBuB,IAClB,IAAI0b,EAAI,GACJC,EAAW,GACf,OAAQ3b,GACN,IAAK,OACL,IAAK,SAAU0b,EAAI,SAAU,MAC7B,IAAK,UAAWA,EAAI,UAAWC,EAAU,CAACjG,gBAAgB,SAAU,MACpE,IAAK,UAAWgG,EAAI,UAGtB,OAAO,kBAAC,IAAD,CAAQ1gB,KAAM0gB,EAAGje,MAAOke,GAAW3b,IA+BxC,YA5BgB,CAACA,EAAMgb,KACzB,MAAM1W,EAAU0W,EAAO9iB,KACvB,MAAmB,YAAhB8iB,EAAOvc,OACC,kBAAC,IAAD,CAAQzD,KAAK,UAAUqC,IAAKiH,EAAS+E,QAASxG,KAAK9H,MAAM+f,mBAAmBxW,GAAUlH,QAAO,uCAAE,WAAOiS,GAAP,SAAA9X,EAAA,6DACnG,EAAKwD,MAAM+f,mBAAmBxW,IAAW,EACzC,EAAK1J,SAAS,EAAKG,MAAM+f,oBAF0E,SAG7F7S,GAAc2T,OAAOZ,EAAOriB,SAHiE,OAInG,EAAK2S,SAJ8F,2CAAF,uDAA7F,iBAOJ,kBAAC,IAAD,CAAQjO,IAAKiH,EAASlH,QAAO,uCAAE,WAAOiS,GAAP,SAAA9X,EAAA,sEACjB0Q,GAAcmE,QAAQ9H,GADL,cAEnC,EAAKgH,SAF8B,2CAAF,uDAA7B,WAuBLA,SAAS,IAAD,+HACZ,EAAK1Q,SAAS,CAACkgB,mBAAmB,KADtB,SAEM,EAAKpjB,OAAOwB,IAAIrB,UAAagkB,SAAS,IAF5C,OAGK,MADXrjB,EAFM,QAGLiG,QACF,EAAKwL,SACJ,EAAKA,QAAQM,OACX,EAAKuR,YAAYtjB,EAAIG,SACrB,EAAK8iB,cAPD,6CAYdK,YAAYtkB,GACT,OAAOA,EAAKyU,IAAIC,IACd,MAAM5H,EAA2B,YAAjB4H,EAAI,OAAyBA,EAAI,QAAc,GAC/D,OAAOnH,OAAOC,OAAOkH,EAAK,CAAC,YAAc5H,MAIxCqW,WAAWrW,EAAQgX,GAAO,IAAD,wIACX,EAAK5jB,OAAOwB,IAAIrB,UAAa8T,WAAW,CAACrH,QAAQA,IADtC,OACvB9L,EADuB,OAE7B,EAAKoC,SAAS,CACZ+f,YAAY,EACZoB,qBAAqBvjB,EAAIG,QAAQ2iB,KAJN,6CAQzBT,aAAavW,GAAS,IAAD,wIACP,EAAK5M,OAAOwB,IAAIrB,UAAa8T,WAAW,CAACrH,QAAQA,IAD1C,OACnB9L,EADmB,OAEzB,EAAKoC,SAAS,CACZigB,cAAc,IAEb,EAAKmB,aACN,EAAKA,YAAYzR,OAAOnR,KAAKO,MAAMnB,EAAIG,QAAQmT,WANxB,6CAiBtBwB,oBAAoB,IAAD,kIACf,EAAKhC,SADU,6CAIxBsB,SACE,OAAO,yBAAK3M,UAAU,uBACpB,kBAAC,KAAD,CACYrD,MAAO,OACPC,QAASgG,KAAK9H,MAAM4f,WACpB7d,SAAU+F,KAAK6X,aACf3d,KAAM8F,KAAK6X,aACXzd,WAAW,SACXoR,MAAM,MACN6G,OAAO,MAClB,kBAAC,KAAD,CAAW3D,OAAQ,QACJlD,MAAO,OACP9Q,KAAK,OACLmU,MAAM,SACNxZ,KAAK,aACL8H,MAAO6C,KAAK9H,MAAMghB,sBAAsB,MAGxD,kBAAC,KAAD,CACYnf,MAAO,OACPC,QAASgG,KAAK9H,MAAM8f,aACpB/d,SAAU+F,KAAK+X,eACf7d,KAAM8F,KAAK+X,eACX3d,WAAW,SACXoR,MAAM,MACN6G,OAAO,MACnB,kBAAC,GAAD,CAAmBzX,MAAO,CAACwe,SAAS,UAAWnP,IAAMoP,IAAYrZ,KAAKmZ,YAAcE,GAAWvP,OAAQ9J,QAEvG,yBAAKpF,MAAO,CAAE0e,aAAc,KAC1B,kBAAC,IAAD,CAAQnhB,KAAK,UAAUoC,QAAS,KAAKyF,KAAKyI,WAA1C,WAIF,kBAAC,GAAD,CAAmBwB,IAAMoP,IAAYrZ,KAAKoH,QAAUiS,GAAWvP,OAAQ9J,SC7J/E,MAAMuZ,GAAQC,KAASD,MACjBE,GAAUC,KAAKD,QAErB,SAASza,GAASxE,IAIX,MAAMmf,WAAkBC,gBAC3BlZ,YAAY/H,GACRkM,MAAMlM,GADS,KAsBnBkhB,WAAcllB,GACHglB,GAAU5D,WAAWphB,EAAO0U,GACxBA,EAAKgH,eAAe,MAAQhH,EAAKgH,eAAe,MAAgC,kBAAfhH,EAAI,GAxBjE,KA6BnByQ,SAAYnlB,GACD,kBAAC,KAAD,CACH+Z,OAAQ,IACR3U,MAAM,MACNpF,KAAMA,IAjCK,KAsCnBolB,WAAa,KACT,MAAMplB,EAAOqL,KAAK9H,MAAMvD,KACxB,OAAI0hB,GAAYJ,eAAethB,GACpB,kBAAC,GAAD,CAAaA,KAAMA,EAAMmV,OAAQ9J,OAGxCsU,GAA0B2B,eAAethB,GAClC2f,GAA0BvK,OAAOpV,GAGxCqL,KAAK6Z,WAAWllB,GACTqL,KAAK8Z,SAASnlB,GAGrBuhB,GAAeD,eAAethB,GACvBuhB,GAAenM,OAAOpV,GAG7ByiB,GAAUnB,eAAethB,GAClByiB,GAAUrN,OAAOpV,GAGrB,+BA1DPqL,KAAKmH,SAAWxO,EAAMmR,OACtB9J,KAAK9H,MAAQ,CAACvD,KAAM,GAAI4hB,cAAe,GAAIU,SAAU,IA6DzDK,UACI,IACI,MAAM3iB,EAAOqL,KAAKmH,SAAS6S,cAAgB,GAC3Cha,KAAKjI,SAAS,CAACpD,KAAMA,IACvB,MAAOoC,KAObgT,SACI,OAAQ,kBAAC,KAAD,CAAUwB,SAAUvM,IACxB,kBAACua,GAAD,CAAOU,OAAO,kBAAkBzf,IAAI,KAChC,kBAAC,KAAD,CAAM0f,iBAAiB,IAAI3O,SAAUvM,GAAUmb,WAAa3f,IAC3C,MAANA,GACCwF,KAAKsM,oBAAoB7D,WAGjC,kBAACgR,GAAD,CAASW,IAAI,eAAe5f,IAAI,KAC/B,kBAAC,GAAD,CAAkByP,IAAMC,GAAKlK,KAAKsM,oBAAoBpC,EAAIJ,OAAQ9J,QAEnE,kBAACyZ,GAAD,CAASW,IAAI,SAAS5f,IAAI,KACtB,kBAAC,GAAD,OAEJ,kBAACif,GAAD,CAASW,IAAI,YAAY5f,IAAI,KAAKwF,KAAK+Z,cACvC,kBAACN,GAAD,CAASW,IAAI,UAAU5f,IAAI,KACvB,6BAAM6b,GAAYc,cAAcnX,KAAK9H,MAAMvD,QAE/C,kBAAC8kB,GAAD,CAASW,IAAI,UAAU5f,IAAI,KACvB,kBAAC,GAAD,CAAcyP,IAAMC,GAAKlK,KAAKwI,aAAa0B,EAAIJ,OAAQ9J,YA/FlE2Z,GAQF5D,WAAa,CAACphB,EAAMqhB,KACvB,GAAIrhB,EAAKwU,OAAS,EACd,OAAO,EAGX,IACI,OAAO6M,EAAIrhB,EAAK,IAClB,MAAOoC,GACL,OAAO,EAGX,OAAO,GCzBA,MAAMsjB,WAAkB7hB,IAAMya,UAEzCvS,YAAY/H,GACRkM,MAAMlM,GADS,KAInB2hB,eAAiB,IACNta,KAAKgE,OAAOA,OAGvByG,oBACIzK,KAAKsa,iBAAiBC,UAAU3f,MAAM4f,WAAa,EAGvDzQ,SACI,OACI,kBAAC,KAAD,CACI0Q,SAAUtL,IACV3D,MAAO,OACPvB,IAAKC,IACDlK,KAAKgE,OAASkG,GAElB/M,MAAO6C,KAAKrH,MAAM+hB,YAClBhgB,KAAK,MACLmU,MAAM,Y,eCpCP,MAAMc,WAAqBnX,IAAMya,UAE5CvS,YAAY/H,GACRkM,MAAMlM,GADS,KAKnBgiB,WAAa,KACT3a,KAAKjI,SAAS,CAAC6iB,WAAW,IAC1B5a,KAAK9H,MAAM2iB,YAAYC,WAPR,KAUnBC,cAAgB,KACZ/a,KAAKjI,SAAS,CAAC6iB,WAAW,KAT1B5a,KAAK9H,MAAQ,CAAC0iB,WAAW,EAAOC,YAAaliB,EAAMkiB,aAYvD9Q,SACI,OAAO,6BAEC/J,KAAK9H,MAAM0iB,UAAY,0BAAMrgB,QAASyF,KAAK+a,eAAe,kBAAC,KAAD,CAAM5iB,KAAK,OAAO6iB,MAAI,KAC5E,0BAAMzgB,QAASyF,KAAK2a,YAAY,kBAAC,KAAD,CAAMxiB,KAAK,mBCnB/D,MAAMqI,GAAS1C,EAAQ,KAER,MAAMmd,GAKjBva,YAAYuC,GAAU,KAQtBiF,IAAM,CAACjK,EAAKid,EAAaC,KACrB,MAAM1Z,EAAUjB,KACJ,IAAIvB,GAASgR,IAErB9M,aAAa,CACb1B,QAASA,EACTwB,QAASjD,KAAKiD,SACfhF,EAAKid,EAAaC,IAfJ,KAyBrBpT,SAAW,CAACqT,EAAMpT,EAAUkT,KACZ,IAAIjc,GvB/B2B,uBuBgCvCC,QAAQH,GAAkB,CAC1B/D,GAAIgN,EACJlS,QAASslB,GACTla,IACiB,KAAbA,EAAGtF,OACHsF,EAAGvB,KAAMwB,IACL+Z,EAAY/Z,EAAG,MACfN,IACAqa,EAAYra,KAGhBqa,EAAY,UAGhB9Z,IACA8Z,EAAY9Z,MAzChBpB,KAAKiD,QAAUA,GCTvB,MAAM6N,GAAgBhT,EAAQ,KAGf,MAAMud,WAAkB7iB,YAEnCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAMnBqY,UAAY,CAACC,EAAWtc,EAAMuc,KAE1B,MAAM/T,EAAQxI,EAAK,GAAGsc,EAAUzW,KAEhC,GAAI0W,GAAUA,EAAM,OAApB,CACI,MAAMnH,EAAS/J,KAAK9H,MAAMgZ,OAAX,OAA4BD,EAAUzW,KACjDuP,IACAkH,EAAS,OAAalH,OAH9B,CAQA,IACI,GAAIvR,YAAgB2Y,cAAchU,EAAMhF,MAEpC,YADA8Y,EAAS,OAAa9T,GAAS,4BAAOA,IAI9C,MAAOpG,IAGgB,kBAAXoG,EAIW,iBAAXA,EAIW,mBAAXA,EAIS,cAAjB8T,EAAUzW,KAAwC,WAAjByW,EAAUzW,KAAqC,QAAjByW,EAAUzW,MACzEyW,EAAS,OAAa9T,GAAS,2BAAMA,EAAMkE,aAJ3C4P,EAAS,OAAa9T,GAAS,4BAAOA,EAAMkE,YAJ5C4P,EAAS,OAAa9T,GAAS,4BAAOA,EAAM4F,KAAK,KAAKqO,UAAU,EAAG,MAJnEH,EAAS,OAAa9T,GAAS,4BAAO5G,KAAKC,UAAU2G,GAAOiU,UAAU,EAAG,QA5B9D,KA+CnBkK,UAAY,CAAC3mB,EAAMuc,KACf,IAAIG,EAAO,GACPC,EAAS,GACTC,EAAO,GACX,MAAM7P,EAAO1B,KA0Bb,OAxBArL,EAAKgc,SAAQ,SAAUtH,GACnB,IAAK,IAAI7O,KAAO6O,EACZ,IAAKiI,EAAO9W,GAAM,CACd,MAAMyW,EAAY,CACdlX,MAAOS,EACPgX,UAAWhX,EACXA,IAAKA,GAETkH,EAAKsP,UAAUC,EAAWtc,GAC1B0c,EAAKxO,KAAKoO,GACVK,EAAO9W,IAAO,MAM1B7F,EAAKgc,SAAQ,SAAUtH,EAAMoI,GACzB,IAAIC,EAAW,GACfL,EAAKV,SAAQ,SAAUnW,GACnBkX,EAASlX,EAAIA,KAAO6O,EAAK7O,EAAIA,QAEjCkX,EAAQ,IAAUD,EAClBF,EAAK1O,KAAK6O,MAEP,CAACL,EAAME,IA7EC,KAgFnB+F,QAAU,CAAC3iB,EAAMuc,KAAW,QAEHlR,KAAKsb,UAAU3mB,EAAMuc,GAFlB,mBAEjBG,EAFiB,KAEXE,EAFW,KAGxBvR,KAAKjI,SAAS,CAAC4Z,QAASN,EAAME,KAAMA,EAAML,OAAQA,KAnFnC,KAsFnBU,eAAiB,CAACvN,EAAKoN,EAAOI,KACT,gBAAbxN,EAAIhP,MAAuC,QAAbgP,EAAIhP,MAClC2K,KAAKjI,SAAS,CACV+Z,KAAM,CACFC,SAAS,EACTjc,QAASuO,EAAIlH,UA3FV,KAiGnB6U,eAAiB,KACbhS,KAAKjI,SAAS,CACV+Z,KAAM,CACFC,SAAS,MApGF,QAEM/R,KAAKsb,UAAU3iB,EAAMhE,MAAQ,GAAIgE,EAAMuY,QAAU,IAFvD,mBAERG,EAFQ,KAEFE,EAFE,KAGfvR,KAAK9H,MAAQ,CAACyZ,QAASN,EAAME,KAAMA,EAAMO,KAAM,CAACC,SAAS,IAsG7DhI,SACI,MAAMrI,EAAO1B,KACb,OAAQ,2BACA,gBAAC,KAAD,CACIkS,MAAO,CAAC7N,EAAKoN,KACF,CACHU,cAAgBN,IACZnQ,EAAKkQ,eAAevN,EAAKoN,EAAOI,MAO5CF,QAASjQ,EAAKxJ,MAAMyZ,QACpBS,WAAY1Q,EAAKxJ,MAAMqZ,OAC3B,gBAAC,KAAD,CACIxX,MAAO,OACPC,QAAS0H,EAAKxJ,MAAM4Z,KAAKC,QACzB9X,SAAUyH,EAAKsQ,eACf9X,KAAMwH,EAAKsQ,eACX5X,WAAW,SACXiY,OAAO,MAEP,gBAAC,GAAD,CAAeC,OAAQ5Q,EAAKxJ,MAAM4Z,KAAKhc,SAAW,QCpIvD,MAAMylB,WAAqB/iB,IAAMya,UAE5CvS,YAAY/H,GACRkM,MAAMlM,GADS,KAMnB2e,QAAWkE,IAMP,GALAxb,KAAKjI,SAAS,CAACyjB,YAAaA,EAAaC,SAAU,KAC/Czb,KAAK0b,iBACL1b,KAAK0b,gBAAgBpE,QAAQtX,KAAK9H,MAAMsjB,YAAa,IAGrDxb,KAAK2b,eAAgB,CACrB,MAAMtS,EAAOrJ,KAAK9H,MAAMsjB,YAAY,GACpCxb,KAAK2b,eAAerE,QAAQjO,KAdjB,KAmBnBjI,KAAQvF,IACJmE,KAAKjI,SAAS,CAAC0jB,SAAU5f,IACrBmE,KAAKgE,QACLhE,KAAKgE,OAAOA,OAAOE,SAASrI,IAtBjB,KA0BnB+f,YAAc,KACV,GAAI5b,KAAK9H,MAAMsjB,aAAepE,GAAUnB,eAAejW,KAAK9H,MAAMsjB,aAAc,CAC5E,MAAMnS,EAAOrJ,KAAK9H,MAAMsjB,YAAY,GACpC,OAAO,kBAAC,GAAD,CAAgB7mB,KAAM0U,EAAMY,IAAMC,GAAOlK,KAAK2b,eAAiBzR,IAEtE,OAAO,+BA/BI,KAoCnB2R,aAAe,IACP7b,KAAK9H,MAAMujB,SACJ,6BAAK,kBAAC,KAAD,CACRhB,SAAUtL,IACV3D,MAAO,OACPvB,IAAKC,IACDlK,KAAKgE,OAASkG,GAElB/M,MAAO6C,KAAK9H,MAAMujB,SAClB/gB,KAAK,OACLmU,MAAM,wBAIH,8BAlDI,KAsDnBiN,aAAe,IACP9b,KAAK9H,MAAMsjB,YACJ,kBAAC,GAAD,CAAW7mB,KAAMqL,KAAK9H,MAAMsjB,YAAavR,IAAMC,GAAOlK,KAAK0b,gBAAkBxR,IAE7E,8BAxDXlK,KAAK9H,MAAQ,CAACujB,SAAU,IA6D5B1R,SACI,OAAO,6BACF/J,KAAK6b,eAEF7b,KAAK8b,eACP9b,KAAK4b,gBCpEJ,MAAMG,WAAoBvjB,IAAMya,UAC3CvS,YAAY/H,GACRkM,MAAMlM,GADS,KAKnBmiB,QAAU,KACN,MAAM7c,EAAM+B,KAAKgc,UAAU1B,iBAAiBvV,WAC7B,IAAIkW,GAAO,KACnB/S,IAAIjK,EAAMpC,IACbmE,KAAKic,aAAa3E,QAAQzb,GAC1BmE,KAAK+G,aAAahP,SAAS,CAAC6iB,WAAW,IACvC5a,KAAKkc,SAASC,mBACftgB,IACCmE,KAAKic,aAAa7a,KAAKvF,GACvBmE,KAAK+G,aAAahP,SAAS,CAAC6iB,WAAW,OAd5B,KAkBnBwB,iBAAmB,IACc,KAAtBpc,KAAKqc,aAnBG,KAsBnBA,WAAa,IACFrc,KAAKgc,UAAU1B,iBAAiBvV,WArBvC/E,KAAKkc,SAAWvjB,EAAMmR,OAyB1BC,SACI,OAAO,6BACH,kBAAC,GAAD,CAAW2Q,YAAa1a,KAAKrH,MAAM+hB,YAAazQ,IAAKC,IACjDlK,KAAKgc,UAAY9R,GAClB2Q,YAAa7a,OAChB,kBAAC,GAAD,CAAciK,IAAKC,IACflK,KAAK+G,aAAemD,GACrB2Q,YAAa7a,OAChB,kBAAC,GAAD,CAAciK,IAAKC,GAAMlK,KAAKic,aAAe/R,MCvCzD,MAAMoS,GAAgB,2CAEP,MAAMC,WAAiB/jB,IAAMya,UACxCvS,YAAY/H,GACRkM,MAAMlM,GADS,KAQnB6jB,qBAAwB9B,GACb,kBAAC,GAAD,CAAa5Q,OAAQ9J,KAAM0a,YAAaA,EAAazQ,IAAKC,GAAMlK,KAAKyc,OAAOvS,KATpE,KAYnBuS,OAAUC,IACFA,GACA1c,KAAK2c,gBAAgB9Z,KAAK6Z,IAdf,KAkBnBP,gBAAkB,KACM,KACTnc,KAAK2c,gBAAgBC,OAAO,GAAG,GAAGR,mBAExCS,KACD7c,KAAK8c,aAAaja,KAAK7C,KAAKwc,wBAC5Bxc,KAAKjI,SAAS,CAAC+kB,aAAc9c,KAAK8c,gBAEtC9c,KAAK+c,gBA1BU,KA6BnBA,aAAe,KACX,MAAM5f,EAAQ6C,KAAK2c,gBAAgBvT,IAAKsT,GAC7BA,EAASL,cACjBtZ,KAAKuZ,IAERtc,KAAKiL,OAAOlD,SAAS5K,EAAO6C,KAAKgI,SAAWnM,QAlC7B,KA4CnBqH,KAAO,CAAC/F,EAAO6K,KACXhI,KAAKgI,SAAWA,EAChBhI,KAAK0a,YAAcvd,EACfA,GAAmB,cAAVA,IACT6C,KAAK2c,gBAAkB,GACvB3c,KAAK8c,aAAe9c,KAAK0a,YAAYpR,MAAMgT,IAAelT,IAAKsR,GACpD1a,KAAKwc,qBAAqB9B,IAErC1a,KAAKjI,SAAS,CAAC+kB,aAAc9c,KAAK8c,iBAlDtC9c,KAAK2c,gBAAkB,GACvB3c,KAAK8c,aAAe,CAAC9c,KAAKwc,qBAAqB,KAC/Cxc,KAAK9H,MAAQ,CAAC4kB,aAAc9c,KAAK8c,cACjC9c,KAAKiL,OAAS,IAAIgQ,GAAO,KAiC7BxQ,oBACQzK,KAAKrH,MAAM8U,gBACXzN,KAAKrH,MAAM8U,eAAezN,MAgBlC+J,SACI,OAAO,6BAEC/J,KAAK9H,MAAM4kB,eCjE3B,MAAMtc,GAAS1C,EAAQ,KAEhB,MAAMkf,GACTtc,YAAYyL,GACRnM,KAAKmM,UAAYA,EACjBnM,KAAKP,IAAM,GAETwd,iBAAkB,IAAD,kHACf,EAAK7U,gBACLQ,cAAc,EAAKR,eACnB,EAAKA,cAAgB,MAHN,6CAOjB8U,WAAY,IAAD,kHACb,EAAKD,iBACL,EAAK7U,cAAgBC,YAAW,sBAAC,kCAAA3T,EAAA,6DACvB+M,EAAUjB,KACVwP,EAAM,IAAIlb,cAFa,SAGXkb,EAAI1O,UAAJ,4BAAoC,EAAK7B,IAAL,SAAuB,EAA3D,4CAAyGgC,EAAS,IAHvG,OAGvB9L,EAHuB,QAIvBmL,EAAUnL,EAAIG,QAAQ,IACjB,MAAUqT,OAAS,GAC1B,EAAKgD,UAAUrL,EAAO,MAAUsI,IAAIC,GACzBA,EAAKC,MAAM,cAAc,IACjCvG,KAAK,OAEZ,EAAKtD,IAAL,OAAqBqB,EAAO,OAVC,2CAW9B,KAbU,8CCGF4K,KAAXD,O,MAEFjL,GAAS1C,EAAQ,KAGvB,MAAMqf,WAAkB3kB,YAEpBkI,YAAY/H,GACRkM,MAAMlM,GADS,KAenBuK,KAAO,CAAC/F,EAAO6K,KACXhI,KAAKjI,SAAS,CAAEoF,MAAOA,EAAO6K,SAAUA,GAAY,KAChDhI,KAAK4L,aAAa5H,OAAOE,SAAS/G,EAAO,MAjB9B,KAgCnB0O,YAAc,KACV,MAAMmE,EAAM,IAAI/Q,G7BpD2B,uB6BqDrCyC,EAAO1B,KAEPiM,EAAajM,KAAKkM,yBAEnBxK,EAAKxJ,MAAM8P,SAKhBgI,EAAI9Q,QAAQH,GAAkB,CAC1B/D,GAAI0G,EAAKxJ,MAAM8P,SACflS,QAAS4L,EAAKqK,eAAehH,YAC7B7D,IACiB,KAAbA,EAAGtF,OACHsF,EAAGvB,KAAMwB,IACLO,EAAKyK,UAAUhL,EAAG,MAClBN,IACAa,EAAKyK,UAAUtL,KAGnBa,EAAKyK,UAAU,UAGnB/K,IACAM,EAAKyK,UAAU/K,KAnBf6K,EAAW/H,SAAS,2CAvCT,KAoHnB4H,WAAa,IACF9L,KAAK+L,eAAehH,WArHZ,KAwHnBC,aAAe,KACX,IAAIC,EAAiBjF,KAAK+L,eAAe7G,oBAEzC,OADclF,KAAK+L,eAAehI,QAAQoB,aAAaF,IA1HxC,KA8HnB+G,eAAkBpM,IACd,MAAMoE,EAAShE,KAAK+L,eACdtH,EAAIT,EAAOU,oBACjBV,EAAOD,QAAQK,OAAOK,EAAG7E,GACzBoE,EAAOW,SAlIQ,KAqInBoH,aAAe,IACJ/L,KAAK4L,aAAa5H,OAtIV,KAyInBkI,uBAAyB,IACdlM,KAAKmH,SAAS8E,WAAW9S,QAAQ6K,OA1IzB,KA6InBmI,UAAatQ,IACT,MACMkI,EADS/D,KAAKkM,yBACGnI,QACvBA,EAAQK,OAAO,CACXC,IAAKN,EAAQO,YACbC,OAAQ,GACT,KAAO1I,IAnJK,KAsJnBuQ,aAAe,IACJpM,KAAKmH,SAASG,KAAKnO,QAvJX,KA0JnBkT,WAAa,IACFrM,KAAKmH,SAASC,QAAQjO,QAzJ7B6G,KAAKqN,SAAWrN,KAAKrH,MAAM0U,UAAY,MACvCrN,KAAKmH,SAAWnH,KAAKrH,MAAMmR,OAAO3C,SAElCnH,KAAK9H,MAAQ,CAAEiF,MAAO,GAAIqJ,SAAS,GAEnCxG,KAAKwN,aAAexN,KAAKwN,aAAaD,KAAKvN,MAC3CA,KAAKsN,YAActN,KAAKsN,YAAYC,KAAKvN,MAEzCA,KAAKod,WAAa,IAAIJ,GAAWhd,KAAKmM,WAEtCnM,KAAKP,IAAM,GAUfgL,oBACQzK,KAAKrH,MAAM8U,gBACXzN,KAAKrH,MAAM8U,eAAezN,MAIlCuL,SAAS8C,IAmCHb,eAAgB,IAAD,yIACjB,EAAKzG,aAAahP,SAAS,CAACyO,SAAQ,IACpC,EAAK/E,QAAUjB,KACTwP,EAAM,IAAIlb,eACV4M,EAAO,GACRwK,yBAAyBhI,SAAS,IACvCxC,EAAK2K,aAAa3E,OAAOnR,KAAKO,MAAM,OAE9BumB,EAAS3b,EAAKsD,eAChBsY,EAAW5b,EAAKoK,aAGL,KAAXuR,IACAC,EAAWD,GAGTrV,EAAWtG,EAAKxJ,MAAM8P,SAC5B,EAAKoV,WAAWF,WAjBC,UAkBClN,EAAI1O,UAAUgc,EAAU,EAAK7b,QAAS,CACpDuG,SAAUA,EACVuV,QAAS,SACTjf,YAAa,WArBA,WAuBE,OALb3I,EAlBW,QAuBTiG,OAvBS,wBAwBb,EAAKwhB,WAAWH,iBAChB,EAAK9Q,UAAUxW,EAAIG,SACnB,EAAKiR,aAAahP,SAAS,CAACyO,SAAQ,IA1BvB,2BA6BjB,IACI,EAAK2F,UAAUxW,EAAIG,QAAQiN,KAAK,OACnC,MAAMya,GACH,EAAKrR,UAAUxW,EAAIG,QAAJ,KAEnB,EAAKsnB,WAAWH,iBAChB,EAAKlW,aAAahP,SAAS,CAACyO,SAAQ,IAnCnB,8CAsCf8G,cAAe,IAAD,+HACX,EAAK7L,QADM,wDAEVA,EAAUjB,KACVwP,EAAM,IAAIlb,cAHA,SAIEkb,EAAI1O,UAAU,SAAW,EAAKG,QAAQ,IAAKA,EAAS,IAJtD,OAIV9L,EAJU,OAKhB,IACI,EAAKwW,UAAUxW,EAAIG,QAAQ,GAAZ,aAClB,MAAMiB,GACH,EAAKoV,UAAUxW,EAAIG,SAGvB,EAAK2L,QAAU,KACf,EAAK2b,WAAWH,iBAZA,8CAyDpBlT,SAEI,OACI,uBAAK3M,UAAU,qBAEX,uBAAKkR,WAAa9B,GAAQA,EAAI+B,iBAAkBC,OAAQxO,KAAKuM,QACzD,gBAAC,aAAD,CAAWkC,YAAa,CAAEC,OAAQ,SAAWC,SAAU,KAAQ3O,KAAK4L,aAAazS,QAAQ6K,OAAO4K,WAAa,gBAAC,KAAD,CACzG3E,IAAKZ,GAAQrJ,KAAK4L,aAAavC,EAC/B3O,KAAMsF,KAAKqN,SACXwB,MAAM,SACNrD,MAAO,OACPkD,OAAQ,OACRnD,SAAUvL,KAAKuL,SACflW,KAAK,eACLwF,SAAU,GACViU,iBAAiB,EACjBC,YAAY,EACZC,qBAAqB,EACrBC,YAAa,CACTC,gBAAiBC,KAErBC,WAAY,CACRC,2BAA2B,EAC3BC,0BAA0B,EAC1BC,gBAAgB,EAChBC,iBAAiB,EACjBC,QAAS,EACTC,0BAA0B,OAKtC,gBAAC,GAAD,CAAczF,IAAKZ,GAAQrJ,KAAK+G,aAAasC,EAAMS,OAAQ9J,SAO3E,MAAM2P,WAAqBnX,YACvBkI,YAAY/H,GACRkM,MAAMlM,GADS,KAMnB4S,SAAYpO,IACR6C,KAAKjI,SAAS,CAAEkL,QAAS9F,KALzB6C,KAAK9H,MAAQ,CAAEsO,SAAS,EAAOvD,QAAS,MACxCjD,KAAK8J,OAASnR,EAAMmR,OAQxBC,SACI,OACI,uBAAK3M,UAAU,wBACX,gBAAC,IAAD,CAAQ7C,QAASyF,KAAK8J,OAAO0D,aACzBhH,QAASxG,KAAK9H,MAAMsO,SADxB,OAEA,gBAAC,IAAD,CAAQjM,QAASyF,KAAK8J,OAAOwD,aAA7B,UACA,gBAAC,IAAD,CAAQ/S,QAASyF,KAAK8J,OAAO+B,aAA7B,UASDsR,UCrPA,MAAMM,WAAqBjlB,IAAMya,UAC5CvS,YAAY/H,GACRkM,MAAMlM,GADS,KAKnB8jB,OAAUC,IACHA,IACC1c,KAAKgE,OAAS0Y,IAPH,KAkBnBxZ,KAAO,CAAC/F,EAAO6K,KACXhI,KAAKgE,OAAOd,KAAK/F,EAAO6K,IAjBxBhI,KAAKmH,SAAWnH,KAAKrH,MAAMmR,OAU/BW,oBACQzK,KAAKrH,MAAM8U,gBACXzN,KAAKrH,MAAM8U,eAAezN,MASlC+J,SACI,OAAO,6BACH,kBAAC,GAAD,CAAWD,OAAQ9J,KAAMiK,IAAKC,GAAMlK,KAAKyc,OAAOvS,GAAKmD,SAAS,aCxB1E,MAAMoM,GAAUC,KAAKD,QAEd,MAAMiE,WAAkBllB,YAC3BkI,YAAY/H,GACRkM,MAAMlM,GADS,KAqBnBglB,QAAW1T,IACPjK,KAAK4d,OAAO/a,KAAKoH,IAtBF,KAyBnB4T,iBAAmB,KACf,MAAMC,EAAY9d,KAAK9H,MAAM4lB,UAC7B,IAAIC,EAAc,KAMlB,OALA/d,KAAK4d,OAAOjN,QAAQtH,IACZA,EAAKyU,YAAcA,IACnBC,EAAc1U,KAGf0U,GAjCQ,KAoCnBxS,SAAYuS,IAER,IAAIC,EAAc,KAElB/d,KAAK9H,MAAM8lB,MAAMrN,QAAQtH,IACjBA,EAAK7O,MAAQsjB,IACbC,EAAc1U,KAIlB0U,IAAgBA,EAAYhkB,MAAMkkB,SAAS,UAC3Cje,KAAK8J,OAAO/R,SAAS,CAACmmB,cAAe,WAC/BH,IAAgBA,EAAYhkB,MAAMkkB,SAAS,OACjDje,KAAK8J,OAAO/R,SAAS,CAACmmB,cAAe,aAErCle,KAAK8J,OAAO/R,SAAS,CAACmmB,cAAe,iBAGzCle,KAAKjI,SAAS,CAAC+lB,eAtDA,KAyDnBK,OAAS,CAACC,EAAW3pB,KACjBuL,KAAKvL,GAAQ2pB,IA1DE,KA6DnBC,QAAU,CAACC,EAAStf,KAChB,MAyBMgf,EAAQhe,KAAK9H,MAAM8lB,MACnBF,EAAS,gBAAY9d,KAAKue,eAChCP,EAAMnb,KAAK,CACP9I,MAAOukB,GAAW,SAAWte,KAAKue,YAClCzoB,QA7BYgoB,IACRQ,EAAQL,SAAS,UACV,gBAAC,GAAD,CAAgBnU,OAAQ9J,KAAK8J,OAAQ2D,eAAiBxD,IACzDjK,KAAK2d,QAAQ,CAAC1T,IAAKA,EAAK6T,UAAWA,IAC/B9e,GACAA,EAAS,CAACiL,IAAKA,EAAK6T,UAAWA,KAEpCA,UAAWA,IACRQ,EAAQL,SAAS,OAChB,gBAAC,GAAD,CAAUnU,OAAQ9J,KAAK8J,OAAQ2D,eAAiBxD,IACnDjK,KAAK2d,QAAQ,CAAC1T,IAAKA,EAAK6T,UAAWA,IAC/B9e,GACAA,EAAS,CAACiL,IAAKA,EAAK6T,UAAWA,KAEpCA,UAAWA,IACTQ,EAAQL,SAAS,OACf,gBAAC,GAAD,CAAcnU,OAAQ9J,KAAK8J,OAAQ2D,eAAiBxD,IACvDjK,KAAK2d,QAAQ,CAAC1T,IAAKA,EAAK6T,UAAWA,IAC/B9e,GACAA,EAAS,CAACiL,IAAKA,EAAK6T,UAAWA,KAEpCA,UAAWA,SANZ,EAcG9Z,CAAO8Z,GAChBtjB,IAAKsjB,IAET9d,KAAKjI,SAAS,CAACimB,QAAOF,eA9FP,KAiGnBU,IAAM,KACFxe,KAAKqe,QAAQ,UAAYre,KAAKue,YAAY,GAAIxd,QAlG/B,KAqGnB0d,wBAA2BL,IACvB,IAAIM,EAMJ,OALA1e,KAAK9H,MAAM8lB,MAAMrN,QAAQ,CAACgO,EAAMC,KACxBD,EAAKnkB,MAAQ4jB,IACbM,EAAYE,EAAI,KAGjBF,GA5GQ,KA+GnBG,OAAUT,IACN,IAAIN,EAAY9d,KAAK9H,MAAM4lB,UACvBY,EAAY1e,KAAKye,wBAAwBL,GAE7C,MAAMJ,EAAQhe,KAAK9H,MAAM8lB,MAAMnT,OAAO8T,GAAQA,EAAKnkB,MAAQ4jB,GACvDJ,EAAM7U,QAAU2U,IAAcM,IAE1BN,EADAY,GAAa,EACDV,EAAMU,GAAWlkB,IAEjBwjB,EAAM,GAAGxjB,KAG7B,MAAMskB,EAAgB9e,KAAK4d,OAAO/S,OAAQxB,GAASA,EAAKyU,YAAcM,GACtEpe,KAAK4d,OAAS5d,KAAK4d,OAAO/S,OAAQxB,GAASA,EAAKyU,YAAcM,GAC9Dpe,KAAK8J,OAAOiV,YAAYD,EAAc,IAEtC9e,KAAKjI,SAAS,CAACimB,QAAOF,eA7HtB9d,KAAK8J,OAASnR,EAAMmR,OACpB9J,KAAK4d,OAAS,GACd5d,KAAKue,YAAc,EACnB,MAAMP,EAAQ,CACV,CACIjkB,MAAO,UACPjE,QAAS,gBAAC,GAAD,CAAgBgU,OAAQ9J,KAAK8J,OAAQ2D,eAAiBxD,IAC3DjK,KAAK2d,QAAQ,CAAC1T,IAAKA,EAAK6T,UAAW,aACpCA,UAAU,YACbtjB,IAAK,YAGbwF,KAAK9H,MAAQ,CACT4lB,UAAWE,EAAM,GAAGxjB,IACpBwjB,SAEJhe,KAAKue,cAgHTxU,SACI,OACI,gBAAC,KAAD,CACIwB,SAAUvL,KAAKuL,SACfuS,UAAW9d,KAAK9H,MAAM4lB,UACtB3lB,KAAK,gBACLgmB,OAAQne,KAAKme,QAEZne,KAAK9H,MAAM8lB,MAAM5U,IAAIuV,GAAQ,gBAAC,GAAD,CAASvE,IAAKuE,EAAK5kB,MAAOS,IAAKmkB,EAAKnkB,IAC3BmC,SAAUgiB,EAAKhiB,UAAWgiB,EAAK7oB,Y,uBCjJtF,MAAMkpB,GAAaC,IAAMC,MAElB,MAAMC,WAAqB3mB,YAC9BkI,YAAY/H,GACRkM,MAAMlM,GACNqH,KAAKof,UAAYzmB,EAAMmR,OACvB9J,KAAK9H,MAAQ,GAGjB6R,SACI,OAAO,2BACH,2CACA,gBAACiV,GAAD,CAAYK,SAAS,GAChBrf,KAAK9H,MAAMqe,iBChB5B,MAAM/V,GAAS1C,EAAQ,KACR,MAAMwhB,OACVC,iBAAmB,KACd/e,KAAW,IAAIgf,QAAQ,KAAM,IAFxBF,GAIVG,WAAa,IACTjf,KAAW,GALL8e,GAQVI,YAAe9f,GACdA,EACGA,EAAI4f,QAAQ,SAAU,OADb5f,EATH0f,GAaVK,QAAW/f,GACVA,EAAIggB,WAAW,MAAShgB,EAAIqe,SAAS,MAGrCre,EAAIggB,WAAW,MAAQhgB,EAAIqe,SAAS,KAF7Bre,EAAIgd,MAAM,EAAGhd,EAAIuJ,OAAS,GAKjCvJ,EAAIggB,WAAW,QAAUhgB,EAAIqe,SAAS,OAC/Bre,EAAIgd,MAAM,EAAGhd,EAAIuJ,OAAS,GAE9BvJ,EAvBM0f,GA0BVO,UAAY,CAACC,EAAMC,KACtBA,EAAMD,GACFA,EAAKE,UACLF,EAAKE,SAAS5W,IAAIC,IACdiW,GAAMO,UAAUxW,EAAM0W,MA9BjBT,GAkCVW,QAAU,CAACH,EAAMC,KAChBD,EAAKE,UACLF,EAAKE,SAAS5W,IAAIC,IACdiW,GAAMW,QAAQ5W,EAAM0W,KAG5BA,EAAMD,IAxCOR,GA2CVY,gBAAkB,KACd,CACH1hB,UAAW,QACX2hB,UAAW,OACXC,eAAe,IA/CNd,GAmDVe,2BAA6B,KACzB,CACH7hB,UAAW,QACX4hB,eAAe,IAtDNd,GA0DVgB,SAAYC,GACXA,EAAEX,WAAW,MAAQW,EAAEtC,SAAS,KAAasC,EAC3C,IAAN,OAAYA,EAAZ,KA5DajB,GA+DVkB,SAAW,CAACC,EAAQhI,KACvB,IAAIA,EACH,MAAO,IAAI,IAAIiI,IAAID,IAEpB,MAAME,EAAQ,GACd,OAAOF,EAAO5V,OAAOxB,KACbA,EAAKoP,KAAUkI,KAGfA,EAAMtX,EAAKoP,IAAUpP,EAAKoP,IACnB,KAzEF6G,GA6EVsB,kBAAoB,CAAClM,EAAGC,IACpBpe,KAAKC,UAAUke,KAAOne,KAAKC,UAAUme,GA9E/B2K,GAgFVuB,kBAAoB,CAACC,EAAMC,IAG9B,SAASC,EAAgBtM,EAAGC,GACxB,IAAIlQ,EAIJ,GAAIwc,MAAMvM,IAAMuM,MAAMtM,IAAmB,kBAAND,GAA+B,kBAANC,EACxD,OAAO,EAMX,GAAID,IAAMC,EACN,OAAO,EAMX,GAAkB,oBAAND,GAAiC,oBAANC,GAClCD,aAAa7M,MAAQ8M,aAAa9M,MAClC6M,aAAawM,QAAUvM,aAAauM,QACpCxM,aAAayM,QAAUxM,aAAawM,QACpCzM,aAAa0M,QAAUzM,aAAayM,OACrC,OAAO1M,EAAErT,aAAesT,EAAEtT,WAI9B,KAAMqT,aAAaxS,QAAUyS,aAAazS,QACtC,OAAO,EAGX,GAAIwS,EAAEvD,cAAcwD,IAAMA,EAAExD,cAAcuD,GACtC,OAAO,EAGX,GAAIA,EAAEhU,cAAgBiU,EAAEjU,YACpB,OAAO,EAGX,GAAIgU,EAAE2M,YAAc1M,EAAE0M,UAClB,OAAO,EAIX,SA/CMC,GA+CQC,QAAQ7M,IAAM,SA/CX8M,GA+C2BD,QAAQ5M,IAAM,EACtD,OAAO,EAKX,IAAKlQ,KAAKkQ,EAAG,CACT,GAAIA,EAAEtE,eAAe5L,KAAOiQ,EAAErE,eAAe5L,GACzC,OAAO,EAEN,UAAWkQ,EAAElQ,YAAciQ,EAAEjQ,GAC9B,OAAO,EAIf,IAAKA,KAAKiQ,EAAG,CACT,GAAIC,EAAEtE,eAAe5L,KAAOiQ,EAAErE,eAAe5L,GACzC,OAAO,EAEN,UAAWkQ,EAAElQ,YAAciQ,EAAEjQ,GAC9B,OAAO,EAGX,cAAgBiQ,EAAEjQ,IACd,IAAK,SACL,IAAK,WAKD,SA7EN6c,GA0EgBze,KAAK6R,SA1EV8M,GA2EM3e,KAAK8R,IAEXqM,EAAgBtM,EAAEjQ,GAAIkQ,EAAElQ,IACzB,OAAO,QA9EjB6c,GAiFgBG,YAjFLD,GAkFMC,MACX,MAEJ,QACI,GAAI/M,EAAEjQ,KAAOkQ,EAAElQ,GACX,OAAO,GAMvB,OAAO,EAGJuc,CAAgBF,EAAMC,GCxKrC,MAAM/B,GAAaC,IAAMC,MACnBzT,GAASC,KAAOD,OAGf,MAAMiW,WAAkBlpB,YAC3BkI,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YASnB8R,kBATmB,sBASC,kCAAA/V,EAAA,6DACH,EACPG,EAAS,IAAIC,cAFH,SAGED,EAAOyM,UAAU,wCAAwCge,GAAMG,aAAaH,GAAMe,8BAHpF,OAGV1qB,EAHU,OAIVhB,EAAO2qB,GAAMkB,SAAS7qB,EAAIG,QAAQnB,KAAK,QACvCgtB,EAAoB,GAC1BhtB,EAAKgc,QAAQtH,IACTsY,EAAkB9e,KAAK,gBAAC,GAAD,CAAQrI,IAAK6O,EAAKhU,KAAM8H,MAAOkM,EAAKhU,MAAOgU,EAAKhU,SAE3E,EAAK0C,SAAS,CAAC4pB,kBAAmBA,IATlB,2CATD,KAqBnB5gB,OAAUyL,IACNxM,KAAKrL,KAAKoM,OAAOyL,EAAI6L,OAAOuJ,aAAa,SAAWpV,EAAI6L,OAAOlb,OAtBhD,KA0BnB0kB,WAAa,CAAC1kB,EAAOqP,KACjBxM,KAAKrL,KAAKmtB,YAAc3kB,EACxB,MAAMuE,EAAO1B,KACD,IAAIf,GAASL,IACrB0C,UAAU,GAAd,2CAAuDnE,EAAvD,gBAA8ExI,IAC1E,MAAM4hB,EAAgB,GACtB5hB,EAAKgc,QAAQtH,IACTkN,EAAc1T,KAAK,gBAAC,KAAD,CAAKrI,IAAG,cAAS6O,EAAK0Y,QACrC,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOvnB,IAAG,gBAAW6O,EAAK0Y,OAASnnB,MAAO,CAAC0e,aAAc,QAASjkB,KAAMgU,EAAK0Y,MAAOxW,SAAU7J,EAAKX,OAAQ5I,KAAK,OACzG6pB,YAAa3Y,EAAK0Y,MAClBE,YAAa5Y,EAAK/O,mBAIrCoH,EAAKwgB,cAAc/oB,QAAQpB,SAAS,CAACwe,cAAeA,KACrDnV,QA1CY,KA+CnBzK,KAAQ6V,IACJxM,KAAKrL,KAAKwtB,MAAQ3V,EAAI6L,OAAOlb,OAhDd,KAmDnBqI,UAAagH,IACTxM,KAAKrL,KAAKytB,WAAa5V,EAAI6L,OAAOlb,OApDnB,KAuDnBklB,UAAY,KAER,IAAIC,EAAc,GAClB,IAAK,IAAIC,KAAKviB,KAAKrL,KAAKoM,OAAQ,CAC5B,IAAIwf,EAAIvgB,KAAKrL,KAAKoM,OAAOwhB,GACzB,GAAGhC,EAAE,CACD,IAAIiC,EAAK,IAAOjC,EAAI,IACV,SAANgC,GAAsB,0BAANA,IAChBC,EAAK,MAAQjC,EAAI,OAErB+B,EAAYzf,KAAK0f,EAAE/C,QAAQ,aAAc,KAAO,IAAMgD,IAI9D,IAAIC,EAAW,GAIf,OAHIH,EAAYnZ,OAAS,IACrBsZ,EAAW,SAET,QAAN,OAjBaziB,KAiBOrL,KAAKmtB,YAAzB,aAjBa9hB,KAiBkCrL,KAAKwtB,MAApD,aAA+DM,EAA/D,YAA2EH,EAAYvf,KAAK,WAA5F,eAjBa/C,KAiBqGrL,KAAKytB,WAAvH,MAvEApiB,KAAK0iB,MAAQ/pB,EAAMmR,OACnB9J,KAAKrL,KAAO,CAACoM,OAAO,IACpBf,KAAK9H,MAAQ,CAACypB,kBAAmB,IACjC3hB,KAAKkiB,cAAgB1pB,cAuEzBuR,SACI,OAAO,2BACH,gBAAC,GAAD,CAAYsV,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,kBACc,gBAAC,KAAD,CACV9T,SAAUvL,KAAK6hB,WACfc,YAAU,EACV/nB,MAAO,CAAC4Q,MAAO,KACfyW,YAAY,yBACZW,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAAWA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GACvGhjB,KAAK9H,MAAMypB,sBAKrB,2BACC3hB,KAAKrH,MAAMsqB,WAAY,4BAAc,gBAAC,GAAD,CAAY5D,SAAS,GACvD,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAO9T,SAAUvL,KAAKrJ,KAAMwB,KAAK,OAAOoF,MAAM,OAAOykB,YAAY,OAC1DC,YAAY,8BAI/B,2BAEKjiB,KAAKrH,MAAMuqB,gBAAiB,4BAAa,gBAAC,GAAD,CAAY7D,SAAS,GAC9D,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOlnB,KAAK,OAAOoT,SAAUvL,KAAKwF,UAAWjI,MAAM,YAAYykB,YAAY,YACpEC,YAAY,iBAKhC,2BACA,gBAAC,GAAD,CAAcnY,OAAQ9J,KAAMiK,IAAKjK,KAAKkiB,kBC1HlD,MAAMlD,GAAaC,IAAMC,MAElBiE,IADQzX,KAAOD,OACHwT,IAAZkE,UAGA,MAAMC,WAAuB5qB,YAChCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAQnB0qB,YAAeha,GACQ,gBAAfA,EAAK0Y,OAA0C,kBAAf1Y,EAAK0Y,MAC9B,KAEQ,SAAf1Y,EAAK0Y,OAAmC,0BAAf1Y,EAAK0Y,MACvB,gBAAC,KAAD,KAAK,gBAAC,KAAD,KAAM1Y,EAAK0Y,MAAX,IAAkB,gBAACoB,GAAD,CAAUvoB,MAAO,CAAC0e,aAAc,QAASjkB,KAAMgU,EAAK0Y,MAC1CxW,SAAUvL,KAAKe,OACf5I,KAAK,OAAOoZ,KAAM,OAEvD,gBAAC,KAAD,KACH,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAO3W,MAAO,CAAC0e,aAAc,QAASjkB,KAAMgU,EAAK0Y,MAAOxW,SAAUvL,KAAKe,OAAQ5I,KAAK,OAC7E6pB,YAAa3Y,EAAK0Y,MAClBE,YAAa5Y,EAAK/O,gBArBlB,KA8CnByG,OAAUyL,IACNxM,KAAKrL,KAAKoM,OAAOyL,EAAI6L,OAAOuJ,aAAa,SAAWpV,EAAI6L,OAAOlb,OA/ChD,KAkDnBxG,KAAQ6V,IACJxM,KAAKrL,KAAKwtB,MAAQ3V,EAAI6L,OAAOlb,OAnDd,KAsDnBqI,UAAagH,IACTxM,KAAKrL,KAAKytB,WAAa5V,EAAI6L,OAAOlb,OAvDnB,KA0DnBklB,UAAY,KAER,IAAIC,EAAc,GAClB,IAAK,IAAIC,KAAKviB,KAAKrL,KAAKoM,OAAQ,CAC5B,IAAIwf,EAAIvgB,KAAKrL,KAAKoM,OAAOwhB,GACzBD,EAAYzf,KAAK0f,EAAE/C,QAAQ,aAAc,KAAxB+C,KAA4ChC,EAAI,KAOrE,OAJ0B,GAAtB+B,EAAYnZ,QACZmZ,EAAYzf,KAAK,sBAGf,SAAN,OAAgB7C,KAAKrL,KAAKytB,WAA1B,eAA2CpiB,KAAK3K,KAAhD,aAA0D2K,KAAKrL,KAAKwtB,MAApE,qBACNG,EAAYvf,KAAK,WADX,MApEA/C,KAAK0iB,MAAQ/pB,EAAMmR,OACnB9J,KAAK3K,KAAOsD,EAAMtD,KAClB2K,KAAKrL,KAAO,CAACoM,OAAQ,IACrBf,KAAK9H,MAAQ,CAACqe,cAAe,IAqBjC9L,oBACI,MAAM/I,EAAO1B,KACD,IAAIf,GAASL,IAErB0C,UAAU,GAAd,4BAAwCI,EAAKrM,KAA7C,gBAAmEV,IAC/D,MAAM4hB,EAAgB,GACtB5hB,EAAKgc,QAAQtH,IACT,MAAMia,EAAOtjB,KAAKqjB,YAAYha,GACjB,OAATia,IACA/M,EAAc1T,KAAKygB,GACnB/M,EAAc1T,KAAK,+BAI3BnB,EAAK3J,SAAS,CAACwe,cAAeA,KAC/BnV,OAiCP2I,SACI,OAAO,2BACH,6DACA,gBAAC,GAAD,CAAYsV,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOlnB,KAAK,OAAOoT,SAAUvL,KAAKwF,UAAWgO,KAAM,QAASwO,YAAY,YACjEC,YAAY,kCAI/B,2BACA,gBAAC,GAAD,CAAY5C,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAO9T,SAAUvL,KAAKrJ,KAAMwB,KAAK,OAAOqb,KAAM,QAASwO,YAAY,kBAC5DC,YAAY,uCAI/B,2BACA,qDACA,gBAAC,GAAD,CAAY5C,SAAS,GAChBrf,KAAK9H,MAAMqe,iBCvG5B,MAAMyI,GAAaC,IAAMC,MACnBzT,GAASC,KAAOD,OAGf,MAAM8X,WAAkB/qB,YAC3BkI,YAAY/H,GACRkM,MAAMlM,GADS,KAsBnBkpB,WAAa,CAAC1kB,EAAOqP,KACjBxM,KAAKrL,KAAKmtB,YAAc3kB,GAvBT,KA0BnBqmB,SAAW,CAACrmB,EAAOqP,KACfxM,KAAKrL,KAAK8uB,UAAYtmB,GA3BP,KA8BnBxG,KAAQ6V,IACJxM,KAAKrL,KAAKwtB,MAAQ3V,EAAI6L,OAAOlb,OA/Bd,KAkCnBqI,UAAagH,IACTxM,KAAKrL,KAAKytB,WAAa5V,EAAI6L,OAAOlb,OAnCnB,KAsCnBumB,YAAelX,IACXxM,KAAKrL,KAAKgvB,aAAenX,EAAI6L,OAAOlb,OAvCrB,KA0CnBymB,QAAWpX,IACPxM,KAAKrL,KAAKkvB,SAAWrX,EAAI6L,OAAOlb,OA3CjB,KA8CnBklB,UAAY,KAER,IAAIyB,EAAiB,GACjB9jB,KAAKrL,KAAKgvB,eACVG,EAAiB,eAAiB9jB,KAAKrL,KAAKgvB,cAGhD,IAAII,EAAU,cAKd,OAJI/jB,KAAKrL,KAAKkvB,WACVE,EAAU,mBAAe/jB,KAAKrL,KAAKkvB,SAAzB,MAGR,QAAN,OAXa7jB,KAWOrL,KAAK8uB,UAAzB,YAXazjB,KAW8BrL,KAAKytB,WAAhD,eAXapiB,KAWyDrL,KAAKmtB,YAA3E,aAXa9hB,KAWoFrL,KAAKwtB,MAAtG,sBAA0H4B,EAA1H,YAAwID,EAAxI,MAxDA9jB,KAAK0iB,MAAQ/pB,EAAMmR,OACnB9J,KAAKrL,KAAO,GACZqL,KAAK9H,MAAQ,CAACypB,kBAAmB,IAGrClX,oBACI,MAAM/I,EAAO1B,KACD,IAAIf,GAASL,IAErB0C,UAAU,GAAI,wCAA0C3M,IACxD,MAAMgtB,EAAoB,GAC1BhtB,EAAKgc,QAAQtH,IACTsY,EAAkB9e,KAAK,gBAAC,GAAD,CAAQrI,IAAK6O,EAAKhU,KAAM8H,MAAOkM,EAAKhU,MAAOgU,EAAKhU,SAE3EqM,EAAK3J,SAAS,CAAC4pB,kBAAmBA,KACnCvgB,OA4CP2I,SACI,OAAO,2BACH,gBAAC,GAAD,CAAYsV,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,kBACc,gBAAC,KAAD,CACV9T,SAAUvL,KAAK6hB,WACfc,YAAU,EACV/nB,MAAO,CAAC4Q,MAAO,KACfyW,YAAY,yBACZW,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAAWA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GACvGhjB,KAAK9H,MAAMypB,sBAKrB,2BACA,gBAAC,GAAD,CAAYtC,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,iBACa,gBAAC,KAAD,CACT9T,SAAUvL,KAAKwjB,SACfb,YAAU,EACV/nB,MAAO,CAAC4Q,MAAO,KACfyW,YAAY,wBACZW,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAAWA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GAErG,gBAAC,GAAD,CAAQxoB,IAAK,YAAa2C,MAAO,aAAjC,aACA,gBAAC,GAAD,CAAQ3C,IAAK,SAAU2C,MAAO,UAA9B,UACA,gBAAC,GAAD,CAAQ3C,IAAK,gBAAiB2C,MAAO,iBAArC,iBACA,gBAAC,GAAD,CAAQ3C,IAAK,SAAU2C,MAAO,UAA9B,cAKZ,2BACA,gBAAC,GAAD,CAAYkiB,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOlnB,KAAK,OAAOoT,SAAUvL,KAAKwF,UAAWjI,MAAM,YAAYykB,YAAY,YACpEC,YAAY,mCAI/B,2BAEA,gBAAC,GAAD,CAAY5C,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAO9T,SAAUvL,KAAKrJ,KAAMwB,KAAK,OAAO6pB,YAAY,cAC7CC,YAAY,8BAI/B,2BACA,gBAAC,GAAD,CAAY5C,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOlnB,KAAK,OAAOoT,SAAUvL,KAAK0jB,YAAa1B,YAAY,cACpDC,YAAY,mBAI/B,2BACA,gBAAC,GAAD,CAAY5C,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOlnB,KAAK,OAAOoT,SAAUvL,KAAK4jB,QAAS5B,YAAY,UAChDC,YAAY,eAI/B,6BC5IZ,MAAMjD,GAAaC,IAAMC,MAElBiE,IADQzX,KAAOD,OACHwT,IAAZkE,UAGQ,MAAMa,WAAmBxrB,YACpCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAgBnB0qB,YAAeha,GACQ,gBAAfA,EAAK0Y,OAA0C,kBAAf1Y,EAAK0Y,MAC9B,KAEQ,SAAf1Y,EAAK0Y,OAAmC,0BAAf1Y,EAAK0Y,MACvB,gBAAC,KAAD,KAAK,gBAAC,KAAD,KAAM1Y,EAAK0Y,MAAX,IAAkB,gBAAC,GAAD,CAAUnnB,MAAO,CAAC0e,aAAc,QAASjkB,KAAMgU,EAAK0Y,MAC1CxW,SAAUvL,KAAKe,OACf5I,KAAK,OAAOoZ,KAAM,OAEvD,gBAAC,KAAD,CAAK/W,IAAK6O,EAAK0Y,OAClB,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOnnB,MAAO,CAAC0e,aAAc,QAASjkB,KAAMgU,EAAK0Y,MAAOxW,SAAUvL,KAAKe,OAAQ5I,KAAK,OAC7E6pB,YAAa3Y,EAAK0Y,MAClBE,YAAa5Y,EAAK/O,gBA7BlB,KAsDnByG,OAAUyL,IACNxM,KAAKrL,KAAKoM,OAAOyL,EAAI6L,OAAOuJ,aAAa,SAAWpV,EAAI6L,OAAOlb,OAvDhD,KA0DnBxG,KAAQ6V,IACJxM,KAAKrL,KAAKwtB,MAAQ3V,EAAI6L,OAAOlb,OA3Dd,KA8DnBqI,UAAagH,IACTxM,KAAKrL,KAAKytB,WAAa5V,EAAI6L,OAAOlb,OA/DnB,KAkEnB8mB,gBAAmBzX,IACfxM,KAAKrL,KAAKuvB,iBAAmB1X,EAAI6L,OAAOlb,OAnEzB,KAiGnBgnB,cAAgB,IACmB,SAA3BnkB,KAAK9H,MAAM6U,YACJ,gBAAC,GAAD,CAAYsS,SAAS,GACxB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOlnB,KAAK,OAAOoT,SAAUvL,KAAKwF,UAAWgO,KAAM,QAC5CwO,YAAahiB,KAAK9H,MAAMiV,WAAanN,KAAK9H,MAAMiV,WAAa,cAC7D8U,YAAY,QAK5B,KA7GQ,KAgHnBmC,oBAAsB,IACmB,SAAjCpkB,KAAK9H,MAAM+U,kBACJ,gBAAC,GAAD,CAAYoS,SAAS,GACxB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOlnB,KAAK,OAAOoT,SAAUvL,KAAKikB,gBAAiBzQ,KAAM,QAClDwO,YAAahiB,KAAK9H,MAAMgV,iBAAmBlN,KAAK9H,MAAMgV,iBAAmB,eACzE+U,YAAY,QAK5B,KA5HQ,KA+HnBoC,kBAAoB,IACZrkB,KAAK9H,MAAM4U,UACJ9M,KAAK9H,MAAM4U,UAEX,YAnII,KAsInBwX,aAAe,IACmB,SAA1BtkB,KAAK9H,MAAM8U,WACJ,gBAAC,GAAD,CAAYqS,SAAS,GACxB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAO9T,SAAUvL,KAAKrJ,KAAMwB,KAAK,OAAOqb,KAAM,QAASwO,YAAahiB,KAAKqkB,oBAClEpC,YAAY,QAK5B,GA/IPjiB,KAAK0iB,MAAQ/pB,EAAMmR,OACnB9J,KAAK3K,KAAOsD,EAAMtD,KAClB2K,KAAKrL,KAAO,CAACoM,OAAQ,IACrBf,KAAK9H,MAAQ,CACTqe,cAAe,GACfxJ,YAAapU,EAAMoU,YACnBD,UAAWnU,EAAMmU,UACjBE,WAAYrU,EAAMqU,WAClBC,kBAAmBtU,EAAMsU,kBACzBC,iBAAkBvU,EAAMuU,iBACxBC,WAAYxU,EAAMwU,YAsB1B1C,oBACI,MAAM/I,EAAO1B,KACD,IAAIf,GAASL,IAErB0C,UAAU,GAAd,4BAAwCI,EAAKrM,KAA7C,gBAAmEV,IAC/D,MAAM4hB,EAAgB,GACtB5hB,EAAKgc,QAAQtH,IACT,MAAMia,EAAOtjB,KAAKqjB,YAAYha,GACjB,OAATia,IACA/M,EAAc1T,KAAKygB,GACnB/M,EAAc1T,KAAK,+BAI3BnB,EAAK3J,SAAS,CAACwe,cAAeA,KAC/BnV,OAqBPmjB,aAEI,IAAIjC,EAAc,GAClB,IAAK,IAAIC,KAAKviB,KAAKrL,KAAKoM,OAAQ,CAC5B,IAAIwf,EAAIvgB,KAAKrL,KAAKoM,OAAOwhB,GACrBC,EAAK,IAAOjC,EAAI,IACV,SAANgC,GAAsB,0BAANA,IAChBC,EAAK,MAAQjC,EAAI,OAErB+B,EAAYzf,KAAK0f,EAAE/C,QAAQ,aAAc,KAAO,IAAMgD,GAG1D,IAAIC,EAAW,GACXH,EAAYnZ,OAAS,IACrBsZ,EAAW,SAGf,IAAI+B,EAAQ,GAOZ,OALIxkB,KAAKrL,KAAKuvB,mBACVM,EAAK,aAASxkB,KAAKrL,KAAKuvB,mBAItB,OAAN,OAAclkB,KAAKrL,KAAKytB,YAAc,UAAtC,eAAsDpiB,KAAK3K,KAA3D,aAAqE2K,KAAKrL,KAAKwtB,OAAS,GAAxF,aAAgGM,EAAhG,YAA4GH,EAAYvf,KAAK,UAA7H,YAA0IyhB,EAA1I,KAsDJC,UACI,OAAO,2BACFzkB,KAAKmkB,gBACN,2BACCnkB,KAAKokB,sBACN,2BACCpkB,KAAKskB,eACN,2BACoC,GAAnCtkB,KAAK9H,MAAMqe,cAAcpN,OAAc,GAAK,2CAC7C,gBAAC,GAAD,CAAYkW,SAAS,GAChBrf,KAAK9H,MAAMqe,iBCvKrB,MAAMmO,WAAkBV,GAC3BtjB,YAAY/H,GACRkM,MAAMlM,GADS,KAKnB0pB,UAAY,IACDxd,MAAM0f,aAIjBxa,SACI,OAAOlF,MAAM4f,WCRrB,MAAMzF,GAAaC,IAAMC,MACVxT,KAAOD,OAGf,MAAMkZ,WAAsBD,GAAW,eAAD,oBAEzCrC,UAAY,KAER,IAAIC,EAAc,GAClB,IAAK,IAAIC,KAAKviB,KAAKrL,KAAKoM,OAAQ,CAC5B,IAAIwf,EAAIvgB,KAAKrL,KAAKoM,OAAOwhB,GACzBD,EAAYzf,KAAK0f,EAAE/C,QAAQ,aAAc,KAAxB+C,KAA4ChC,EAAI,KAOrE,OAJ0B,GAAtB+B,EAAYnZ,QACZmZ,EAAYzf,KAAK,sBAGf,kBAAN,OAAyB7C,KAAK3K,KAA9B,uBACNitB,EAAYvf,KAAK,WADX,MAIJgH,SACI,OAAO,2BAEH,gBAAC,GAAD,CAAYsV,SAAS,GAChBrf,KAAK9H,MAAMqe,iB,iDCpB5B,MAAM9K,GAASC,KAAOD,OACf0X,GAAYlE,IAAZkE,SAEA,MAAMyB,WAAuBpsB,YAEhCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAUnBksB,QAAWrY,IACPxM,KAAKrL,KAAKmwB,SAAWtY,EAAI6L,OAAOlb,OAXjB,KAcnB0X,SAAYrI,IACRxM,KAAKrL,KAAKowB,UAAYvY,EAAI6L,OAAOlb,OAflB,KAkBnB6nB,QAAW7nB,IACP6C,KAAKilB,SAAW9nB,GAnBD,KAsBnBie,KAAQ/M,IACJrO,KAAKklB,MAAQ7W,GAvBE,KA+BnB8W,WAAchoB,IACV6C,KAAKolB,KAAOjoB,EACZ6C,KAAKqlB,aAAalsB,QAAQmsB,SAAU,EACpCtlB,KAAKjI,SAAS,CAAC8c,UAAU,IACP,WAAd7U,KAAKolB,MACLplB,KAAKjI,SAAS,CAAC8c,UAAU,IAE7B7U,KAAKjI,SAAS,CAACwtB,SAAUpoB,KAtCV,KA2CnBqoB,eAAkBF,IACVA,EACAtlB,KAAKylB,QAAQtsB,QAAQ6K,OAAOE,SAASlE,KAAK0lB,eAE1C1lB,KAAKylB,QAAQtsB,QAAQ6K,OAAOE,SAAS,KA/C1B,KAoDnBwhB,YAAc,KACV,MAAMN,EAAOplB,KAAK9H,MAAMqtB,UAAY,QACpC,MAAa,UAATH,EACM,8CAKG,WAATA,EACM,mCAIG,SAATA,EACM,gPAWH,MA7EQ,KAgFnBO,aAAe,IACP3lB,KAAK9H,MAAM2c,SACJ,gBAAC,KAAD,KACH,gBAAC,KAAD,iBACa,gBAAC,GAAD,CAAUja,MAAO,CAAC0e,aAAc,QAASjkB,KAAM,WAAYkc,KAAM,GACvDhG,SAAUvL,KAAK6U,SACf1c,KAAK,OACL6pB,YAAa,WACbC,YAAW,8VAYnC,KApGQ,KAuGnB2D,SAAW,IACA,2BAAK,gBAAC,KAAD,KACR,gBAAC,KAAD,aACS,gBAAC,KAAD,CAAW3b,IAAKjK,KAAKylB,QACV/qB,KAAMsF,KAAK9H,MAAMqtB,UAAY,QAC7B1W,MAAM,SACNrD,MAAO,QACPkD,OAAQ,QACRrZ,KAAK,OACLwF,SAAU,GACViU,iBAAiB,EACjBC,YAAY,EACZC,qBAAqB,EACrBzD,SAAUvL,KAAKob,KACfnM,YAAa,CACTC,gBAAiBC,KAErBC,WAAY,CACRC,2BAA2B,EAC3BC,0BAA0B,EAC1BC,gBAAgB,EAChBC,iBAAiB,EACjBC,QAAS,OAKjC,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,KAAD,CAAKtY,KAAM,GAAX,oBACqB,gBAAC,KAAD,CAAQ8S,IAAKjK,KAAKqlB,aAAc9Z,SAAUvL,KAAKwlB,qBArIjE,KA2InBnD,UAAY,KAER,IAAIC,EAAc,GAOlB,OANAA,EAAYzf,KAAZ,gBAA0B7C,KAAKolB,KAA/B,MACA9C,EAAYzf,KAAZ,kBAA4B7C,KAAKklB,MAAjC,QACA5C,EAAYzf,KAAZ,mBAA6B7C,KAAKilB,SAAlC,MACIjlB,KAAK+kB,WACLzC,EAAYzf,KAAZ,sBAAgC7C,KAAK+kB,UAArC,QAEE,4BAAN,OAAqC/kB,KAAKrL,KAAKmwB,SAA/C,oBACNxC,EAAYvf,KAAK,UADX,MAlJA/C,KAAK0iB,MAAQ/pB,EAAMmR,OACnB9J,KAAK3K,KAAOsD,EAAMtD,KAClB2K,KAAKrL,KAAO,CAACoM,OAAQ,IACrBf,KAAK9H,MAAQ,CAACqe,cAAe,IAC7BvW,KAAKylB,QAAUjtB,cACfwH,KAAKqlB,aAAe7sB,cAoBxBiS,qBA6HAV,SACI,OAAO,2BAEH,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOwB,SAAUvL,KAAK6kB,QAAS1sB,KAAK,OAAOqb,KAAM,QAASwO,YAAY,WAC/DC,YAAY,sBAG3B,2BAEA,gBAAC,KAAD,KACI,gBAAC,KAAD,CAAK9qB,KAAM,GACP,yCAEJ,gBAAC,KAAD,CAAKA,KAAM,IACP,gBAAC,KAAD,CACIwrB,YAAU,EACVpX,SAAUvL,KAAKglB,QACfpqB,MAAO,CAAC4Q,MAAO,KACfyW,YAAY,kBACZW,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAAWA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GAErG,gBAAC,GAAD,CAAQ7lB,MAAM,OAAd,OACA,gBAAC,GAAD,CAAQA,MAAM,QAAd,WAIZ,2BACA,gBAAC,KAAD,KACI,gBAAC,KAAD,CAAKhG,KAAM,GACP,sCAEJ,gBAAC,KAAD,CAAKA,KAAM,IACP,gBAAC,KAAD,CACIwrB,YAAU,EACV/nB,MAAO,CAAC4Q,MAAO,KACfyW,YAAY,uBACZW,iBAAiB,WACjBrX,SAAUvL,KAAKmlB,WACftC,aAAc,CAACC,EAAOC,IAAWA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GAErG,gBAAC,GAAD,CAAQ7lB,MAAM,QAAd,QACA,gBAAC,GAAD,CAAQA,MAAM,SAAd,SACA,gBAAC,GAAD,CAAQA,MAAM,UAAd,aAIZ,2BACC6C,KAAK2lB,eACN,2BACC3lB,KAAK4lB,WACN,2BACA,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAOhrB,MAAO,CAAC0e,aAAc,QAASjkB,KAAM,aAAckW,SAAUvL,KAAKe,OAAQ5I,KAAK,OAC/E6pB,YAAa,aACbC,YAAa,mBC9NrBhD,IAAMC,MAAzB,MACMzT,GAASC,KAAOD,OAGf,MAAMoa,WAAkBrtB,YAC3BkI,YAAY/H,GACRkM,MAAMlM,GADS,KA4BnBmtB,OAAU3oB,IACN6C,KAAK8lB,OAAS3oB,GA7BC,KA+BnBklB,UAAY,IACF,sBAAN,OAA8BriB,KAAK8lB,OAAnC,gBA9BA9lB,KAAK0iB,MAAQ/pB,EAAMmR,OACnB9J,KAAK3K,KAAOsD,EAAMtD,KAClB2K,KAAKrL,KAAO,CAACoM,OAAQ,IACrBf,KAAK9H,MAAQ,CACTqe,cAAe,GACfxJ,YAAapU,EAAMoU,YACnBD,UAAWnU,EAAMmU,UACjBE,WAAYrU,EAAMqU,YAI1BvC,oBACI,MAAM/I,EAAO1B,KACD,IAAIf,GAASL,IAErB0C,UAAU,GAAd,+BAAqD3M,IACjD,MAAM4hB,EAAgB,GACtB5hB,EAAKgc,QAAQtH,IACTkN,EAAc1T,KAAK,gBAAC,GAAD,CAAQrI,IAAK6O,EAAKhU,KAAM8H,MAAOkM,EAAKhU,MAAOgU,EAAKhU,SAEvEqM,EAAK3J,SAAS,CAACwe,cAAeA,KAC/BnV,OAYP2I,SACI,OAAO,2BACH,gBAAC,KAAD,KACI,gBAAC,KAAD,WACO,gBAAC,KAAD,CACHwB,SAAUvL,KAAK8lB,OACfnD,YAAU,EACV/nB,MAAO,CAAC4Q,MAAO,KACfyW,YAAY,yBACZW,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAAWA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GACvGhjB,KAAK9H,MAAMqe,mBCjDV0I,IAAMC,MAAzB,MACMzT,GAASC,KAAOD,OAGf,MAAMsa,WAAmBrB,GAAW,eAAD,oBAiBtCrC,UAAY,IAEF,YAAN,OADariB,KACWrL,KAAKmtB,YAA7B,aADa9hB,KACsCrL,KAAKwtB,MAAxD,gBADaniB,KAC8DrL,KAAKuvB,iBAAhF,KAnBkC,KAsBtC4B,OAAU3oB,IACN6C,KAAKrL,KAAKmtB,YAAc3kB,GArB5BsN,oBACI,MAAM/I,EAAO1B,KACD,IAAIf,GAASL,IAErB0C,UAAU,GAAd,+BAAqD3M,IACjD,MAAM4hB,EAAgB,GACtB5hB,EAAKgc,QAAQtH,IACTkN,EAAc1T,KAAK,gBAAC,GAAD,CAAQrI,IAAK6O,EAAKhU,KAAM8H,MAAOkM,EAAKhU,MAAOgU,EAAKhU,SAEvEqM,EAAK3J,SAAS,CAACwe,cAAeA,KAC/BnV,OAcP2I,SACI,OAAO,2BACF/J,KAAKmkB,gBACN,2BACCnkB,KAAKokB,sBACN,2BACCpkB,KAAKskB,eACN,2BACA,gBAAC,KAAD,KACI,gBAAC,KAAD,WACO,gBAAC,KAAD,CACH/Y,SAAUvL,KAAK8lB,OACfnD,YAAU,EACV/nB,MAAO,CAAC4Q,MAAO,KACfyW,YAAY,yBACZW,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAAWA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GACvGhjB,KAAK9H,MAAMqe,mBCpD7B,MAAMyI,GAAaC,IAAMC,MAEV,MAAM8G,WAAsBhC,GAEvCtjB,YAAY/H,GACRkM,MAAMlM,GADS,KAInB0pB,UAAY,KAER,IAAImC,EAAQ,GAERxkB,KAAKrL,KAAKuvB,mBACVM,EAAK,aAASxkB,KAAKrL,KAAKuvB,mBAG5B,MAAM+B,EAAWphB,MAAM0f,aAAa/E,QAAQgF,EAAO,IAE7C0B,EAAe,kBAAclmB,KAAKrL,KAAKytB,WAAxB,eAAyCpiB,KAAK3K,KAA9C,aAAwD2K,KAAKrL,KAAKwtB,OAAS,GAA3E,aAAmFqC,EAAnF,KAErB,MAAO,UAAIyB,EAAJ,qBACLC,EADK,8BAEIlmB,KAAK3K,KAFT,aAEmB2K,KAAKrL,KAAKwtB,OAAS,GAFtC,gBAEiDniB,KAAKrL,KAAKwxB,cAF3D,gBAGJC,eAnBY,KAsBnBC,aAAgB7Z,IACZxM,KAAKrL,KAAKwxB,cAAgB3Z,EAAI6L,OAAOlb,OAGzC4M,SACI,OAAO,2BACF/J,KAAKmkB,gBACN,2BAECnkB,KAAKokB,sBACN,2BACCpkB,KAAKskB,eACN,2BACA,gBAAC,GAAD,CAAYjF,SAAS,GACjB,gBAAC,KAAD,KACI,gBAAC,KAAD,KACI,gBAAC,IAAD,CAAO9T,SAAUvL,KAAKqmB,aAAcluB,KAAK,OAAOqb,KAAM,QAASwO,YAAa,eACrEC,YAAY,8EAI/B,2BACoC,GAAnCjiB,KAAK9H,MAAMqe,cAAcpN,OAAc,GAAK,2CAC7C,gBAAC,GAAD,CAAYkW,SAAS,GAChBrf,KAAK9H,MAAMqe,iBCnDrB,MAAM+P,WAAuBtC,GAEhCtjB,YAAY/H,GACRkM,MAAMlM,GADS,KAInB0pB,UAAY,KACR,MAAMjiB,EAAG,gDAA4CuC,mBAAmB3C,KAAKrL,KAAKwtB,QAC5EoE,EAAOC,SAASC,cAAc,KAMpC,OALAF,EAAKG,KAAOtmB,EACZmmB,EAAKlO,OAAS,SACdmO,SAASnmB,KAAKsmB,YAAYJ,GAC1BA,EAAKK,QACLJ,SAASnmB,KAAKwmB,YAAYN,GACnB,IAGX9b,qBAGAV,SACI,OAAOlF,MAAM4f,WCjBFxF,IAAMC,MAAzB,MACMzT,GAASC,KAAOD,OAGf,MAAMqb,WAAyBtuB,YAClCkI,YAAY/H,GACRkM,MAAMlM,GADS,KA+BnBmtB,OAAU3oB,IACN6C,KAAK8lB,OAAS3oB,GAhCC,KAkCnBklB,UAAY,IACF,0BAAN,OAAkCriB,KAAK8lB,OAAvC,gBAjCA9lB,KAAK0iB,MAAQ/pB,EAAMmR,OACnB9J,KAAK3K,KAAOsD,EAAMtD,KAClB2K,KAAKrL,KAAO,CAACoM,OAAQ,IACrBf,KAAK9H,MAAQ,CACTqe,cAAe,GACfxJ,YAAapU,EAAMoU,YACnBD,UAAWnU,EAAMmU,UACjBE,WAAYrU,EAAMqU,YAI1BvC,oBACI,MAAM/I,EAAO1B,KACD,IAAIf,GAASL,IAErB0C,UAAU,GAAd,iCAAuD3M,IAEnD,MAAM4hB,EAAgB5hB,EAAKkW,OAAOxB,GACN,WAAjBA,EAAK0d,SACb3d,IAAIC,GACI,gBAAC,GAAD,CAAQ7O,IAAK6O,EAAK5H,QAAStE,MAAOkM,EAAK5H,SAAU4H,EAAK5H,UAGjEC,EAAK3J,SAAS,CAACwe,cAAeA,KAC/BnV,OAYP2I,SACI,OAAO,2BACH,gBAAC,KAAD,KACI,gBAAC,KAAD,oBACgB,gBAAC,KAAD,CACZwB,SAAUvL,KAAK8lB,OACfnD,YAAU,EACV/nB,MAAO,CAAC4Q,MAAO,KACfyW,YAAY,qBACZW,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAAWA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GACvGhjB,KAAK9H,MAAMqe,mBC/CtB,MAAMyQ,WAAcxuB,YACvBkI,YAAY/H,GACRkM,MAAMlM,GADS,KAQnBsuB,sBAAwB,KACpBjnB,KAAKkK,GAAGnS,SAAS,CAACqV,OAAO,EAAO8Z,gBAAgB,KATjC,KAWnBC,qBAAuB,KACnB,MAAMlpB,EAAM+B,KAAKonB,SAASjuB,QAAQkpB,YAClCriB,KAAKkK,GAAGmY,UAAUpkB,GAClB+B,KAAKkK,GAAGnS,SAAS,CAACqV,OAAO,EAAO8Z,gBAAgB,KAdjC,KAiBnBG,cAAgB,IACoB,SAA5BrnB,KAAKkK,GAAGhS,MAAMwU,UACP,gBAAC,GAAD,CAAW5C,OAAQ9J,KAAMiK,IAAKjK,KAAKonB,WAEd,SAA5BpnB,KAAKkK,GAAGhS,MAAMwU,UACP,gBAAC,GAAD,CAAWrX,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,WAG/B,gBAA5BpnB,KAAKkK,GAAGhS,MAAMwU,UACP,gBAAC,GAAD,CAAerX,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,WAGnC,gBAA5BpnB,KAAKkK,GAAGhS,MAAMwU,UACP,gBAAC,GAAD,CAAerX,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,WAGnC,iBAA5BpnB,KAAKkK,GAAGhS,MAAMwU,UACP,gBAAC,GAAD,eAAgBrX,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,UAAcpnB,KAAKkK,GAAGhS,QAG1D,cAA5B8H,KAAKkK,GAAGhS,MAAMwU,UACP,gBAAC,GAAD,CAAWrX,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,WAG/B,qBAA5BpnB,KAAKkK,GAAGhS,MAAMwU,UACP,gBAAC,GAAD,CAAkBrX,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,WAGtC,cAA5BpnB,KAAKkK,GAAGhS,MAAMwU,UACP,gBAAC,GAAD,CAAgBrX,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,WAGpC,aAA5BpnB,KAAKkK,GAAGhS,MAAMwU,UACP,gBAAC,GAAD,eAAYrX,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,UAAcpnB,KAAKkK,GAAGhS,QAGpD,SAA9B8H,KAAKkK,GAAGhS,MAAM2U,YACP,gBAAC,GAAD,eAAWxX,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,UAAcpnB,KAAKkK,GAAGhS,QAG9E,gBAAC,GAAD,CAAgB7C,KAAM2K,KAAKkK,GAAGhS,MAAMwU,UAAWzC,IAAKjK,KAAKonB,WAvDhEpnB,KAAKkK,GAAKvR,EAAMmR,OAChB9J,KAAKonB,SAAW5uB,cAChBwH,KAAK9H,MAAQ,CAACgvB,gBAAgB,EAAMntB,MAAOpB,EAAMoB,OACjDiG,KAAKrL,KAAO,GAwDhBoV,SACI,OACI,2BACI,gBAAC,IAAD,CACIhQ,MAAOiG,KAAK9H,MAAM6B,MAClBC,QAASgG,KAAK9H,MAAMgvB,eACpBjtB,SAAU+F,KAAKinB,sBACf/sB,KAAM8F,KAAKmnB,qBACX9sB,OAAO,KACPD,WAAW,UAEV4F,KAAKqnB,mB,wBChF1B,MAAM9N,GAAQC,KAASD,MACPG,KAAKD,QAEd,MAAM6N,WAAqB9uB,YAC9BkI,YAAY/H,GACRkM,MAAMlM,GADS,KAWnBuQ,QAAU,CAACqZ,EAAGhC,KACVvgB,KAAKunB,SAAShF,GAAKhC,GAZJ,KAenB5T,QAAW4V,GACAviB,KAAKunB,SAAShF,GAhBN,KAmBnBiF,YAAehb,IACX,MAAMK,EAAcL,EAAI6L,OAAOuJ,aAAa,eAC5C5hB,KAAKkJ,QAAQ,YAAasD,EAAI6L,OAAOuJ,aAAa,SAClD5hB,KAAKkJ,QAAQ,UAAWsD,EAAI6L,OAAOuJ,aAAa,SAChD5hB,KAAKkJ,QAAQ,cAAe2D,GAC5B7M,KAAKkJ,QAAQ,YAAasD,EAAI6L,OAAOuJ,aAAa,cAAgB,IAClE5hB,KAAKkJ,QAAQ,mBAAoBsD,EAAI6L,OAAOuJ,aAAa,qBAAuB,IAChF5hB,KAAKkJ,QAAQ,aAAcsD,EAAI6L,OAAOuJ,aAAa,eAAiB,IACpE5hB,KAAKkJ,QAAQ,cAAesD,EAAI6L,OAAOuJ,aAAa,iBAAkB,GACtE5hB,KAAKkJ,QAAQ,aAAcsD,EAAI6L,OAAOuJ,aAAa,gBAAiB,GACpE5hB,KAAKkJ,QAAQ,oBAAqBsD,EAAI6L,OAAOuJ,aAAa,uBAAwB,IA7BnE,KAkCnBS,UAAapkB,IACT+B,KAAKmH,SAAS0W,mBAAmB5T,IAAI+B,eAAe/N,IAnCrC,KAuCnBwpB,UAAY,IACJznB,KAAK9H,MAAMkV,MACJ,gBAAC,GAAD,CAAOtD,OAAQ9J,KAAMjG,MAAOiG,KAAK9H,MAAM0U,UAE3C,KA3CQ,KA+CnB8a,cAAiBlb,IACbxM,KAAKwnB,YAAYhb,GACjBxM,KAAKmH,SAAS0W,mBAAmB5T,IAAIsC,OAAOC,IA/C5CxM,KAAKmH,SAAWxO,EAAMmR,OACtB9J,KAAK9H,MAAQ,GACb8H,KAAKunB,SAAW,GAGpB9c,qBA6CAV,SACI,OACI,2BACI,gBAAC,KAAD,CAAUnP,MAAO,CAAC2P,OAAQ,UAAWod,QAAS,YAC1C,gBAAC,GAAD,CAAO1N,OAAO,aAAazf,IAAI,KAC3B,gBAAC,KAAD,CAAKotB,OAAQ,IACT,gBAAC,KAAD,CAAKzwB,KAAM,GACP,gBAAC,IAAD,CAAM4C,MAAO,kBAET,gBAAC,KAAD,CAAK8tB,KAAM,CAACvO,aAAc,QAASvf,MAAM,iBACpCytB,YAAaxnB,KAAKwnB,YAAanyB,KAAM,OACrCyyB,KAAM,wBACNC,WAAW,EAAM1T,MAAM,UAAUlC,cAAenS,KAAK0nB,eAH1D,aAMA,gBAAC,KAAD,CAAKG,KAAM,CAACvO,aAAc,QAASvf,MAAM,YAAYytB,YAAaxnB,KAAKwnB,YAClEnyB,KAAM,OACNyyB,KAAM,2BACNC,WAAW,EAAM1T,MAAM,UAAUlC,cAAenS,KAAK0nB,eAH1D,eAMR,gBAAC,KAAD,CAAKvwB,KAAM,GACP,gBAAC,IAAD,CAAM4C,MAAM,cACR,gBAAC,KAAD,CAAK8tB,KAAM,CAACvO,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAChDnyB,KAAM,eACNyyB,KAAM,kCACNC,WAAW,EAAM1T,MAAM,UAAUlC,cAAenS,KAAK0nB,eAH1D,SAKA,gBAAC,KAAD,CAAKG,KAAM,CAACvO,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAChDnyB,KAAM,kBACNyyB,KAAM,qCACNC,WAAW,EAAM1T,MAAM,UAAUlC,cAAenS,KAAK0nB,eAH1D,YAKA,gBAAC,KAAD,CAAKG,KAAM,CAACvO,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cACjFryB,KAAM,eACNyyB,KAAM,oCACNC,WAAW,EAAM1T,MAAM,WAH5B,gBAKA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,YACNyyB,KAAM,0BACNC,WAAW,EAAM1T,MAAM,WAH5B,oBAKA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,mBACNyyB,KAAM,+CACNC,WAAW,EAAM1T,MAAM,WAH5B,iBAKA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,aACNyyB,KAAM,iBACNC,WAAW,EAAM1T,MAAM,WAH5B,gBAOR,gBAAC,KAAD,CAAKld,KAAM,GACP,gBAAC,IAAD,CAAM4C,MAAM,UACR,gBAAC,KAAD,CAAKa,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,eAAgB2yB,YAAa,OACnCF,KAAM,oBACNG,UAAW,iBAAkBC,YAAa,OAAQC,WAAY,QAC9DC,kBAAmB,OACnBL,WAAW,EAAM1T,MAAM,WAL5B,qBAOA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,oBAAqB2yB,YAAa,OACxCF,KAAM,qBACNG,UAAW,iBAAkBC,YAAa,OAAQC,WAAY,QAC9DC,kBAAmB,OACnBL,WAAW,EAAM1T,MAAM,WAL5B,yBAUZ,2BACA,gBAAC,KAAD,CAAKuT,OAAQ,IACT,gBAAC,KAAD,CAAKzwB,KAAM,GACP,gBAAC,IAAD,CAAM4C,MAAM,8BACR,gBAAC,KAAD,CAAKytB,YAAaxnB,KAAKwnB,YAAanyB,KAAM,YAAa2yB,YAAa,OAAQ7V,cAAenS,KAAK0nB,cAC3FI,KAAM,2BACNC,WAAW,EAAM1T,MAAM,WAF5B,cAIA,gBAAC,KAAD,CAAKmT,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cACnDryB,KAAM,WACNyyB,KAAM,8BACNG,UAAW,mBACXI,iBAAkB,gBAClBC,WAAY,gBACZJ,YAAa,OACbC,WAAY,QACZC,kBAAmB,QACnBL,WAAW,EAAM1T,MAAM,WAT5B,gCAYR,gBAAC,KAAD,CAAKld,KAAM,GACP,gBAAC,IAAD,CAAM4C,MAAM,QACR,gBAAC,KAAD,CAAKa,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAanyB,KAAM,UAAW8c,cAAenS,KAAK0nB,cACnGM,YAAa,SACbD,WAAW,EAAM1T,MAAM,WAF5B,aAGA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAanyB,KAAM,OAAQ8c,cAAenS,KAAK0nB,cAChGM,YAAa,OACbC,UAAW,qBAAsBC,YAAa,OAC9CJ,KAAM,gBACNC,WAAW,EAAM1T,MAAM,WAJ5B,YAMA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,mBAAoB2yB,YAAa,GACvCF,KAAM,0BACNC,WAAW,EAAM1T,MAAM,WAH5B,8BAMR,gBAAC,KAAD,CAAKld,KAAM,GACP,gBAAC,IAAD,CAAM4C,MAAM,SACR,gBAAC,KAAD,CAAKa,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,cAAe2yB,YAAa,OAClCF,KAAM,sDACNC,WAAW,EAAM1T,MAAM,WAH5B,0BAIA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,iBAAkB2yB,YAAa,OACrCF,KAAM,oCACNG,UAAW,GAAIC,YAAa,OAAQC,WAAY,OAChDC,kBAAmB,QACnBL,WAAW,EAAM1T,MAAM,WAL5B,eAOA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,eAAgB2yB,YAAa,SACnCF,KAAM,GACNC,WAAW,EAAM1T,MAAM,WAH5B,iBAIA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAAeryB,KAAM,OACvG2yB,YAAa,OACbC,UAAW,qBAAsBC,YAAa,QAC9CJ,KAAM,mBACNC,WAAW,EAAM1T,MAAM,WAJ5B,aAKA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,eAAgB2yB,YAAa,OACnCC,UAAW,GAAIC,YAAa,QAASC,WAAY,OACjDL,KAAM,+BACNC,WAAW,EAAM1T,MAAM,WAJ5B,gBAMA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,YAAa2yB,YAAa,GAChCF,KAAM,qBACNC,WAAW,EAAM1T,MAAM,WAH5B,mBAMA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,iBAAkB2yB,YAAa,OACrCF,KAAM,6BACNG,UAAW,GAAIC,YAAa,QAASC,WAAY,OACjDC,kBAAmB,QACnBL,WAAW,EAAM1T,MAAM,WAL5B,qBAMA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,cAAe2yB,YAAa,OAClCF,KAAM,aACNG,UAAW,GAAIC,YAAa,QAASC,WAAY,OACjDC,kBAAmB,OACnBL,WAAW,EAAM1T,MAAM,WAL5B,aAOA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,WAAY2yB,YAAa,OAC/BF,KAAM,cACNG,UAAW,GAAIC,YAAa,QAASC,WAAY,OACjDC,kBAAmB,OACnBL,WAAW,EAAM1T,MAAM,WAL5B,eAOA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,cAAe2yB,YAAa,OAClCF,KAAM,2BACNG,UAAW,eAAgBC,YAAa,QAASC,WAAY,QAC7DC,kBAAmB,OACnBL,WAAW,EAAM1T,MAAM,WAL5B,4BAOA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,eAAgB2yB,YAAa,OACnCF,KAAM,gBACNG,UAAW,cAAeC,YAAa,OAAQC,WAAY,QAC3DC,kBAAmB,OACnBL,WAAW,EAAM1T,MAAM,WAL5B,6BAMA,gBAAC,KAAD,CAAKzZ,MAAO,CAAC0e,aAAc,QAASkO,YAAaxnB,KAAKwnB,YAAarV,cAAenS,KAAK0nB,cAClFryB,KAAM,eACN2yB,YAAa,SACbD,WAAW,EAAM1T,MAAM,WAH5B,yBAWnBrU,KAAKynB,c,yCCvPdc,GAA4BC,KAA5BD,SAAUE,GAAkBD,KAAlBC,cACH,MAAMC,WAAsBlwB,YACvCkI,YAAY/H,GACRkM,MAAMlM,GACNqH,KAAK9H,MAAM,CAACywB,IAAI,GAAGniB,SAAQ,GAIzBiC,SAAS,IAAD,iIACZ,EAAK1Q,SAAS,CAACyO,SAAQ,IADX,SAEMpB,GAAcwjB,oBAFpB,OAGI,OADVjzB,EAFM,QAGLiG,SACI+sB,EAAM,GACZhzB,EAAIG,QAAQ6a,QAAQtH,IACbsf,EAAItf,EAAKwf,UAGXF,EAAItf,EAAKwf,UAAUhmB,KAAKwG,EAAKyf,OAF7BH,EAAItf,EAAKwf,UAAY,CAACxf,EAAKyf,SAKhC,EAAK/wB,SAAS,CAAC4wB,SAEnB,EAAK5wB,SAAS,CAACyO,SAAQ,IAdZ,6CAiBduiB,OACI,OAAO7mB,OAAO8mB,QAAQhpB,KAAK9H,MAAMywB,KAAKvf,IAAI,EAAE5O,EAAI2C,KACrC,gBAACorB,GAAD,CAAUxuB,MAAOS,EAAKA,IAAKA,GAC9B2C,EAAMiM,IAAIC,GACA,gBAACkf,GAAD,CAAUztB,KAAM,gBAACmuB,GAAA,EAAD,MAAmBlvB,MAAOsP,EAAM7O,IAAG,UAAKA,EAAL,YAAY6O,GAAQ6f,QAAM,OAM7Fze,oBAAoB,IAAD,kIAChB,EAAKhC,SADW,6CAIzBsB,SACE,OACE,gBAAC,KAAD,CAAMof,IAAI,aAAaC,SAAUppB,KAAK9H,MAAMsO,SAC5C,gBAACiiB,GAAD,KACCzoB,KAAK+oB,U,MC5CNR,GAA4BC,KAA5BD,SAAUE,GAAkBD,KAAlBC,cACH,MAAMY,WAAuB7wB,YACxCkI,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YAMnB2wB,YANmB,uCAML,WAAM3yB,GAAN,iBAAAjC,EAAA,sEACM0Q,GAAcmkB,GAAG5yB,GADvB,UAEI,OADVhB,EADM,QAELiG,QAAiBjG,EAAIG,QAAQ,GAAG0zB,gBAF3B,uBAGDC,EAAO9zB,EAAIG,QAAQsT,IAAIC,IACzBA,EAAI,OAAa,EAAKqgB,MAAMrgB,GAC5BA,EAAI,IAAUA,EAAK1S,KACnB0S,EAAI,MAAYA,EAAK1S,KAAK2S,MAAM,KAAKsT,OAAO,GAAG,GAC/CvT,EAAI,QAAcA,EAAKsgB,OAChBtgB,IARJ,kBAUAogB,GAVA,gCAYJ,IAZI,2CANK,2DAqBnBC,MAAOrgB,GACEA,EAAKugB,WAAWhK,WAAW,KAtBjB,KAyBlBiK,WAzBkB,uCAyBL,WAAOC,GAAP,SAAAp1B,EAAA,sEAC4B,EAAK40B,YAAYQ,EAASnxB,MAAMoxB,QAAQpzB,MADpE,OACZmzB,EAASnxB,MAAMoxB,QAAQ/J,SADX,OAEZ,EAAKjoB,SAAS,CAAC0xB,KAAK,IAAI,EAAKvxB,MAAMuxB,QAFvB,2CAzBK,2DA8BnBO,gBAAkBr1B,GACTA,EAAKyU,IAAIC,GACXA,EAAK2W,SACC,gBAAC,GAAD,CAAUjmB,MAAOsP,EAAKtP,MAAOS,IAAK6O,EAAK7O,IAAK0uB,OAAQ7f,EAAK6f,OAASa,QAAS1gB,GAC/ErJ,KAAKgqB,gBAAgB3gB,EAAK2W,WAGxB,gBAAC,GAAD,CAAUjmB,MAAOsP,EAAKtP,MAAOS,IAAK6O,EAAK7O,IAAK0uB,OAAQ7f,EAAK6f,OAAQa,QAAS1gB,KAnCjFrJ,KAAK9H,MAAM,CAACuxB,KAAK,GAAGjjB,SAAQ,GAuC1BiC,SAAS,IAAD,+HACX,EAAK1Q,SAAS,CAACyO,SAAQ,IADZ,SAEQ,EAAK8iB,YAAY,KAFzB,OAELG,EAFK,OAGX,EAAK1xB,SAAS,CAACyO,SAAQ,EAAMijB,SAHlB,6CAMRhf,oBAAoB,IAAD,kIAChB,EAAKhC,SADW,6CAIzBsB,SACE,OACE,2BACE,gBAAC,KAAD,CAAMof,IAAI,aAAaC,SAAUppB,KAAK9H,MAAMsO,SAC7C,gBAAC,GAAD,CAAeyjB,SAAUjqB,KAAK6pB,YAC1B7pB,KAAKgqB,gBAAgBhqB,KAAK9H,MAAMuxB,U,4DC9DK3rB,EAAQ,IAEpDosB,GAAiB,CACnBnyB,S,GAHIC,uBAKFmyB,GAAgB,CAClBpyB,S,GAN2BK,gB,GCIkD7D,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,yBAAAC,EAAA,yDAChGG,EAAS,IAAIC,cADmF,EAE5EL,EAAOE,KAA1By1B,EAF+F,EAE/FA,KAAKC,EAF0F,EAE1FA,WACRD,EAAKV,MAH6F,iCAI/E70B,EAAOwB,IAAIrB,UAAas1B,gBAAgB,CAACtvB,GAAGovB,EAAKpvB,KAJ8B,UAKlF,OADVrF,EAJ4F,QAK3FiG,OAL2F,yCAMvF,CAACjH,KAAK,CACT+G,MAAM,oBAAD,OAAsB0uB,EAAK7sB,MAA3B,qBAA6C5H,EAAIG,YAPoC,OAU5Fy0B,EAAa50B,EAAIG,QACvBu0B,EAAWG,sBAAsB,CAACxvB,GAAIovB,EAAKpvB,GAAIlF,QAASy0B,EAAWz0B,QAAST,KAAMk1B,EAAWl1B,OAXK,iCAa/F,CAACV,KAAK,KAbyF,4CAAzB,uDAA3D81B,G,GAARj1B,QAA2Ck1B,G,GAAPj2B,O,GCC4BF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,mCAAAC,EAAA,yDAC7FG,EAAS,IAAIC,cADgF,EAE3CL,EAAOE,KAAvDg2B,EAF2F,EAE3FA,WAF2F,EAE/EN,WAAWO,EAFoE,EAEpEA,KAFoE,IAE/DC,qBAF+D,MAEjD,GAFiD,IAGhFD,EAAKE,gBAAjBC,EAH4F,EAG5FA,SAH4F,yCAMxF,CAACp2B,KAAK,CACTq2B,gBAAiB,gCAP0E,OAW3FZ,EAAS31B,EAAO+C,QAAhB4yB,KAEJV,GAAQ,EAbuF,KAc3FiB,EAd2F,OAe1F,SAf0F,QA2B1F,WA3B0F,4BAgB3FjB,GAAQ,EACJqB,EAAS9M,SAAS,WAClB8M,EAAS9M,SAAS,QAClB8M,EAAS9M,SAAS,OAnBqE,0CAoBhF,CACHtpB,KAAM,CACFq2B,gBAAiB,mDAtB8D,mDA4B3FtB,GAAQ,EA5BmF,oCAgC7FuB,EAAa,CACfF,SAAUA,EACVrB,MAAOA,EACP5zB,QAAS+0B,EACTK,SAAUd,EAAKpvB,IApCgF,UAuCjFnG,EAAOE,KAAKC,UAAaiT,iBAAiBgjB,GAvCuC,wCAyC5F,CACHt2B,KAAK,2BACEF,EAAOE,MADV,IAEAw2B,UAAW7L,GAAMG,iBA5C0E,4CAAzB,uDAAtD2L,G,GAAT51B,QAA0C61B,G,GAAR52B,O,GCDgBF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,uBAAAC,EAAA,6DAC/E42B,EAAgB72B,EAAOE,KAAvB22B,aACaC,EAAmB92B,EAAO+C,QAAvC8zB,aACDE,EAAiBF,EAAazgB,OAAOxB,IAAOkiB,EAAgBE,SAASpiB,IACrEqiB,EAAmBH,EAAgB1gB,OAAOxB,IAAOiiB,EAAaG,SAASpiB,IACvExU,EAAS,IAAIC,cACnB02B,EAAe7a,QAAf,uCAAuB,WAAMgb,GAAN,SAAAj3B,EAAA,sEACbG,EAAOE,KAAKC,UAAaiT,iBAAiB,CAC5CjN,GAAI2wB,EAAQC,YAAW,IAFR,2CAAvB,uDAMAF,EAAiB/a,QAAjB,uCAAyB,WAAMgb,GAAN,SAAAj3B,EAAA,sEACfG,EAAOE,KAAKC,UAAaiT,iBAAiB,CAC5CjN,GAAI2wB,EAAQC,YAAW,IAFN,2CAAzB,uDAZsF,kBAkB/E,CACHj3B,KAAM,CACF22B,kBApB8E,2CAAzB,uDAA3CO,G,GAARr2B,QAAmCs2B,G,GAAPr3B,O,GCCoCF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,eAAAC,EAAA,6DAC3F01B,EAAS31B,EAAOE,KAAhBy1B,KAD2F,SAE7Ft1B,cAAYD,OAAOE,KAAKC,UAAa+2B,mBAAoB,CAC3D/wB,GAAIovB,EAAKpvB,KAHsF,gCAK5F,CACHrG,KAAK,2BACEF,EAAOE,MADV,IAEAw2B,UAAW7L,GAAMC,uBAR0E,2CAAzB,uDAAtDyM,G,GAATx2B,QAA0Cy2B,G,GAARx3B,OCAjD,MAAMy3B,OACKC,eAAe,iBADpBD,GAEKE,iBAAiB,mBAFtBF,GAGKG,iBAAiB,mBAHtBH,GAIKI,OAAO,SAElB,MAAMC,GAAkB,2BACjBrC,IADiB,IAEpB,CAACgC,GAAsBC,gBAAgB1B,GACvC,CAACyB,GAAsBE,kBAAkBhB,GACzC,CAACc,GAAsBI,QAAQT,GAC/B,CAACK,GAAsBG,kBAAkBL,KAEvCQ,GAAiB,2BAChBrC,IADgB,IAEnB,CAAC+B,GAAsBC,gBAAgBzB,GACvC,CAACwB,GAAsBE,kBAAkBf,GACzC,CAACa,GAAsBI,QAAQR,GAC/B,CAACI,GAAsBG,kBAAkBJ,KAG7C,SAASQ,GAAkBv0B,EAAOzD,GAClC,OAAO+3B,GAAkB/3B,EAAO0D,MAAMD,EAAOzD,EAAOE,M,gCC2CrC+3B,OAlEf,MAA4B,cAAD,KAkBvBC,MAASC,IAEL,IAAkBxC,EAAkBxL,EAAhCiO,EAAU,GAAUC,EAAQ,GAChC,IAAKlO,EAAI,EAAGA,EAAIgO,EAAKzjB,OAAQyV,GAAK,EAC9BiO,EAAQD,EAAKhO,GAAG5jB,IAAM4jB,EACtBgO,EAAKhO,GAAGmO,WAAa,GAEzB,IAAKnO,EAAI,EAAGA,EAAIgO,EAAKzjB,OAAQyV,GAAK,EAE9B,GADAwL,EAAOwC,EAAKhO,GACU,IAAlBwL,EAAKc,SACL,IACI0B,EAAKC,EAAQzC,EAAKc,WAAW6B,WAAWlqB,KAAKunB,GAC/C,MAAOrzB,GACLyI,QAAQC,IAAI,gBACZD,QAAQC,IAAI2qB,GACZ5qB,QAAQC,IAAIotB,EAAQzC,EAAKc,gBAI7B4B,EAAMjqB,KAAKunB,GAGnB,OAAO0C,GAxCY,KA0CvBE,QAAW3jB,IACHA,EAAI,YAAkBA,EAAI,WAAeF,OAAS,IAClDE,EAAI,SAAeA,EAAI,WACvBA,EAAI,SAAaD,IAAK6jB,GACXjtB,KAAKgtB,QAAQC,KAG5B5jB,EAAI,GAAS8X,OAAO9X,EAAI,IACxBA,EAAI,IAAUA,EAAI,GAElBA,EAAI,MAAY,8BAAOA,EAAK9L,OAC5B8L,EAAI,QAAcA,EAAI,MAClBA,EAAI,MACJA,EAAI,KAAW,kBAAC6jB,GAAA,EAAD,MAEf7jB,EAAI,KAAW,kBAAC8jB,GAAA,EAAD,MAGZ9jB,K,yLC3Df,MAAM+jB,GAAW5wB,KAAOC,IAAV,MAaC4wB,OANf,WACI,OAAO,kBAACD,GAAD,KACH,kBAAC,KAAD,CAAMjE,IAAI,kBCZlB,MAAMmE,GAAiB,EAAEC,iBAAex0B,YAAUy0B,eAAa,MAAD,EAEEt0B,wBAASM,GAFX,mBAEnDi0B,EAFmD,KAE3BC,EAF2B,KAiD1D,MAAO,CAACC,aA7CaC,sBAAa7sB,IAAY,MAClC8Q,EAAgB9Q,EAAhB8Q,MAAOuY,EAASrpB,EAATqpB,KAEf,IAAIyD,EAAUhc,EAAMic,QAChBC,EAASlc,EAAMmc,QACnB,MAAMpH,EAASpa,IACX,IAAI+gB,EAAep0B,QAAS,QACPo0B,EAAep0B,QAAQ80B,SAASzhB,EAAI6L,SAErDqV,OAA0Bl0B,IAGlCgtB,SAAS0H,iBAAiB,QAAStH,GAEnC,MAAMuH,EAAS,KACXT,OAA0Bl0B,IAS9B,OAPAgtB,SAAS0H,iBAAiB,SAAUC,GAEpCT,EAA0B,CACtBU,MAAOP,EACPQ,MAAON,EACP/yB,GAAIovB,EAAKpvB,KAEN,KACHwrB,SAAS8H,oBAAoB,QAAQ1H,GACrCJ,SAAS8H,oBAAoB,SAASH,KAE5C,CAACT,IAiBkBa,GAfVX,sBAAY,KACnB,IAAKH,EACD,OAFmB,uBAIWA,GAA1BW,EAJe,EAIfA,MAAOC,EAJQ,EAIRA,MACTG,GALiB,EAIDxzB,GACL,CACbyzB,OAAQ,IACRC,SAAU,QACV9Y,KAAK,GAAD,OAAKwY,EAAL,MACJ3Y,IAAI,GAAD,OAAK4Y,EAAL,MACH1b,aAAc,MACdgc,UAAW,uGAEf,OAAO,yBAAK1kB,IAAKsjB,EAAgB3yB,MAAO4zB,GAAWhB,EAAS,CAACC,yBAAuBC,4BAA0B30B,gBAChH,CAAC00B,MCrCChF,GAAkBD,KAAlBC,cAGF3rB,GAAY,CACd8xB,MAAO,GACPlzB,WAAOlC,EACPwxB,qBAAiBxxB,EACjBmxB,gBAAYnxB,EACZq1B,iBAAar1B,EACbs1B,cAAc,EACd3D,eAAW3xB,EACXgN,SAAS,EACT8kB,aAAc,IAIZyD,GAAoBv2B,IAAMC,gBAEhC,SAASu2B,GAAWr2B,GAAQ,MAChB0xB,EAAe1xB,EAAf0xB,WADe,EAEIntB,0BAAgBuvB,GAAmB3vB,GAAWyvB,IAFlD,mBAEhBr0B,EAFgB,KAETa,EAFS,KAGfyN,EAQJtO,EARIsO,QACJooB,EAOA12B,EAPA02B,MACAlzB,EAMAxD,EANAwD,MAAOsvB,EAMP9yB,EANO8yB,gBACPL,EAKAzyB,EALAyyB,WACAmE,EAIA52B,EAJA42B,aACAD,EAGA32B,EAHA22B,YACA1D,EAEAjzB,EAFAizB,UACAG,EACApzB,EADAozB,aAEEz2B,EAAS,IAAIC,cACby4B,EAAiB3zB,mBAbA,EAcRq1B,IAAKC,UAAbtE,EAdgB,oBAgBvB/wB,oBAAU,MACO,uCAAG,kCAAAnF,EAAA,sEACMG,EAAOwB,IAAIrB,UAAam6B,iBAAkB,IADhD,UAEO,OADbx5B,EADM,QAEJiG,OAFI,iDAMNwzB,EAAU,IAAI1C,GACd2C,EAAUD,EAAQzC,MAAMh3B,EAAIG,SAASw5B,KAAK,CAAC56B,EAAG66B,IACzC76B,EAAEsG,GAAKu0B,EAAEv0B,IAIdw0B,EAAWH,EAAQjmB,IAAIC,GAClB+lB,EAAQpC,QAAQ3jB,IAG3BiW,GAAMO,UAAU2P,EAAS,GAAKnmB,IACtBA,EAAKuiB,YACLN,EAAazoB,KAAKwG,EAAKrO,MAI/BjC,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFi6B,MAAOY,EACPhpB,SAAS,EACT8kB,kBA3BI,4CAAH,qDA+BbmE,IACD,CAACtE,IAEJ,MAnDuB,EAgImCmC,GAAe,CAAEC,iBAAgBx0B,YAAWy0B,SA7ErF,EAAEC,yBAAwBC,4BAA2B30B,gBAAgB,MAC1EiC,EAAOyyB,EAAPzyB,GACR,IAAIqd,OAAS7e,EAOb,OALA8lB,GAAMO,UAAU+O,EAAM,GAAKvlB,IACnBA,EAAKrO,KAAOA,IACZqd,EAAShP,KAGbrO,IAAO4zB,EAAM,GAAG5zB,GACT,kBAAC,IAAD,KACH,kBAAC,IAAKL,KAAN,CAAWG,KAAM,kBAAC40B,GAAA,EAAD,MAAuBn1B,QACpC,KACIxB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFy1B,KAAM/R,EACNsS,WAAY,SACZkE,YAAa,iBACbC,cAAc,OAR9B,mBAgBHzW,EAAOqR,MAcL,kBAAC,IAAD,KACH,kBAAC,IAAK/uB,KAAN,CAAWG,KAAM,kBAAC60B,GAAA,EAAD,MAAqBp1B,QAAS,KAC3CxB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFy1B,KAAM/R,EACNsS,WAAY,OACZkE,YAAa,cACbC,cAAc,KAGtBpB,OAA0Bl0B,IAC3BgB,IAAK,GAXR,iBAYA,kBAAC,IAAKG,KAAN,CAAWG,KAAM,kBAAC40B,GAAA,EAAD,MAAuBn1B,QAAS,KAC7CxB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFy1B,KAAM/R,EACNsS,WAAY,SACZkE,YAAa,gBACbC,cAAc,KAGtBpB,OAA0Bl0B,IAC3BgB,IAAK,GAXR,iBAYA,kBAAC,IAAKG,KAAN,CAAWG,KAAM,kBAAC80B,GAAA,EAAD,MAAoBr1B,QAAS,KAC1CxB,EAAU,CACNZ,KAAM+zB,GAAsBG,iBAC5B13B,KAAM,CACFy1B,KAAM/R,KAGdqV,OAA0Bl0B,IAC3BgB,IAAK,GARR,WAtCO,kBAAC,IAAD,KACH,kBAAC,IAAKG,KAAN,CAAWJ,QAAS,KAChBxB,EAAU,CACNZ,KAAM+zB,GAAsBG,iBAC5B13B,KAAM,CACFy1B,KAAM/R,KAGdqV,OAA0Bl0B,IAC3BgB,IAAK,GARR,cAgDUq1B,EAhIC,EAgIflC,aAAkCmC,EAhInB,EAgIevB,GAGtC,OACI,kBAACQ,GAAkBj1B,SAAnB,CAA4BqD,MAAO,CAAEpE,cAChC+2B,IACD,kBAAC,KAAD,CACI/1B,MAAO80B,EACP70B,QAAS80B,EACT70B,SAAU,KACNlB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAAEm6B,cAAc,MAG9B50B,KAAM,KACFnB,EAAU,CACNZ,KAAM+zB,GAAsBE,iBAC5Bz3B,KAAM,CACFm6B,cAAc,EACdzE,aAAYM,aACZC,WAIZxwB,WAAW,SACXiY,OAAO,MAGH2Y,GAAmB,kBAAC,GAAD,CAAUpuB,QAASouB,IAE1C,kBAAC,IAAD,CAAMJ,KAAMA,GACR,kBAAC,IAAKjwB,KAAN,CAAWtF,KAAK,WAAWkI,MAAM,aAC7B,kBAAC,IAAD,SAIX7B,GAAS,kBAAC,GAAD,CAAUkB,QAASlB,IAC5B8K,GAAW,kBAAC,GAAD,OACVA,GACE,kBAAC,GAAD,CACIupB,SAAWzE,IACPvyB,EAAU,CACNZ,KAAM+zB,GAAsBI,OAC5B33B,KAAM,CAAE22B,mBAGhB0E,kBAAkB,EAClB1E,aACIA,EAEJnZ,cAAe,CAAC3F,EAAK4d,KACjBrxB,EAAU,CACNZ,KAAM+zB,GAAsBC,eAC5Bx3B,KAAM,CAAE01B,aAAYD,WAG5B6F,aAAa,QACbtC,aAAckC,EACdK,aAAc,kBAACC,GAAA,EAAD,MACdX,SAAUZ,K,MCrNtBnV,GAAYC,KAAZD,QACO,MAAM2W,WAAqB53B,YACtCkI,YAAY/H,GACRkM,MAAMlM,GACNqH,KAAKmH,SAAWxO,EAAMmR,OAE1BC,SACG,OAAO,gBAAC,KAAD,CAAMmQ,iBAAiB,IAAItf,MAAO,CAACkQ,SAAS,SAAUqP,WAAa3f,IAChE,MAANA,GACIwF,KAAKqwB,kBACJrwB,KAAKqwB,iBAAiB5nB,WAI9B,gBAAC,GAAD,CAAS2R,IAAI,SAAS5f,IAAI,KAC3B,uBAAK4C,UAAU,gBACX,gBAAC4xB,GAAD,CAAY3E,WAAcrqB,KAAKmH,aAGnC,gBAAC,GAAD,CAASiT,IAAI,YAAY5f,IAAI,KAC7B,uBAAK4C,UAAU,gBACX,gBAAC,GAAD,CAAe6M,IAAMC,GAAMlK,KAAKqwB,iBAAmBnmB,MAGvD,gBAAC,GAAD,CAASkQ,IAAI,aAAa5f,IAAI,KAC9B,uBAAK4C,UAAU,gBACX,gBAAC,GAAD,CAAgB6M,IAAMC,GAAMlK,KAAKswB,kBAAoBpmB,Q,OCnBhE,MAAMqmB,WAAsBtd,YAExBvS,YAAY/H,GACRkM,MAAMlM,GADS,KAiBnB6xB,sBAAyBgG,IACrB,MAAM9uB,EAAO1B,KAEb,GAAIA,KAAKywB,gBAAgBpgB,eAAemgB,EAAOx1B,IAAK,CAChD,MAAM01B,EAAY1wB,KAAKywB,gBAAgBD,EAAOx1B,IAC9C01B,EAAUzmB,IAAI/G,KAAKstB,EAAO16B,QAAS06B,EAAOx1B,IAC1CgF,KAAK2wB,YAAYx3B,QAAQoS,SAASmlB,EAAU5S,gBAG5C9d,KAAK2wB,YAAYx3B,QAAQklB,QAAQmS,EAAOn7B,KAAOq7B,IAC3CA,EAAUzmB,IAAI/G,KAAKstB,EAAO16B,QAAS06B,EAAOx1B,IAC1C0G,EAAK+uB,gBAAgBD,EAAOx1B,IAAM01B,IAKtCF,EAAOn7B,KAAK4oB,SAAS,OACrBvc,EAAK3J,SAAS,CAACmmB,cAAe,aACxBsS,EAAOn7B,KAAK4oB,SAAS,OAC3Bvc,EAAK3J,SAAS,CAACmmB,cAAe,iBAE9Bxc,EAAK3J,SAAS,CAACmmB,cAAe,YAtCnB,KA0CnBa,YAAe2R,IACX,MAAME,EAAsB1uB,OAAOmP,KAAKrR,KAAKywB,iBAAiB5lB,OAAOrQ,GAC1DwF,KAAKywB,gBAAgBj2B,GAAKsjB,YAAc4S,EAAU5S,WAC1DrJ,OAAO,CAACoc,EAAKr2B,KACZq2B,EAAIr2B,GAAOwF,KAAKywB,gBAAgBj2B,GACzBq2B,GACR,IACH7wB,KAAKywB,gBAAkBG,GAjDR,KAoDnB/S,iBAAmB,IACR7d,KAAK2wB,YAAYx3B,QAAQ0kB,mBArDjB,KAyDnB3U,QAAWvU,IACPqL,KAAKga,aAAerlB,EACpBqL,KAAKsH,KAAKnO,QAAQme,WA3DH,KA8DnBwZ,aAAe,KACX,GAAiC,aAA7B9wB,KAAK9H,MAAMgmB,eAA6D,iBAA7Ble,KAAK9H,MAAMgmB,cACtD,OAAO,6BACH,kBAAC,aAAD,CAAWzP,YAAa,CAACC,OAAQ,SAAUC,SAAU,KACjD3O,KAAKiM,WAAW9S,QAAQ6K,OAAO4K,WAE/B,kBAAC,KAAD,CACIF,OAAQ,OACRlD,MAAO,OACPvB,IAAKjK,KAAKiM,WACVvR,KAAK,OACLmU,MAAM,SACNxZ,KAAK,iBAIb,6BACI,kBAAC,GAAD,CAAW4U,IAAKjK,KAAKsH,KAAMwC,OAAQ9J,QAEvC,yBAAK5C,UAAU,uBACX,kBAAC,GAAD,CAAmB6M,IAAKjK,KAAKoH,QAAS0C,OAAQ9J,UA/E1DA,KAAK9H,MAAQ,CAAC64B,WAAY,GAAI7S,cAAe,UAE7Cle,KAAK2wB,YAAcn4B,IAAMw4B,YACzBhxB,KAAKiM,WAAazT,IAAMw4B,YACxBhxB,KAAKoH,QAAU5O,IAAMw4B,YACrBhxB,KAAKsH,KAAO9O,IAAMw4B,YAClBhxB,KAAKyM,MAAQjU,IAAMw4B,YAInBhxB,KAAKywB,gBAAkB,GA4E3B1mB,SACI,OACI,yBAAK3M,UAAU,UAEZ,yBAAKA,UAAU,gBACf,kBAAC,aAAD,CAAYxC,MAAO,CAAEq2B,aAAc,OAAQC,YAAa,UACvD,kBAAC,GAAD,CAAejnB,IAAMC,GAAKlK,KAAKmxB,gBAAkBjnB,EAAIJ,OAAQ9J,SAI7D,yBAAK5C,UAAU,iBACX,yBAAKxC,MAAO,CAAC0e,aAAc,SACvB,kBAAC,GAAD,CAAcrP,IAAKjK,KAAKyM,MAAO3C,OAAQ9J,QAE3C,kBAAC,GAAD,CAAWiK,IAAKjK,KAAK2wB,YAAa7mB,OAAQ9J,OACzCA,KAAK8wB,kBAQXP,U,WC7Hf,MAAMa,GACJ1wB,YAAY2wB,GACVrxB,KAAKqxB,WAAaA,EAGpBC,QAAQC,GACN,OAAOA,EAAO9c,OAAO,CAAC+c,EAAGC,IAAUA,EAAMD,GAAIxxB,KAAKqxB,aAIvCK,OAZJL,GAAe,IAAID,GAAaC,GCEpC,MAAMM,GAAeN,GAAa,cAAcA,EAAY,eAAD,iCAE5DO,iBAAmB,KACjB5xB,KAAKjI,SAAS,CAAC85B,gBAAgB7xB,KAAK9H,MAAM25B,kBAHgB,KAM5DA,eAAkBrlB,IAChB,IAAIA,EAAI4d,KAAKzxB,MAAT,MACF,OAEF,MAAMm5B,EAAe,CAAChJ,MAAOtc,EAAI4d,KAAKzxB,MAAT,MAAwBo5B,GAAIvlB,EAAI4d,KAAKzxB,MAAT,IACzDqH,KAAKjI,SAAS,CAAC85B,gBAAe,EAAKC,kBAXuB,KAc5DE,iBAAmB,IACXhyB,KAAK9H,MAAM45B,aAGV9xB,KAAK9H,MAAM45B,aAAaC,GAAK,IAAM/xB,KAAK9H,MAAM45B,aAAahJ,MAFrD,GAhB6C,KAqB5DmJ,UArB4D,uCAqBhD,WAAOpkB,GAAP,mBAAAnZ,EAAA,sDACR,EAAKqD,SAAS,CAAC85B,gBAAe,IADtB,EAEW,EAAK35B,MAAM45B,aAAvBC,EAFC,EAEDA,GAAGjJ,EAFF,EAEEA,MACVoJ,GAAiBC,SAASC,WAAWvkB,EAAOkkB,EAAGjJ,GAC/C,EAAKqJ,SAASC,WAAWvkB,EAAOkkB,EAAGjJ,GAJ3B,2CArBgD,wDCIhDL,IAAkBD,KAA5BD,SAA4BC,KAAlBC,eAEH,MAAM4J,WAAwBX,GAAIrI,IAAgBiI,KAAKK,KAClEjxB,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YAKnBk5B,eAAkBrlB,IACd,MAAMslB,EAAe,CAAChJ,MAAOtc,EAAI4d,KAAKzxB,MAAMoxB,QAAf,KAA+BgI,GAAI,IAChE/xB,KAAKjI,SAAS,CAAC85B,gBAAe,EAAKC,kBAPpB,KAUnBG,UAVmB,uCAUP,WAAOpkB,EAAOykB,EAAGC,GAAjB,iBAAA79B,EAAA,sDACR,EAAKqD,SAAS,CAAC85B,gBAAe,IADtB,EAEW,EAAK35B,MAAM45B,aAFtB,EAEDC,GAAGjJ,EAFF,EAEEA,MACV,EAAKqJ,SAASC,WAAWvkB,EAAOykB,EAAGxJ,EAAMyJ,GAHjC,2CAVO,+DAgBnBxoB,OAAS,IACE,2BACH,gBAAC,KAAD,CACIhQ,MAAK,uBAAkBiG,KAAKgyB,mBAAvB,MACLh4B,QAASgG,KAAK9H,MAAM25B,eACpB53B,SAAU+F,KAAK4xB,iBACf13B,KAAM,KAAQ8F,KAAKiyB,UAAU,OAAOjyB,KAAKwyB,WAAW79B,KAAKmtB,YAAY9hB,KAAKwyB,WAAW79B,KAAKoM,SAC1F3G,WAAW,SACXiY,OAAO,MACH,gBAAC,GAAD,CAAW7X,IAAKwF,KAAKgyB,mBAAoB/O,YAAY,EAAMC,iBAAiB,EAAMjZ,IAAKC,GAAIlK,KAAKwyB,WAAWtoB,EAAKJ,OAAQ9J,QAEhI,gBAAC,KAAD,CAAMmpB,IAAI,aAAaC,SAAUppB,KAAK9H,MAAMsO,SACxC,gBAAC,GAAD,CAAeyjB,SAAUjqB,KAAK6pB,WAAYoG,aAAa,cAActC,aAAc3tB,KAAK6xB,gBACnF7xB,KAAKgqB,gBAAgBhqB,KAAK9H,MAAMuxB,SA3B7CzpB,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,U,MCL7B5J,GAA4BC,KAA5BD,SAAUE,GAAkBD,KAAlBC,cACH,MAAMgK,WAAuBf,GAAIhJ,IAAe4I,KAAKK,KAChEjxB,YAAY/H,GACRkM,MAAMlM,GADS,KAInB+5B,WAAclmB,IACVxM,KAAKjI,SAAS,CACV01B,uBAAwB,CACpBW,MAAO5hB,EAAIqF,MAAMuc,MACjBC,MAAO7hB,EAAIqF,MAAMwc,MACjBvF,MAAOtc,EAAI4d,KAAKzxB,MAAT,MACPo5B,GAAIvlB,EAAI4d,KAAKzxB,MAAT,OARZqH,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAYjCpJ,OACI,OAAO7mB,OAAO8mB,QAAQhpB,KAAK9H,MAAMywB,KAAKvf,IAAI,EAAE5O,EAAK2C,KACtC,gBAAC,GAAD,CAAUpD,MAAOS,EAAKA,IAAKA,GAC7B2C,EAAMiM,IAAIC,GACA,gBAAC,GAAD,CAAUvO,KAAM,gBAACmuB,GAAA,EAAD,MAAmBlvB,MAAOsP,EAAMyf,MAAOzf,EAAM0oB,GAAIv3B,EAAKA,IAAG,UAAKA,EAAL,YAAY6O,GAAQ6f,QAAM,OAM1Hnf,SAEI,OACI,2BACK,gBAAC,KAAD,CACGhQ,MAAK,aACLC,QAASgG,KAAK9H,MAAM25B,eACpB53B,SAAU+F,KAAK4xB,iBACf13B,KAAM,KAAK8F,KAAKiyB,UAAU,UAC1B73B,WAAW,SACXiY,OAAO,MANV,gBAOYrS,KAAKgyB,mBAPjB,OASD,gBAAC,KAAD,CAAM7I,IAAI,aAAaC,SAAUppB,KAAK9H,MAAMsO,SACxC,gBAAC,GAAD,CAAemnB,aAAc3tB,KAAK6xB,gBAC7B7xB,KAAK+oB,W,SC5CoCx0B,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,iBAAAC,EAAA,sEACrE0Q,GAAcutB,mBADuD,UAEpE,OADbh9B,EADiF,QAE/EiG,OAF+E,uBAG7E+sB,EAAM,GACZhzB,EAAIG,QAAQ6a,QAAQtH,IACXsf,EAAItf,EAAKupB,WAGVjK,EAAItf,EAAKupB,WAAW/vB,KAAKwG,EAAK7D,WAF9BmjB,EAAItf,EAAKupB,WAAa,CAACvpB,EAAK7D,aAN+C,kBAW5E,CACH7Q,KAAK,aACDg0B,OAAOl0B,EAAOE,QAb6D,gCAkBhF,CACHA,KAAK,eAAKF,EAAOE,QAnBkE,2CAAzB,uDAA1Ck+B,G,GAATr9B,QAAoCs9B,G,GAARr+B,O,GCDkBF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,iBAAAC,EAAA,+DACrDD,EAAOE,KAA7Bo+B,EAD2E,EAC3EA,UAD2E,EACjEZ,SACRC,WAAW,OAAO,GAAGW,GAFoD,kBAG3E,CACHp+B,KAAM,KAJwE,2CAAzB,uDAAvCq+B,G,GAARx9B,QAAiCy9B,G,GAAPx+B,O,GCGyBF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,iBAAAC,EAAA,6DAC/EsG,EAAMvG,EAAOE,KAAbqG,GACDmQ,EAAQ,IAAIrW,cAFoE,SAGhFqW,EAAM9U,IAAIrB,UAAak+B,sBAAsB,CAAC1tB,UAAUxK,IAHwB,gCAI/E,CACHrG,KAAM,CACFw2B,UAAW7L,GAAMG,gBAN6D,2CAAzB,uDAA3C0T,G,GAAR39B,QAAmC49B,G,GAAP3+B,OCD1C,MAAM4+B,OACKC,KAAO,OADZD,GAEKE,KAAO,OAFZF,GAGKG,OAAS,SAEpB,MAAMC,GAAsB,2BACrBvJ,IADqB,IAExB,CAACmJ,GAA0BC,MAAMT,GACjC,CAACQ,GAA0BE,MAAMP,GACjC,CAACK,GAA0BG,QAAQL,KAGjCO,GAAqB,2BACpBvJ,IADoB,IAEvB,CAACkJ,GAA0BC,MAAMR,GACjC,CAACO,GAA0BE,MAAMN,GACjC,CAACI,GAA0BG,QAAQJ,KAGvC,SAASO,GAAsBz7B,EAAOzD,GACtC,OAAOi/B,GAAsBj/B,EAAO0D,MAAMD,EAAOzD,EAAOE,M,oBClBhD4zB,GAA4BC,KAA5BD,SAAUE,GAAkBD,KAAlBC,cAEZ3rB,GAAY,CACd6rB,IAAK,GACLniB,SAAS,EACTusB,eAAWv5B,EACXo6B,SAAS,EACTzI,eAAW3xB,GAGTq6B,GAAwBr7B,IAAMC,gBAEpC,SAASq7B,GAAen7B,GAAQ,MACrBw5B,EAAkCx5B,EAAlCw5B,SAAgB4B,EAAkBp7B,EAAzB8P,OADW,EAEAvL,0BAAgBy2B,GAAuB72B,GAAW22B,IAFlD,mBAEpBv7B,EAFoB,KAEba,EAFa,KAGnB4vB,EAA6CzwB,EAA7CywB,IAAKniB,EAAwCtO,EAAxCsO,QAASusB,EAA+B76B,EAA/B66B,UAAUa,EAAqB17B,EAArB07B,QAAQzI,EAAajzB,EAAbizB,UAClCoC,EAAiB3zB,mBAJI,EAqC+B0zB,GAAe,CAAEC,iBAAgBx0B,YAAWy0B,SA/BrF,EAAGC,yBAAwBC,4BAA2B30B,gBAAiB,MAC5EiC,EAAOyyB,EAAPzyB,GAER,OAAO,kBAAC,IAAD,KACH,kBAAC,IAAKL,KAAN,CAAWG,KAAM,kBAACk5B,GAAA,EAAD,MAAwBz5B,QAAS,KAC9CxB,EAAU,CACNZ,KAAMk7B,GAA0BE,KAChC5+B,KAAM,CACFo+B,UAAU/3B,EACVm3B,cAGRp5B,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFi/B,SAAQ,KAGhBlG,OAA0Bl0B,IAC3BgB,IAAK,GAfR,cAgBA,kBAAC,IAAKG,KAAN,CAAWJ,QAAS,KAChBxB,EAAU,CACNZ,KAAMk7B,GAA0BG,OAChC7+B,KAAM,CACFqG,QAGR0yB,OAA0Bl0B,IAC3BgB,IAAK,EAAGM,KAAM,kBAAC80B,GAAA,EAAD,OARjB,cAWcC,EArCK,EAqCnBlC,aAAkCmC,EArCf,EAqCWvB,GActC,OAZA10B,oBAAU,KACNd,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAAE6R,SAAS,KAErBzN,EAAU,CACNZ,KAAMk7B,GAA0BC,KAChC3+B,KAAM,CACF6R,SAAS,MAGlB,CAAC2kB,EAAU4I,IAEV,kBAACF,GAAsB/5B,SAAvB,CAAgCqD,MAAO,CAAEpE,cACrC,kBAAC,KAAD,CACIgB,MAAK,aACLC,QAAS45B,EACT35B,SAAU,KACNlB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFi/B,SAAS,MAIrB15B,KAAM,KACFnB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAACo+B,gBAGf34B,WAAW,SACXiY,OAAO,MAlBX,eAmBa0gB,EAnBb,MAqBA,kBAAC,KAAD,CAAM5J,IAAI,aAAaC,SAAU5iB,GAC5BspB,IACD,kBAAC,GAAD,CAAe3d,cAAe,CAAC3F,EAAI4d,KAC/BrxB,EAAU,CACNZ,KAAMk7B,GAA0BE,KAChC5+B,KAAM,CACFo+B,UAAU3I,EAAKpvB,GACfm3B,cAGRp5B,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFi/B,SAAQ,MAGjBjG,aAAckC,GAET3tB,OAAO8mB,QAAQL,GAAKsL,QAAQ,EAAEz5B,EAAK2C,KACxBA,EAAMiM,IAAIC,GACN,kBAAC,GAAD,CAAUvO,KAAM,kBAACmuB,GAAA,EAAD,MAAmBjuB,GAAIqO,EAAMyf,MAAOzf,EAAM0oB,GAAIv3B,EAAKT,MAAOsP,EAAM7O,IAAK6O,EAAM6f,QAAM,S,SC1GtE30B,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,2BAAAC,EAAA,2DACjED,EAAOE,KAAtBu/B,EADgF,EAChFA,OADgF,EACzE9J,KACRjf,EAAQ,IAAIrW,cACdo/B,EAHmF,gCAInE/oB,EAAM7J,UAAN,kCAAkDge,GAAMG,aAAaH,GAAMY,mBAJR,UAKhE,OADfvqB,EAJ+E,QAK3EiG,OAL2E,uBAMzE+sB,EAAOhzB,EAAIG,QAAQnB,KAAKyU,IAAIC,IAC9BA,EAAI,IAAUA,EAAK8qB,cAAgB9qB,EAAK+qB,UACxC/qB,EAAI,MAAYA,EAAK7O,IACrB6O,EAAI,QAAa,EACjBA,EAAI,SAAe,GACZA,IAXoE,kBAaxE,CACH1U,KAAK,aACDg0B,OAAOl0B,EAAOE,QAfyD,WAqBpFu/B,EArBoF,kCAsB7E/oB,EAAM7J,UAAN,6BAAsC4yB,EAAtC,MAAiD5U,GAAMG,aAAaH,GAAMY,mBAtBG,yBAuBnE/U,EAAM7J,UAAN,+BAA+Cge,GAAMG,aAAaH,GAAMY,mBAvBL,WAwBhE,OADfvqB,EAvB+E,QAwB3EiG,OAxB2E,wBAyBzEy4B,EAAU1+B,EAAIG,QAAQnB,KAAKkW,OAAOxB,IACzBA,EAAKwf,UAAYxf,EAAK+qB,aACnBF,GACf9qB,IAAIC,IACHA,EAAI,IAAJ,UAAiB6qB,EAAjB,YAA2B7qB,EAAK7D,WAChC6D,EAAI,MAAYA,EAAK7D,UACrB6D,EAAI,QAAa,EACjBA,EAAI,KAAS,gBAAC4f,GAAA,EAAD,MACN5f,IAEJsf,EAAOl0B,EAAO+C,QAAdmxB,IACD2L,EAAS3L,EAAIvf,IAAI2oB,IAChBA,EAAGv3B,MAAM05B,IACRnC,EAAG/R,SAAWqU,GAEXtC,IAxCoE,kBA0CxE,CACHp9B,KAAK,2BAAKF,EAAOE,MAAb,IAAkBg0B,IAAI2L,MA3CiD,iCAiDhF,CACH3/B,KAAK,eAAKF,EAAOE,QAlDkE,4CAAzB,uDAA1Ck+B,G,GAATr9B,QAAoCs9B,G,GAARr+B,O,GCJkBF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,2BAAAC,EAAA,+DACrDD,EAAOE,KAA7Bo+B,EAD2E,EAC3EA,UAAUZ,EADiE,EACjEA,SADiE,EAE/DY,EAAUzpB,MAAM,KAF+C,mBAE3EyoB,EAF2E,KAExEjJ,EAFwE,KAGlFqJ,EAASC,WAAW,OAAOL,EAAGjJ,GAHoD,kBAI3E,CACHn0B,KAAM,KALwE,2CAAzB,uDAAvCq+B,G,GAARx9B,QAAiCy9B,G,GAAPx+B,OCElC8/B,GAAO,CAAC5/B,EAAM6/B,IAChB7/B,EAAKyU,IAAIC,IACL,MAAMoI,EAAQpI,EAAKtP,MAAMwnB,QAAQiT,GAC3BC,EAAYprB,EAAKtP,MAAM26B,OAAO,EAAGjjB,GACjCkjB,EAAWtrB,EAAKtP,MAAM26B,OAAOjjB,EAAQ+iB,EAAYrrB,QACjDpP,EACF0X,GAAS,EACL,8BACKgjB,EACD,0BAAMr3B,UAAU,0BAA0Bo3B,GACzCG,GAGD,8BAAOtrB,EAAKtP,OAGxB,OAAIsP,EAAK2W,SACE,2BAAK3W,GAAZ,IAAkBtP,QAAOimB,SAAUuU,GAAKlrB,EAAK2W,SAAUwU,KAGpD,2BAAKnrB,GAAZ,IAAkBtP,Y,GAG4CxF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,uBAAAC,EAAA,yDACnFi0B,EAAQl0B,EAAO+C,QAAfmxB,IACA6L,EAAgB//B,EAAOE,KAAvB6/B,YAFmF,yCAIhF,CACH7/B,KAAM,CACF22B,aAAc,GAAIsJ,WAAYjM,KANiD,cAWvFkM,EAAW,GACXvJ,EAAe3C,EACdsL,QAAQ5qB,IAAS,IAAD,EACb,MAAMlI,GAAM,UAAAkI,EAAK2W,gBAAL,eAAe5W,IAAI0rB,GACvBA,EAAI/6B,MAAMwnB,QAAQiT,IAAgB,EAC3BnrB,EAAK7O,IAET,MACRqQ,OAAOxB,GAAQA,KAAS,GAK3B,OAHGA,EAAKtP,MAAMwnB,QAAQiT,IAAgB,GAClCK,EAAShyB,KAAKwG,EAAK7O,KAEhB2G,IAGfmqB,EAAehM,GAAMkB,SAAS8K,GACxBsJ,EAAaL,GAAK5L,EAAK6L,GAAa3pB,OAAOxB,GACtCiiB,EAAaG,SAASpiB,EAAK7O,MAAQq6B,EAASpJ,SAASpiB,EAAK7O,MA7BsB,kBA+BpF,CACH7F,KAAM,CACF22B,eAAcsJ,gBAjCqE,2CAAzB,uDAA9CG,G,GAATv/B,QAAsCw/B,G,GAARvgC,OCvB7C,MAAMwgC,OACK3B,KAAO,OADZ2B,GAEK1B,KAAO,OAFZ0B,GAGKC,OAAS,SAEpB,MAAMC,GAAkB,2BACjBjL,IADiB,IAEpB,CAAC+K,GAAsB3B,MAAMT,GAC7B,CAACoC,GAAsB1B,MAAOP,GAC9B,CAACiC,GAAsBC,QAASH,KAE9BK,GAAiB,2BAChBjL,IADgB,IAEnB,CAAC8K,GAAsB3B,MAAMR,GAC7B,CAACmC,GAAsB1B,MAAON,GAC9B,CAACgC,GAAsBC,QAASF,KAGpC,SAASK,GAAkBn9B,EAAOzD,GAClC,OAAO2gC,GAAkB3gC,EAAO0D,MAAMD,EAAOzD,EAAOE,MCfhB6zB,KAA5BD,S,MAAUE,GAAkBD,KAAlBC,cAEZ3rB,GAAY,CACd6rB,IAAK,GACLniB,SAAS,EACTusB,eAAWv5B,EACXo6B,SAAS,EACTzI,eAAW3xB,EACX8xB,aAAa,IAGXgK,GAAoB98B,IAAMC,gBAEhC,SAAS88B,GAAW58B,GAChB,MAAMw5B,EAAWD,GAAiBC,SAClB4B,EAAmBp7B,EAA3B8P,OAFe,EAGIvL,0BAAgBm4B,GAAmBv4B,GAAWq4B,IAHlD,mBAGhBj9B,EAHgB,KAGTa,EAHS,KAIf4vB,EAEJzwB,EAFIywB,IAAKniB,EAETtO,EAFSsO,QAASusB,EAElB76B,EAFkB66B,UAAWa,EAE7B17B,EAF6B07B,QAASzI,EAEtCjzB,EAFsCizB,UACtCyJ,EACA18B,EADA08B,WAAWtJ,EACXpzB,EADWozB,aAETiC,EAAiB3zB,mBAPA,EA+BmC0zB,GAAe,CAAEC,iBAAgBx0B,YAAWy0B,SAtBrF,EAAGC,yBAAwBC,4BAA2B30B,gBAAiB,MAC5EiC,EAAOyyB,EAAPzyB,GAER,OAAO,kBAAC,IAAD,KACH,kBAAC,IAAKL,KAAN,CAAWG,KAAM,kBAACk5B,GAAA,EAAD,MAAwBz5B,QAAS,KAC9CxB,EAAU,CACNZ,KAAM88B,GAAsB1B,KAC5B5+B,KAAM,CACFo+B,UAAW/3B,EACXm3B,cAGRp5B,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFi/B,SAAS,KAGjBlG,OAA0Bl0B,IAC3BgB,IAAK,GAfR,kBAkBcq1B,EA/BC,EA+BflC,aAAkCmC,EA/BnB,EA+BevB,GAetC,OAbA10B,oBAAU,KACNd,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAAE6R,SAAS,KAErBzN,EAAU,CACNZ,KAAM88B,GAAsB3B,KAC5B3+B,KAAM,CACF6R,SAAS,MAGlB,CAAC2kB,EAAW4I,IAGX,kBAACuB,GAAkBx7B,SAAnB,CAA4BqD,MAAO,CAAEpE,cACjC,kBAAC,KAAD,CACIgB,MAAK,aACLC,QAAS45B,EACT35B,SAAU,KACNlB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFi/B,SAAS,MAIrB15B,KAAM,KACFnB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFo+B,UAAWA,EACXZ,eAIZ/3B,WAAW,SACXiY,OAAO,MArBX,eAsBa0gB,EAtBb,MAwBA,kBAAC,KAAD,CAAM5J,IAAI,aAAaC,SAAU5iB,GAC5BspB,IACD,kBAAC,IAAD,CAAOl1B,MAAO,CAAE0e,aAAc,GAAK2I,YAAY,SAAS1W,SACnDxU,IACGgC,EAAU,CACNZ,KAAM88B,GAAsBC,OAC5BvgC,KAAM,CAAE6/B,YAAaz9B,EAAEshB,OAAOlb,YAI1C,kBAAC,GAAD,CACAmuB,aAAgBA,EAChBkE,SAAUoF,GAAcjM,EACxBsB,SAAQ,uCACJ,WAAOG,GAAP,SAAA11B,EAAA,sDACIqE,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAAE6R,SAAS,KAErBzN,EAAU,CACNZ,KAAM88B,GAAsB3B,KAC5B3+B,KAAM,CAAEu/B,OAAQ9J,EAAK5vB,IAAK4vB,OAAM5jB,SAAS,KAPjD,2CADI,sDAWNypB,aAAa,QAAQF,SAAWzE,IAC9BvyB,EAAU,CACNZ,KAAK,WACLxD,KAAM,CAAC22B,mBAEZnZ,cAAe,CAAC3F,EAAK4d,KACfA,EAAKlB,SAGVnwB,EAAU,CACNZ,KAAM88B,GAAsB1B,KAC5B5+B,KAAM,CACFo+B,UAAW3I,EAAK5vB,IAChB23B,cAGRp5B,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACFi/B,SAAS,OAGlBjG,aAAc,EAAE9b,QAAMuY,WACjBA,EAAKlB,QACL2G,EAAe,CAAChe,QAAMuY,c,MCpItC3Q,GAAYC,KAAZD,QACO,MAAM+b,WAAiBh9B,YAClCkI,YAAY/H,GACRkM,MAAMlM,GACNqH,KAAKmyB,SAAWx5B,EAAMmR,OACtB9J,KAAK9H,MAAQ,CACTu9B,mBAAej8B,GAKvBuQ,SACI,OAAO,gBAAC,KAAD,CAAMmQ,iBAAiB,IAAIC,WAAa3f,IAC/B,MAARA,GACIwF,KAAKqwB,kBACLrwB,KAAKqwB,iBAAiB5nB,SAGlB,MAARjO,GACIwF,KAAKswB,mBACLtwB,KAAKswB,kBAAkB7nB,WAI/B,gBAAC,GAAD,CAAS2R,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,mBAAqBR,IAAI,KACxD,uBAAK4C,UAAU,gBACX,gBAAC02B,GAAD,CAAgBrrB,OAAQzI,KAAK9H,MAAMu9B,cAAetD,SAAUnyB,KAAKmyB,aAIzE,gBAAC,GAAD,CAAS/X,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,SAAWR,IAAI,KAC9C,uBAAK4C,UAAU,gBACX,gBAACm4B,GAAD,QAIR,gBAAC,GAAD,CAASnb,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,eAAiBR,IAAI,KACpD,uBAAK4C,UAAU,gBACX,gBAAC,GAAD,CAAgB6M,IAAMC,GAAOlK,KAAKqwB,iBAAmBnmB,EAAIJ,OAAQ9J,SAGzE,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,gBAAkBR,IAAI,KACrD,uBAAK4C,UAAU,gBACX,gBAAC,GAAD,CAAiB6M,IAAMC,GAAOlK,KAAKswB,kBAAoBpmB,EAAIJ,OAAQ9J,WCjDxElC,EAAQ,KAAvB,MACa43B,GAAcrE,GAAe,cAAcA,EAAY,eAAD,iCAE/De,WAF+D,uCAElD,WAAOvkB,EAAQkkB,EAAIjJ,EAAOyJ,GAA1B,SAAA79B,EAAA,6DACT,EAAKu9B,UAAUpkB,EAAQkkB,EAAIjJ,EAAOyJ,GADzB,kBAEF,GAFE,2CAFkD,iEAM/DN,UAN+D,uCAMnD,WAAOpkB,EAAQkkB,EAAIjJ,EAAOyJ,GAA1B,+BAAA79B,EAAA,yDACJ8Q,EAAY8Z,GAAMC,mBAElBoW,EAHI,UAGU5D,EAHV,KAKHA,IACD4D,EAAW,IAGX13B,EATI,wBASmB03B,GATnB,OAS8B7M,EAT9B,eAS0CtjB,EAT1C,KAUO,UAAXqI,IACA5P,EAAG,sBAAmB8zB,EAAnB,YAAyBjJ,EAAzB,gBAAuCtjB,EAAvC,MAGQ,SAAXqI,EAdI,iCAeczI,GAAcwwB,UAAU9M,GAftC,OAeEnzB,EAfF,OAgBEigC,EAAYjgC,EAAIG,QAElBmI,EADqB,IAArB23B,EAAUh6B,OACP,uCAAoCg6B,EAAUpwB,UAA9C,iBAAiEowB,EAAUpwB,UAA3E,4CACaowB,EAAUpwB,UADvB,eACuCA,EADvC,KAGA,UAAMowB,EAAU9/B,QAAhB,4CACa8/B,EAAUpwB,UADvB,eACuCA,EADvC,KArBH,cA0BO,SAAXqI,IACIgoB,EAAa,SACbtD,EACAsD,GAA0B3zB,OAAOmP,KAAKkhB,GAASnpB,IAAImZ,IAC/C,MAAMhC,EAAIgS,EAAQhQ,GAClB,MAAM,GAAN,OAAUA,EAAE/C,QAAQ,aAAc,KAAlC,eAA6Ce,EAA7C,SACDxd,KAAK,SACL8yB,EAAa,GAEpB53B,EAAG,eAAW8zB,EAAX,aAAmBjJ,EAAnB,aAA8B+M,EAA9B,gBAAgDrwB,EAAhD,MAGP,EAAKswB,KAAKjzB,KAAK,CAAE2C,YAAWvH,QAC5B,EAAKlG,SAAS,CAACg+B,cAAa,IAvCpB,UAwCU,EAAKlhC,OAAOyM,UAC1BrD,EACAqhB,GAAMG,aACNH,GAAMY,mBA3CF,WAwCFvqB,EAxCE,OA4CR,EAAKoC,SAAS,CAACg+B,cAAa,IACT,MAAfpgC,EAAIiG,OA7CA,wBA8CJ,EAAKo6B,cAAL,uBAAmCxwB,EAAnC,aAAiD7P,EAAIG,UA9CjD,6BAiDiBH,EAAIG,QAArBmgC,EAjDA,EAiDAA,OAAQthC,EAjDR,EAiDQA,KAChB,EAAKuhC,gBAAgB,GAAI,GAAI1wB,EAAWywB,EAAQthC,GAChD,EAAKi+B,UAAYtT,GAAMG,aACvB,EAAK1nB,SAAS,CAAE66B,UAAU,EAAKA,YApDvB,4CANmD,iEA6D/DsD,gBAAkB,CAACroB,EAAQkkB,EAAIjJ,EAAOmN,EAAQthC,KAC1CqL,KAAK8xB,aAAe,CAAEjkB,SAAQkkB,KAAIjJ,QAAOmN,SAAQthC,QACjDqL,KAAKm2B,cAAcxhC,EAAKshC,MChEnBG,GAAmB/E,GAAe,cAAcA,EAAY,eAAD,iCACrEgF,kBAAoB,IACVr2B,KAAK81B,KAAK91B,KAAK81B,KAAK3sB,OAAS,GAF8B,KAKrEmtB,SALqE,uCAK1D,WAAOv1B,GAAP,uBAAArM,EAAA,2DACJ,EAAKohC,KAAK3sB,OAAS,GADf,uBAEL,EAAK6sB,cAAc,yBAFd,iCAKY,EAAKF,KAAKrU,MACxBqQ,EAAe,EAAKgE,KAAKrU,MANvB,SAOU,EAAK5sB,OAAOwB,IAAIrB,UAAauhC,UAAW,CAAElhC,KAAMy8B,EAAatsB,YAPvE,UAQW,OADb7P,EAPE,QAQAiG,OARA,0BASoBrF,KAAKO,MAAMnB,EAAIG,QAAQmT,UAAxCtU,EATH,EASGA,KAAMshC,EATT,EASSA,OATT,UAUC,EAAKO,MAAL,2BAAgB1E,GAAhB,IAA8B2E,MAAO9hC,EAAM+hC,QAAST,KAVrD,iDAaC,EAAKO,MAAM1E,GAbZ,4CAL0D,2DAuBrE6E,qBAvBqE,uCAuB9C,WAAO14B,EAAI8C,GAAX,iBAAArM,EAAA,6DACdod,EAAO,EAAKgkB,KAAK1sB,IAAIC,GAAQA,EAAKpL,KAAK8E,KAAK,IAD9B,SAEF,EAAKlO,OAAOyM,UAAZ,UACZwQ,EADY,uBAEZ7T,GACHqhB,GAAMG,aAHS,2BAIVH,GAAMY,mBAAsBnf,IANhB,cAEdpL,EAFc,yBAObA,GAPa,2CAvB8C,6DAoCrE6gC,MApCqE,uCAoC7D,WAAOz1B,GAAP,6BAAArM,EAAA,yDACG8Q,EAAmCzE,EAAnCyE,UAAmCzE,EAAxB9C,IAAKw4B,EAAmB11B,EAAnB01B,MAAOC,EAAY31B,EAAZ21B,QAC/B,EAAKZ,KAAKjzB,KAAK9B,IAEX01B,IAASC,EAJR,uBAKF,EAAKR,gBAAgB,GAAI,GAAI1wB,EAAWkxB,EAASD,GAL/C,kBAMK,KANL,cASC3kB,EAAO,EAAKgkB,KAAK1sB,IAAIC,GAAQA,EAAKpL,KAAK8E,KAAK,IAT7C,kBAWgB,EAAKlO,OAAOyM,UAAUwQ,EAAMwN,GAAMG,aAAlC,2BACZH,GAAMY,mBADM,IAEf1hB,UAAW,iCACXo4B,6BAA8BpxB,EAC9BqxB,sBAAuBtgC,KAAKC,UAAU,EAAKs/B,SAf5C,UAiBiB,OANbngC,EAXJ,QAiBMiG,OAjBN,wBAkBC,EAAKk6B,KAAKrU,MACV,EAAKuU,cAAcrgC,EAAIG,SAnBxB,kBAoBQ,KApBR,iBAsBuBH,EAAIG,QAArBnB,EAtBN,EAsBMA,KAAMshC,EAtBZ,EAsBYA,OACd,EAAKC,gBAAgB,GAAI,GAAI1wB,EAAWywB,EAAQthC,GAvB9C,kBAwBK,KAxBL,yCA0BF,EAAKqhC,cAAc,oCA1BjB,kBA2BK,KA3BL,0DApC6D,2DAmErEc,KAnEqE,uCAmE9D,WAAOtxB,EAAWuxB,GAAlB,yBAAAriC,EAAA,yDACqB,IAArB,EAAKohC,KAAK3sB,OADV,uBAED,EAAK6sB,cAAc,2CAFlB,kBAGM,KAHN,UAKE/3B,EALF,wBAKyB,EAAKo4B,oBAAoB7wB,UALlD,eAKkEA,EALlE,KAMJ,EAAKswB,KAAKjzB,KAAK,CAAE2C,YAAWvH,QACtB+4B,EAAW,EAAKlB,KAAK1sB,IAAIC,GAAQA,EAAKpL,KAAK8E,KAAK,MAEhDk0B,EAAiB3X,GAAMG,aACzByX,EAAc,CAAEt7B,OAAQ,IACxBm7B,EAXA,wBAYKI,EAZL,UAYqBH,EAZrB,qCAagBxxB,EAbhB,uCAayDA,EAbzD,gBAeK,EAAK3Q,OAAOyM,UAAU61B,EAAYF,EAAgB,CACrDA,iBACA50B,OAAO,IAjBT,QAmBD60B,EAAc,CAAEz1B,QAASw1B,EAAgBr7B,OAAQ,GAnBhD,yBAsBc,EAAK/G,OAAOE,KAAKC,UAAaoiC,cAAel1B,OAAOC,OAAO,CAC1EqD,YACAvH,IAAK+4B,EACLpE,UAAW,EAAKA,UAChBqD,OAAQ1/B,KAAKC,UAAU,EAAKs7B,aAAamE,SACzCiB,IA3BC,eAsBEvhC,EAtBF,yBA6BGA,EAAIiG,QA7BP,4CAnE8D,0D,0CCCpDtD,IAAZD,QACO,MAAMg/B,WAAoB7+B,YACrCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAMnB+P,MAAQ,KACJ1I,KAAKjI,SAAS,CAAEu/B,cAAc,IAC9Bt3B,KAAKmyB,SAASp6B,SAAS,CAACw/B,cAAa,KARtB,KAUnB1uB,KAAO,KACH7I,KAAKjI,SAAS,CAAEu/B,cAAc,IAC9Bt3B,KAAKmyB,SAASp6B,SAAS,CAACw/B,cAAa,KAZtB,KAenBC,gBAAkB,KAChBx3B,KAAKy3B,UAhBY,KAmBnBA,OAAS,KACLz3B,KAAKjI,SAAS,CAAE2/B,aAAc13B,KAAK9H,MAAMw/B,eApB1B,KAuBnBC,iBAAmB,OAvBA,KAwBnBC,aAAe,OAtBX53B,KAAKrH,MAAQA,EACbqH,KAAK9H,MAAQ,CAAEo/B,cAAc,EAAMI,aAAY,GAC/C13B,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAsBjCpoB,SACI,OAAO,uBAAKnP,MAAOoF,KAAKrH,MAAMiC,MAAOwC,UAAW4C,KAAKrH,MAAMyE,WAAa,WACpE,gBAAC,KAAD,CAAOrD,MAAO,OACVC,QAASgG,KAAK9H,MAAMw/B,YACpBz9B,SAAU+F,KAAKy3B,OACfv9B,KAAM8F,KAAKrH,MAAMk/B,OACjBz9B,WAAW,SACXoR,MAAM,MACN6G,OAAO,MACP,gBAAC,IAAD,CAAMjV,UAAU,cACZ,gBAAC,IAAKzC,KAAN,KAAW,gBAAC,IAAD,CAAOqnB,YAAY,YAAYzW,SAAUvL,KAAKrH,MAAMg/B,kBAAoB33B,KAAK23B,iBAAkB1V,YAAY,MACtH,gBAAC,IAAKtnB,KAAN,CAAW4C,MAAM,mCAAkC,gBAAC,KAAD,CAAQgO,SAAUvL,KAAKrH,MAAMi/B,cAAgB53B,KAAK43B,kBAG7G,uBAAKx6B,UAAU,cAAa,gBAAC,IAAD,CAAQoJ,QAASxG,KAAK9H,MAAMo/B,aAAc/8B,QAASyF,KAAKrH,MAAMm/B,QAAS3/B,KAAK,WAA5E,UAC5B,uBAAKiF,UAAU,cAAa,gBAAC,IAAD,CAAQ26B,SAAU/3B,KAAK9H,MAAMo/B,aAAc/8B,QAASyF,KAAKy3B,OAAQt/B,KAAK,WAAtE,YAC5B,uBAAKiF,UAAU,cAAa,gBAAC,IAAD,CAAQ26B,SAAU/3B,KAAK9H,MAAMo/B,aAAc/8B,QAASyF,KAAKrH,MAAMq/B,YAA/D,eChDjC,MAAMC,GAAmB5G,GAAe,cAAcA,EAAY,eAAD,iCACpEwG,OADoE,sBAC3D,sBAAAnjC,EAAA,sEACgB,EAAKy9B,SAAS2E,KAAK,EAAKoB,iBAAiB,EAAKC,gBAD9D,OAEO,MAFP,SAGD,EAAKhG,SAASiG,wBACd,EAAKjG,SAASkG,wBAJb,2CAD2D,KASnEL,WATmE,sBAStD,sBAAAtjC,EAAA,6DACZ,EAAK4jC,eAAe5vB,QADR,SAES,EAAKypB,SAASmE,WAFvB,OAGA,MAHA,SAIR,EAAKnE,SAASiG,wBACd,EAAKjG,SAASkG,wBAElB,EAAKC,eAAezvB,OAPR,2CATsD,KAmBnE8uB,iBAAoBnyB,IACjBxF,KAAKk4B,iBAAmB1yB,EAAU6S,OAAOlb,OApBuB,KAsBnEy6B,aAActS,IACXtlB,KAAKm4B,eAAiB7S,K,aCpBtB7Z,GAAWC,KAAXD,OACO,MAAM8sB,WAAwB//B,YACzCkI,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YAWnB8P,OAXmB,sBAWV,8BAAA/T,EAAA,6DACC8jC,EAAqB,EAAKC,YAAYC,SAAS5G,aAAamE,OAD7D,SAEmB7wB,GAAcwwB,UAAU,EAAK+C,WAFhD,OAGoB,OADnBA,EAFD,QAGS/8B,QACV,EAAK7D,SAAS,CACV6gC,mBAAoBJ,EAAmBK,OACvCC,gBAAiBviC,KAAKO,MAAM6hC,EAAU7iC,QAAQijC,aAAaF,SAN9D,2CAXU,KAqBnBpuB,kBArBmB,sBAqBC,sBAAA/V,EAAA,sEACV,EAAK+T,SADK,2CArBD,KAyBnBuwB,KAAQ17B,IACJ0C,KAAKy4B,YAAYC,SAAWx2B,OAAOC,OAAOnC,KAAKy4B,YAAYC,SAAUp7B,GACrE0C,KAAKy4B,YAAYO,QA3BF,KA6BnBjvB,OAAS,IACE,gBAAC,IAAD,CAAM3M,UAAU,aAAaC,SAAU2C,KAAKg5B,MAC/C,gBAAC,IAAKr+B,KAAN,CAAWtF,KAAK,YAAYmI,MAAO,CAAC,CAAEC,UAAU,EAAMb,QAAS,oCAC3D,gBAAC,KAAD,CACIW,MAAM,gBACNolB,YAAU,EACV/nB,MAAO,CAAE4Q,MAAO,KAChByW,YAAajiB,KAAK8xB,aAClBlP,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAClBA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GAGvEhjB,KAAK9H,MAAM0gC,mBAAmBxvB,IAAIC,GACxB,gBAAC,GAAD,CAAQ7O,IAAK6O,EAAKhU,KAAM8H,MAAOkM,EAAKhU,MAAOgU,EAAKhU,SAInE,gBAAC,IAAKsF,KAAN,CAAWtF,KAAK,aAAamI,MAAO,CAAC,CAAEC,UAAU,EAAMb,QAAS,oCAC5D,gBAAC,KAAD,CACIW,MAAM,aACNolB,YAAU,EACV/nB,MAAO,CAAE4Q,MAAO,KAChByW,YAAajiB,KAAK24B,UAClB/V,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAClBA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GAGvEhjB,KAAK9H,MAAM4gC,gBAAgB1vB,IAAIC,GACrB,gBAAC,GAAD,CAAQ7O,IAAK6O,EAAKhU,KAAM8H,MAAOkM,EAAKhU,MAAOgU,EAAKhU,SAInE,gBAAC,IAAKsF,KAAN,KACI,gBAAC,IAAD,CAAQxC,KAAK,UAAUwF,SAAS,UAAhC,UA9DRqC,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAKy4B,YAAc9/B,EAAMmR,OACzB9J,KAAK8xB,aAAe9xB,KAAKy4B,YAAYC,SAAS5G,aAAahJ,MAC3D9oB,KAAK24B,UAAY34B,KAAKy4B,YAAYC,SAASC,UAC3C34B,KAAK9H,MAAQ,CACT0gC,mBAAoB,GACpBE,gBAAiB,K,eCXd,MAAMG,WAAqBzgC,YACxCkI,YAAY/H,GACVkM,MAAMlM,GADW,KA0BnBkqB,aAAe,CAACqW,EAAYnW,IAAWA,EAAOhpB,MAAMwnB,QAAQ2X,IAAe,EA1BxD,KA4BnBC,aAAeC,IACbp5B,KAAKjI,SAAS,CAAEqhC,eACbp5B,KAAKrH,MAAMwgC,cACZn5B,KAAKrH,MAAMwgC,aAAa,CAAEC,gBA/BX,KAmCnBC,gBAAkB,IACTr5B,KAAK9H,MAAMkhC,YAAc,GAlChCp5B,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAK9H,MAAQ8H,KAAKmB,IAAIxI,GAIxBwI,IAAIxI,GASF,MAAO,CAAChE,KARagE,EAAM2gC,aAAalwB,IAAIC,IACnC,CACLtP,MAAMsP,EAAKhU,KACXmF,IAAK6O,EAAKhU,QAKD+jC,WAFM,IAKrBG,mBAAmBC,GAEbx5B,KAAKrH,MAAM2gC,eAAiBE,EAAUF,cACtCt5B,KAAKjI,SAAL,eAAkBiI,KAAKmB,IAAInB,KAAKrH,SAkBtCoR,SACE,OAAO,gBAAC,KAAD,CACPqI,WAAYpS,KAAK9H,MAAMvD,KACvBguB,YAAU,EACVE,aAAc7iB,KAAK6iB,aACnBuW,WAAYp5B,KAAK9H,MAAMkhC,WACvB7tB,SAAUvL,KAAKm5B,aAEfpvB,OAAQV,GAAQA,EAAKtP,SC9CV,MAAM0/B,WAA6BjhC,YAC9CkI,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YAYnB8P,OAZmB,sBAYV,8BAAA/T,EAAA,6DACC8jC,EAAqB,EAAKC,YAAYC,SAAS5G,aAAamE,OAD7D,SAEmB7wB,GAAcwwB,UAAU,EAAK+C,WAFhD,OAGoB,OADnBA,EAFD,QAGS/8B,QACV,EAAK7D,SAAS,CACV6gC,mBAAoBJ,EAAmBK,OACvCC,gBAAiBviC,KAAKO,MAAM6hC,EAAU7iC,QAAQijC,aAAaF,SAN9D,2CAZU,KAuBnBpuB,kBAvBmB,sBAuBC,sBAAA/V,EAAA,sEACV,EAAK+T,SADK,2CAvBD,KA2BnBixB,WAAcN,IACVp5B,KAAKy4B,YAAYC,SAAWx2B,OAAOC,OAAOnC,KAAKy4B,YAAYC,SAAU,CACjEiB,kBAAmBP,EAAWA,cA7BnB,KAiCnBQ,YAAeR,IACXp5B,KAAKy4B,YAAYC,SAAWx2B,OAAOC,OAAOnC,KAAKy4B,YAAYC,SAAU,CACjEmB,mBAAmBT,EAAWA,cAnCnB,KAuCnBU,MAAQ,KACJ95B,KAAKy4B,YAAY3uB,OAAOrB,UAxCT,KA2CnBsB,OAAS,IACE,gBAAC,IAAD,CAAO9S,SAAW,CAAEE,KAAM,IAC7B,gBAAC,IAAKwD,KAAN,CAAWtF,KAAK,oBAAoBkI,MAAM,gBAC1C,gBAAC,GAAD,CAAc47B,aAAcn5B,KAAK05B,WAAYJ,aAAct5B,KAAK9H,MAAM0gC,mBAAoB3uB,IAAMC,GAAOlK,KAAK25B,kBAAoBzvB,EAAIJ,OAAQ9J,QAG5I,gBAAC,IAAKrF,KAAN,CAAWtF,KAAK,qBAAqBkI,MAAOyC,KAAK24B,UAAU,IAC3D,gBAAC,GAAD,CAAeQ,aAAcn5B,KAAK45B,YAAcN,aAAct5B,KAAK9H,MAAM4gC,gBAAiB7uB,IAAMC,GAAOlK,KAAK65B,mBAAqB3vB,EAAIJ,OAAQ9J,QAG7I,gBAAC,IAAKrF,KAAN,KACA,gBAAC,IAAKA,KAAN,SAAY,gBAAC,IAAD,CAAQo/B,QAAM,GAAd,YApDhB/5B,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAKy4B,YAAc9/B,EAAMmR,OACzB9J,KAAK8xB,aAAe9xB,KAAKy4B,YAAYC,SAAS5G,aAAahJ,MAC3D9oB,KAAK24B,UAAY34B,KAAKy4B,YAAYC,SAASC,UAC3C34B,KAAK9H,MAAQ,CACT0gC,mBAAmB,GACnBE,gBAAgB,K,MCVpBrtB,GAAWC,KAAXD,OACO,MAAMuuB,WAAwBxhC,YACzCkI,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YASnB8P,OATmB,sBASV,8BAAA/T,EAAA,sEACa0Q,GAAcutB,mBAD3B,OACCh9B,EADD,OAED0+B,EAAS,GACM,MAAf1+B,EAAIiG,SACJy4B,EAAS1+B,EAAIG,QAAQsT,IAAIC,IACd,CACHhU,KAAMgU,EAAK7D,UACXrI,MAAOkM,EAAK7D,cAIxB,EAAKzN,SAAS,CAAEs8B,WAXX,2CATU,KAuBnB5pB,kBAvBmB,sBAuBC,sBAAA/V,EAAA,sEACV,EAAK+T,SADK,2CAvBD,KA2BnBuwB,KAAQ17B,IAEJ0C,KAAKy4B,YAAYC,SAAWx2B,OAAOC,OAAOnC,KAAKy4B,YAAYC,SAASp7B,GACpE0C,KAAKy4B,YAAYO,QA9BF,KAkCnBjvB,OAAS,IACG,gBAAC,IAAD,CAAM3M,UAAU,aAAaC,SAAU2C,KAAKg5B,MAChD,gBAAC,IAAKr+B,KAAN,CAAWtF,KAAK,WAAWmI,MAAO,CAAC,CAAEC,UAAU,EAAMb,QAAS,8BAC1D,gBAAC,KAAD,CACI+lB,YAAU,EACV/nB,MAAO,CAAE4Q,MAAO,KAChByW,YAAY,mBACZW,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAClBA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GAGxE,gBAAC,GAAD,CAAQxoB,IAAI,QAAQ2C,MAAM,cAA1B,cACA,gBAAC,GAAD,CAAQ3C,IAAI,OAAO2C,MAAM,aAAzB,aACA,gBAAC,GAAD,CAAQ3C,IAAI,QAAQ2C,MAAM,cAA1B,cACA,gBAAC,GAAD,CAAQ3C,IAAI,OAAO2C,MAAM,aAAzB,eAIR,gBAAC,IAAKxC,KAAN,CAAWtF,KAAK,YAAYmI,MAAO,CAAC,CAAEC,UAAU,EAAMb,QAAS,+BAC3D,gBAAC,KAAD,CACI+lB,YAAU,EACV/nB,MAAO,CAAE4Q,MAAO,KAChByW,YAAY,oBACZW,iBAAiB,WACjBC,aAAc,CAACC,EAAOC,IAClBA,EAAOpqB,MAAMqnB,SAASgD,cAAczB,QAAQuB,EAAME,gBAAkB,GAGvEhjB,KAAK9H,MAAMm8B,OAAOjrB,IAAKC,GACb,gBAAC,GAAD,CAAQ7O,IAAK6O,EAAKhU,KAAM8H,MAAOkM,EAAKlM,OAAQkM,EAAKhU,SAKpE,gBAAC,IAAKsF,KAAN,KACI,gBAAC,IAAD,CAAQxC,KAAK,UAAUwF,SAAS,UAAhC,UApERqC,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAKy4B,YAAc9/B,EAAMmR,OACzB9J,KAAK9H,MAAQ,CACTm8B,OAAQ,K,2OCGZ4F,GAASC,KAATD,KACFE,GAAc39B,KAAOC,IAAV,MAUjB,MAAM29B,WAAoB1I,GAAIl5B,aAAiB84B,KAC3C2G,KAEAv3B,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YAanBm/B,QAbmB,sBAaT,8DAAApjC,EAAA,yDACAs9B,EAAmB,EAAKG,SAASL,aAAahJ,MAD9C,EAEwF,EAAK4P,SAA3FC,EAFF,EAEEA,UAAW0B,EAFb,EAEaA,SAAUC,EAFvB,EAEuBA,UAAWC,EAFlC,EAEkCA,WAAYZ,EAF9C,EAE8CA,kBAAmBE,EAFjE,EAEiEA,mBAEnEF,GAAsBE,EAJpB,uBAKF,EAAK1H,SAAS6D,cAAc,4BAL1B,iCASN,EAAKsC,eAAe5vB,QATd,SAUiBtD,GAAcwwB,UAAU+C,GAVzC,cAUA6B,EAVA,OAWAC,EAAgBD,EAAS1kC,QACzB4kC,EAAuBf,GAAqBA,EAAkBvwB,IAAIC,GAAI,UAAO2oB,EAAP,aAA6B3oB,EAA7B,MAAuCtG,KAAK,KAClH43B,EAAwBd,GAAsBA,EAAmBzwB,IAAIC,GAAI,UAAOsvB,EAAP,aAAsBtvB,EAAtB,MAAgCtG,KAAK,KAE9G63B,EAfA,UAekB5I,EAflB,aAewCsI,EAfxC,KAgBAO,EAhBA,UAgBmBlC,EAhBnB,aAgBkC4B,EAhBlC,KAkBAO,EAlBA,UAkBaT,EAlBb,YAkByB1B,EAlBzB,eAkByCiC,EAlBzC,cAkB2DC,GAG7DE,EAAa,GACbL,GAAwBC,IACxBI,EAAaL,EAAuB,IAAMC,GAG1CD,IAAyBC,IACzBI,EAAaL,IAGZA,GAAwBC,IACzBI,EAAaJ,GAGXn1B,EAAY8Z,GAAMC,mBAElBthB,EApCA,UAoCSw8B,EAAc3kC,QApCvB,sBAoC4CilC,EApC5C,iBAoC+D/I,EApC/D,YAoCmF8I,EApCnF,eAoCiGt1B,EApCjG,KAqCNhG,QAAQC,IAAIxB,GArCN,UAsCA,EAAKk0B,SAASqE,MAAM,CAAEhxB,YAAWvH,QAtCjC,QAuCN,EAAKq6B,eAAezvB,OACpB,EAAKspB,SAASiG,wBAxCR,4CAbS,KAwDnBY,KAAO,KACHh5B,KAAKjI,SAAS,CAAEijC,YAAah7B,KAAK9H,MAAM8iC,YAAc,KAzDvC,KA2DnBC,QAAU,KACNj7B,KAAKjI,SAAS,CAAEijC,YAAah7B,KAAK9H,MAAM8iC,YAAc,KA1DtDh7B,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAK04B,SAAW,CAAE5G,aAAc9xB,KAAKmyB,SAASL,cAC9C9xB,KAAK9H,MAAQ,CACT8iC,YAAa,EACbE,MAAO,CACH,gBAAC,GAAD,CAAiBpxB,OAAQ9J,OACzB,gBAAC,GAAD,CAAiB8J,OAAQ9J,OACzB,gBAAC,GAAD,CAAqB8J,OAAQ9J,SAsDzC+J,SACI,OAAO,uBAAK3M,UAAU,YAClB,uBAAKA,UAAW,gBACZ,gBAAC,GAAD,CAAa0M,OAAQ9J,KAAMg4B,WAAYh4B,KAAKg4B,WACxCL,iBAAkB33B,KAAK23B,iBAAkB1tB,IAAMC,GAAOlK,KAAKs4B,eAAiBpuB,EAC5E2tB,OAAQ73B,KAAK63B,OACbC,QAAS93B,KAAK83B,QACdl9B,MAAO,CAAE0e,aAAc,WAE/B,2BACI,gBAAC,KAAD,CAAOngB,QAAS6G,KAAK9H,MAAM8iC,aACvB,gBAACf,GAAD,CAAMz/B,IAAK,EAAGT,MAAM,QAAQO,YAAY,kDACxC,gBAAC2/B,GAAD,CAAMz/B,IAAK,EAAGT,MAAM,kBAAkBO,YAAY,6CAClD,gBAAC2/B,GAAD,CAAMz/B,IAAK,EAAGT,MAAM,SAASO,YAAY,kDAGjD,uBAAK8C,UAAU,iBAAf,IAAgC,gBAAC+8B,GAAD,KAC3Bn6B,KAAK9H,MAAMgjC,MAAMl7B,KAAK9H,MAAM8iC,iBAM7BZ,UC9GhB,MAAMtpB,GAAgBhT,EAAQ,KAEf,MAAMq9B,WAAsB3iC,YACvCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAQnBqY,UAAY,CAACC,EAAWtc,KAEpB,MAAMwI,EAAQxI,EAAK,GAAGsc,EAAUzW,KAEhC,GAAIwF,KAAKkR,QAAUlR,KAAKkR,OAAL,OACfhP,OAAOmP,KAAKrR,KAAKkR,QAAQ9H,IAAImZ,IACzB,MAAMhC,EAAIvgB,KAAKkR,OAAOqR,GAAGtR,EAAUzW,KAChC+lB,IACCtP,EAAUsR,GAAKhC,SAJ3B,CAUA,IACI,GAAI/nB,YAAgB2Y,cAAchU,EAAMhF,MAEpC,YADA8Y,EAAS,OAAa9T,GAAS,4BAAOA,IAI9C,MAAOpG,IAGc,QAAjBka,EAAUzW,IAKS,kBAAX2C,EAIW,iBAAXA,EAIW,mBAAXA,EAIS,cAAjB8T,EAAUzW,KAAwC,WAAjByW,EAAUzW,KAAqC,QAAjByW,EAAUzW,MACzEyW,EAAS,OAAa9T,GAAS,2BAAMA,EAAMkE,aAJ3C4P,EAAS,OAAa9T,GAAS,4BAAOA,EAAMkE,YAJ5C4P,EAAS,OAAa9T,GAAS,4BAAOA,EAAM4F,KAAK,KAAKqO,UAAU,EAAG,MAJnEH,EAAS,OAAa9T,GAAS,4BAAO5G,KAAKC,UAAU2G,GAAOiU,UAAU,EAAG,MALzEH,EAAS,OAAa9T,GAAS,2BAAMA,EAAMiU,UAAU,EAAE,QAhC5C,KAwDnB1J,OAAS,CAAC/S,EAAMuc,KAEZlR,KAAKkR,OAAOA,EACZ,IAAIG,EAAO,GACPC,EAAS,GACTC,EAAO,GACX,MAAM7P,EAAO1B,KAEbrL,EAAKgc,SAAQ,SAAUtH,GACnB,IAAK,IAAI7O,KAAO6O,EACZ,IAAKiI,EAAO9W,GAAM,CACd,MAAMyW,EAAY,CACdlX,MAAOS,EACPgX,UAAWhX,EACXA,IAAKA,GAETkH,EAAKsP,UAAUC,EAAWtc,GAC1B0c,EAAKxO,KAAKoO,GACVK,EAAO9W,IAAO,MAM1B7F,EAAKgc,SAAQ,SAAUtH,EAAMoI,GACzB,IAAIC,EAAW,GACfL,EAAKV,SAAQ,SAAUnW,GACnBkX,EAASlX,EAAIA,KAAO6O,EAAK7O,EAAIA,QAEjCkX,EAAQ,IAAUD,EAClBF,EAAK1O,KAAK6O,MAGd1R,KAAKjI,SAAS,CAAC4Z,QAASN,EAAM1c,KAAM4c,KAzFrB,KA4FnBK,eAAiB,CAACvN,EAAKoN,EAAOI,KACT,gBAAbxN,EAAIhP,MAAuC,QAAbgP,EAAIhP,MAClC2K,KAAKjI,SAAS,CACV+Z,KAAM,CACFC,SAAS,EACTjc,QAASuO,EAAIlH,UAjGV,KAuGnB6U,eAAiB,KACbhS,KAAKjI,SAAS,CACV+Z,KAAM,CACFC,SAAS,MAxGjB/R,KAAKiS,WAAatZ,EAAMiC,OAAS,GACjCoF,KAAK9H,MAAQ,CAACyZ,QAAS,GAAIJ,KAAM,GAAIO,KAAM,CAACC,SAAS,IACrD/R,KAAKkR,OAAS,GACdlR,KAAKmyB,SAAWx5B,EAAMmR,OA0G1BC,SAEI,OAAQ,uBAAKnP,MAAOoF,KAAKiS,YACjB,gBAAC,KAAD,CACIuB,KAAM,UACN7B,QAAS3R,KAAK9H,MAAMyZ,QACpBS,WAAYpS,KAAK9H,MAAMvD,KACvBw5B,OAAU,CAACzZ,GAAE,KAEjB,gBAAC,KAAD,CACI3a,MAAO,OACPC,QAASgG,KAAK9H,MAAM4Z,KAAKC,QACzB9X,SAAU+F,KAAKgS,eACf9X,KAAM8F,KAAKgS,eACX5X,WAAW,SACXiY,OAAO,MAEP,gBAAC,GAAD,CAAeC,OAAQtS,KAAK9H,MAAM4Z,KAAKhc,SAAW,QCrI/D,MAAMslC,GAAgB/J,GAAe,cAAcA,EAAY,eAAD,iCACjEgK,mBAAqB,CAAC/V,EAASnN,KAC3B,MAAMmjB,EAAYnjB,EAAOM,MACrB6M,EACAtlB,KAAKu7B,cAAc14B,KAAKy4B,GAExBt7B,KAAKu7B,cAAgBv7B,KAAKu7B,cAAc1wB,OAAQxB,GACrCA,EAAKhU,OAASimC,IAPgC,KAWjEE,qBAAuB,CAACnmC,EAAKomC,KAC1Bz7B,KAAK07B,UAAU74B,KAAK,CAACxN,OAAKomC,aAZoC,KAcjE3D,QAdiE,sBAcvD,oCAAApjC,EAAA,6DACL,EAAK4jC,eAAe5vB,QACdlD,EAAY8Z,GAAMC,mBAEpBoc,EAAY,EAAKD,UAAUtyB,IAAIC,GAC1B,GAAN,OAAUA,EAAKhU,KAAf,gBAA4BgU,EAAKoyB,QAAjC,MAGCF,EAAgB,GAEY,IAA7B,EAAKA,cAAcpyB,SACnBoyB,EAAa,mBAAe,EAAKA,cAAcnyB,IAAIC,GAAM,IAAF,OAAOA,EAAP,MAAiBtG,KAAK,MAC7E44B,EAAY,EAAKJ,cAAcnyB,IAAIC,GAAM,IAAF,OAAOA,EAAP,MAAiBuyB,OAAOD,IAG5D19B,EAfD,iBAeiB09B,EAAU54B,KAAK,KAfhC,iBAe6C,EAAKovB,SAASkE,oBAAoB7wB,UAf/E,YAe4F+1B,EAf5F,eAegH/1B,EAfhH,cAgBgB,EAAK2sB,SAASqE,MAAM,CAAChxB,YAAUvH,QAhB/C,OAgBCrC,EAhBD,OAiBL,EAAK08B,eAAezvB,OACN,MAAXjN,GACA,EAAKu2B,SAASiG,wBAnBZ,8C,eCdK1sB,KAAXD,OAEO,MAAMowB,WAAiBrjC,YAClCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAInBowB,KAAQ+S,IACJ97B,KAAKjI,SAAS,CAAE+jC,UALD,KAQnBC,UAAY,IACD,gBAAC,KAAKphC,KAAN,CAAWH,IAAI,QAClB,gBAAC,KAAKG,KAAKqhC,KAAX,CAAgBjiC,MAAM,OAAOO,YAAa0F,KAAK9H,MAAM4jC,KAAKC,UAAU9tB,MAAMguB,SAV/D,KAenBC,YAAc,IACH,gBAAC,KAAKvhC,KAAN,CAAWH,IAAI,gBAClB,gBAAC,KAAKG,KAAKqhC,KAAX,CAAgBjiC,MAAM,eAAeO,YAAa0F,KAAK9H,MAAM4jC,KAAKI,YAAYjuB,MAAMguB,SAjBzE,KAsBnBE,WAAa,IACFn8B,KAAK9H,MAAM4jC,KAAK/6B,OAAOqI,IAAIC,GACvB,gBAAC,KAAK1O,KAAN,CAAWH,IAAK6O,EAAKhU,MACxB,gBAAC,KAAKsF,KAAKqhC,KAAX,CAAgBjiC,MAAOsP,EAAKhU,KAAMiF,YAAa+O,EAAK4E,MAAMguB,UAvBlEj8B,KAAK9H,MAAL,eAAiBS,GA6BrBoR,SACI,OAAI/J,KAAK9H,MAAM4jC,KACJ,gBAAC,KAAD,CACHtoB,KAAK,QACLyG,OAAQ,+CAAmBja,KAAK9H,MAAM4jC,KAAK3+B,MAAnC,WACRi/B,OAAQ,4BACRC,UAAQ,GAEPr8B,KAAK+7B,YACL/7B,KAAKk8B,cACLl8B,KAAKm8B,cAGH,6B,MC3CX1wB,GAAWC,KAAXD,OAEO,MAAM6wB,WAAyB9jC,YAC1CkI,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YAcnB4jC,aAdmB,uCAcJ,WAAMp/B,GAAN,iBAAAzI,EAAA,0DACPyI,EADO,gCAEWiI,GAAco3B,gBAFzB,OAED7mC,EAFC,OAGDhB,EAAOgB,EAAIG,QAAQsT,IAAKC,IACnB,CACHlM,MAAOkM,EAAK7O,IAAIsuB,MAChB5lB,KAAMmG,EAAK7O,IAAIsuB,MACfiT,UAAW1yB,EAAKsI,QAAQ,GACxBuqB,YAAa7yB,EAAKsI,QAAQ,GAC1B5Q,OAAQsI,EAAKsI,QAAQiL,MAAM,EAAGvT,EAAKsI,QAAQxI,WAGnD,EAAKpR,SAAS,CAAEpD,SAZT,sBAcP,EAAKoD,SAAS,CAAEpD,KAAM,KAdf,2CAdI,2DA+BnBwkC,aAAeh8B,IACX,MAAMs/B,EAAcz8B,KAAK9H,MAAMvD,KAAKkW,OAAOxB,GAAQA,EAAKlM,QAAUA,GAAO,GACzE6C,KAAKjI,SAAS,CAAE0kC,gBAChBz8B,KAAK08B,YAAY3T,KAAK0T,IAlCP,KAqCnBE,mBAAqBnwB,IACjBxM,KAAK48B,kBAAoBpwB,EAAI6L,OAAOlb,OAtCrB,KAyCnB0/B,aAAevX,IACXtlB,KAAK88B,cAAgBxX,GA1CN,KA6CnByX,cAAgBvwB,IACZxM,KAAKg9B,YAAcxwB,EAAI6L,OAAOlb,OA9Cf,KAiDnB8/B,YAAezwB,IACX,MAAMnX,EAAOmX,EAAI6L,OAAOuJ,aAAa,QACrC5hB,KAAKk9B,WAAW7nC,GAAQmX,EAAI6L,OAAOlb,OAnDpB,KAsDnBggC,WAAc9zB,IACVrJ,KAAKk9B,WAAW7zB,EAAKhU,MAAQ2K,KAAKo9B,aACR,QAAtB/zB,EAAK4E,MAAM1J,OACJvE,KAAKo9B,aACF,IA1DC,KA6DnBC,aAAe,KACX,GAAGr9B,KAAK48B,kBACJ,MAAO,CACHnkB,MAAMzY,KAAKo9B,aACXE,MAAMt9B,KAAK88B,cACXS,cAAev9B,KAAK48B,kBACpBY,WAAYx9B,KAAKg9B,aAGzB,MAAMj8B,EAAS,GACff,KAAK9H,MAAMukC,YAAY17B,OAAO4P,QAAQtH,IAClC,MAAMkX,EAAIvgB,KAAKk9B,WAAW7zB,EAAKhU,MAC3BkrB,IAC0B,QAAtBlX,EAAK4E,MAAM1J,OACXxD,EAAO8B,KAAKyc,GAAMgB,SAASC,IACL,UAAjBlX,EAAKwL,UAAwC,WAAjBxL,EAAKwL,SACtC9T,EAAO8B,KAAK0d,GAGZxf,EAAO8B,KAAP,WAAgB0d,EAAhB,SAMZ,MAAO,CAAC9H,MAFMzY,KAAKo9B,aAELE,MAD+C,QAA/Ct9B,KAAK9H,MAAMukC,YAAYV,UAAU9tB,MAAMwvB,IAChCF,cAAc,GAAD,OAAKv9B,KAAK9H,MAAMukC,YAAYt/B,MAA5B,YAAqC4D,EAAOgC,KAAK,KAAjD,KAA0Dy6B,WAAYx9B,KAAKg9B,cAtF9F,KAwFnBv0B,OAAS,KACLzI,KAAKjI,SAAS,CACVyC,IAAKkjC,KAAKC,SACVhpC,KAAM,GACNwI,WAAO3D,EACPokC,WAAW,EACXnB,iBAAajjC,IAEjBwG,KAAK69B,QAAU,IA9Ff79B,KAAK8J,OAASnR,EAAMmR,OACpB9J,KAAKo9B,aAAezkC,EAAMykC,aAC1Bp9B,KAAKk9B,WAAa,GAClBl9B,KAAK9H,MAAQ,CACTvD,KAAM,GACNwI,WAAO3D,EACPokC,WAAW,EACX9B,KAAM,GACNthC,IAAKkjC,KAAKC,UAyFlB5zB,SACI,MAAMwoB,EAAUvyB,KAAK9H,MAAMvD,KAAKyU,IAAI00B,GAAK,gBAAC,GAAD,CAAQtjC,IAAKsjC,EAAE3gC,OAAQ2gC,EAAE56B,OAClE,OAAO,gBAAC,IAAD,CAAM9F,UAAU,aAAa5C,IAAKwF,KAAK9H,MAAMsC,KAChD,gBAAC,IAAKG,KAAN,KACI,gBAAC,KAAD,CACIgoB,YAAU,EACVxlB,MAAO6C,KAAK9H,MAAMiF,MAClB8kB,YAAa,kBACb8b,0BAA0B,EAC1BC,WAAW,EACXpjC,MAAO,CAAE4Q,MAAO,SAChBqX,cAAc,EACdob,SAAUj+B,KAAKu8B,aACfhxB,SAAUvL,KAAKm5B,aACf+E,gBAAiB,sBAEhB3L,IAIT,gBAAC,IAAK53B,KAAN,KAAW,gBAAC,GAAD,CAAUsP,IAAMC,GAAOlK,KAAK08B,YAAcxyB,KAEjDlK,KAAK9H,MAAMukC,YAAcz8B,KAAK9H,MAAMukC,YAAY17B,OAAOqI,IAAIC,GAChD,gBAAC,IAAK1O,KAAN,CAAWH,IAAK6O,EAAKhU,MAAM,gBAAC,IAAD,CAAOA,KAAMgU,EAAKhU,KAAMkW,SAAUvL,KAAKi9B,YAAajb,YAAa3Y,EAAKhU,KAAM8oC,aAAcn+B,KAAKm9B,WAAW9zB,OAE3I,4BAET,gBAAC,IAAK1O,KAAN,KAAW,gBAAC,IAAD,CAAOqnB,YAAY,oBAAoBzW,SAAUvL,KAAK28B,mBAAoB1a,YAAY,MACjG,gBAAC,IAAKtnB,KAAN,CAAW4C,MAAM,mBAAkB,gBAAC,KAAD,CAASgO,SAAUvL,KAAK68B,gBAC3D,gBAAC,IAAKliC,KAAN,KAAW,gBAAC,IAAD,CAAOqnB,YAAY,gBAAgBzW,SAAUvL,KAAK+8B,cAAe9a,YAAY,QChIhF3pB,IAAZD,QAGO,MAAM+lC,WAAmB1M,GAAIl5B,aAAiB84B,KAAK2G,GAAgBmD,KAC9E16B,YAAY/H,GACRkM,MAAMlM,GADS,KASnB0lC,qBAAwBlmB,IACpBnY,KAAKo9B,aAAejlB,EAAOM,MAC3BzY,KAAKjI,SAAS,CAAE6lC,WAAW,KAXZ,KAcnBn1B,OAAS,KACL,MACM61B,EADSt+B,KAAKmyB,SAASL,aAAamE,OAAO4C,OAC3BzvB,IAAIC,IACf,CAAEoP,MAAOpP,EAAKhU,KAAMkpC,QAAS,GAAId,IAAK,MAE3CvsB,EAAS,CACXnH,OAAQ,CACJw0B,QAAS,CAACphC,EAAOgb,IACN,gBAAC,KAAD,CAAQ5M,SAAW+Z,GAAUtlB,KAAKq7B,mBAAmB/V,EAAQnN,GAASqmB,QAASrmB,IAE1FslB,IAAK,CAACtgC,EAAOgb,IACF,gBAAC,IAAD,CAAQqmB,QAASrmB,EAAQ5d,QAAS,KAAQyF,KAAKq+B,qBAAqBlmB,KAApE,qBAInBnY,KAAKy+B,WAAW/2B,OAAO42B,EAAQptB,IA7BhB,KAoCnBwtB,WAAa,KAAK,MAAD,EAC8B1+B,KAAK2+B,oBAAoBtB,eAAvDE,GADA,EACP9kB,MADO,EACA8kB,eAAeC,EADf,EACeA,WAC9Bx9B,KAAKw7B,qBAAqB+B,EAAcC,GACxCx9B,KAAKjI,SAAS,CAAE6lC,WAAW,IAC3B59B,KAAK2+B,oBAAoBl2B,UAtCvBzI,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAK9H,MAAQ,CAAE0lC,WAAW,GAC1B59B,KAAKu7B,cAAgB,GAErBv7B,KAAK07B,UAAY,GA0BrBjxB,oBACIzK,KAAKyI,SAUTsB,SACI,OAAO,2BACH,2BACI,gBAAC,KAAD,CACIhQ,MAAK,6BAAwBiG,KAAKo9B,aAA7B,KACLpjC,QAASgG,KAAK9H,MAAM0lC,UACpB3jC,SAAU,KACN+F,KAAKjI,SAAS,CAAE6lC,WAAW,IAC3B59B,KAAK2+B,oBAAoB5mC,SAAS,CAACyC,IAAIkjC,KAAKC,YAEhDzjC,KACI8F,KAAK0+B,WAETtkC,WAAW,SACXoR,MAAM,MACN6G,OAAO,MACP,gBAAC,GAAD,CAAkBvI,OAAQ9J,KAAMiK,IAAMC,GAAKlK,KAAK2+B,oBAAoBz0B,EAAIkzB,aAAcp9B,KAAKo9B,gBAG/F,uBAAKhgC,UAAU,gBACZ,gBAAC,GAAD,CAAa0M,OAAQ9J,KAAMg4B,WAAYh4B,KAAKg4B,WAAYJ,aAAc53B,KAAK43B,aAAcD,iBAAkB33B,KAAK23B,iBAAkB1tB,IAAMC,GAAKlK,KAAKs4B,eAAepuB,EAAI2tB,OAAQ73B,KAAK63B,OAAQC,QAAS93B,KAAK83B,QAASl9B,MAAO,CAAC0e,aAAa,YAG7O,2BACI,gBAAC,GAAD,CAAexP,OAAQ9J,KAAMiK,IAAKC,GAAMlK,KAAKy+B,WAAav0B,O,OC9E3D,MAAM00B,WAAqBpmC,YACxCkI,YAAY/H,GACVkM,MAAMlM,GADW,KAKnB0gC,gBAAkB,IACTr5B,KAAK6+B,QAAQ/T,gBAJpB9qB,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAK9H,MAAQ8H,KAAKmB,IAAIxI,GAKxBwI,IAAIxI,GASF,MAAO,CAAEhE,KARYgE,EAAM2gC,aAAalwB,IAAIC,IACnC,CACLtP,MAAOsP,EAAKhU,KACZmF,IAAK6O,EAAKhU,QAKC+jC,WAFI,IAKrBG,mBAAmBC,GAEbx5B,KAAKrH,MAAM2gC,eAAiBE,EAAUF,cACxCt5B,KAAKjI,SAAL,eAAmBiI,KAAKmB,IAAInB,KAAKrH,SAIrCoR,SACE,OAAO,gBAAC,IAAD,CAAM9S,SAAU,CAAEE,KAAM,GAAK8S,IAAMC,IAASlK,KAAK6+B,QAAU30B,IAC/DlK,KAAK9H,MAAMvD,KAAKyU,IAAIC,GACZ,gBAAC,IAAK1O,KAAN,CAAWH,IAAK6O,EAAK7O,IAAKnF,KAAMgU,EAAK7O,IAAK+C,MAAO8L,EAAK7O,IAAK2C,MAAOkM,EAAK7O,KAAK,gBAAC,IAAD,CAAOynB,YAAa,gCC5BhG,MAAM6c,WAAsBtmC,YACvCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAejBwI,IAAOxI,IAoBE,CAAEilC,WAAW,EAAOjpC,KAnBZgE,EAAM2gC,aAEDlwB,IAAIC,IACb,CAAEoP,MAAOpP,EAAKhU,KAAMymC,KAAM,GAAIyB,cAAe,GAAI,WAAc,MAgBzCrsB,OAblB,CACXnH,OAAQ,CACJ+xB,KAAM,CAAC3+B,EAAOgb,IACH,gBAAC,IAAD,CAAQqmB,QAASrmB,EAAQ5d,QAAS,KAAQyF,KAAKq+B,qBAAqBlmB,KAApE,mBAEXolB,cAAe,CAACpgC,EAAOgb,IACZhb,EAEXqgC,WAAY,CAACrgC,EAAOgb,IACThb,MA/BJ,KAsCnBkhC,qBAAwBlmB,IACpBnY,KAAKo9B,aAAejlB,EAAOM,MAC3BzY,KAAKjI,SAAS,CAAE6lC,WAAW,KAxCZ,KA2CnBn1B,OAAS,KACLzI,KAAKy+B,WAAW/2B,OAAO1H,KAAK9H,MAAMvD,KAAMqL,KAAK9H,MAAMgZ,SA5CpC,KAmDnBwtB,WAAa,KAAO,MAAD,EACoC1+B,KAAK2+B,oBAAoBtB,eAApE5kB,EADO,EACPA,MAAO8kB,EADA,EACAA,cAAeC,EADf,EACeA,WAAWF,EAD1B,EAC0BA,MACzC,IAAIE,EAED,YADAx9B,KAAKjI,SAAS,CAAC,MAAQ,+BAG1B,MAAMpD,EAAOqL,KAAK9H,MAAMvD,KAAKyU,IAAIC,GACzBA,EAAKoP,QAAUA,EACR,CAAEA,QAAOqjB,KAAM,GAAIyB,gBAAeC,aAAWF,SAEjDj0B,GAEXrJ,KAAKjI,SAAS,CAAE6lC,WAAW,EAAOjpC,OAAK+G,WAAMlC,GAAa,KAAQwG,KAAKyI,WACvEzI,KAAK2+B,oBAAoBl2B,UAhEV,KAmEnB4wB,gBAAkB,IACPr5B,KAAK9H,MAAMvD,KApEH,KAuEnBoV,OAAS,IACE,2BAEH,gBAAC,KAAD,CACIhQ,MAAK,6BAAwBiG,KAAKo9B,aAA7B,KACLpjC,QAASgG,KAAK9H,MAAM0lC,UACpB3jC,SAAU,KACN+F,KAAK2+B,oBAAoBl2B,SACzBzI,KAAKjI,SAAS,CAAE6lC,WAAW,EAAMliC,WAAMlC,KAE3CU,KACI8F,KAAK0+B,WAETtkC,WAAW,SACXoR,MAAM,MACN6G,OAAO,MACNrS,KAAK9H,MAAMwD,OAAS,gBAAC,GAAD,CAAUkB,QAASoD,KAAK9H,MAAMwD,QACnD,gBAAC,GAAD,CAAkBoO,OAAQ9J,KAAMiK,IAAMC,GAAOlK,KAAK2+B,oBAAsBz0B,EAAIkzB,aAAcp9B,KAAKo9B,gBAEnG,gBAAC,GAAD,CAAenzB,IAAKC,GAAMlK,KAAKy+B,WAAav0B,KAxFhDlK,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAK9H,MAAQ8H,KAAKmB,IAAIxI,GAG1B4gC,mBAAmBC,GAEXx5B,KAAKrH,MAAM2gC,eAAiBE,EAAUF,cACxCt5B,KAAKjI,SAAL,eAAmBiI,KAAKmB,IAAInB,KAAKrH,QAAS,KACxCqH,KAAKyI,WAqCbgC,oBACIzK,KAAKyI,UCrDN,MAAMs2B,GAAsB1N,GAAc,cAAcA,EAAa,eAAD,iCACvE2N,cADuE,sBACvD,gCAAAtqC,EAAA,yDACZ,EAAK4jC,eAAe5vB,QAIC,KAHfmwB,EAAS,EAAKoG,gBAAgB5F,kBAAkBjwB,IAAIC,GAChD,IAAN,OAAYA,EAAZ,OAEMF,OALE,uBAMR,EAAKgpB,SAAS+M,SAAS,2BACvB,EAAK5G,eAAezvB,OAPZ,iCAUNrD,EAAY8Z,GAAMC,mBAElBthB,EAZM,iBAYU46B,EAAO91B,KAAK,KAZtB,iBAYmC,EAAKovB,SAASkE,oBAAoB7wB,UAZrE,eAYqFA,EAZrF,eAaN,EAAK2sB,SAASqE,MAAM,CAAChxB,YAAUvH,QAbzB,QAcZ,EAAKq6B,eAAezvB,OACpB,EAAKspB,SAASiG,wBAfF,4CADuD,KAmBtE+G,YAnBsE,sBAmBxD,oCAAAzqC,EAAA,yDACV,EAAK4jC,eAAe5vB,QAEC,KADfmwB,EAAS,EAAKuG,iBAAiB/F,mBAC3BlwB,OAHA,uBAIN,EAAKgpB,SAAS6D,cAAc,0BAC5B,EAAKsC,eAAezvB,OALd,iCASNw2B,EAAcxG,EAAOhuB,OAAOxB,GAAMA,EAAKi0B,OAAOn0B,OAAS,EACvDwyB,EAAY,GAUbA,EARC0D,EAQWxG,EAAOhuB,OAAOxB,GAAMA,EAAKi0B,OAAOl0B,IAAIC,GAAM,GAAF,OAAKA,EAAI,cAAT,gBAAmCA,EAAI,WAAvC,MAPxCwvB,EAAOzvB,IAAIC,GAChBA,EAAI,cACG,GAAN,OAAUA,EAAI,cAAd,gBAAwCA,EAAI,WAA5C,KACG,WAAYA,EAAI,MAAhB,iBAAoCA,EAAI,MAAxC,MASR7D,EAAY8Z,GAAMC,mBAClBthB,EA1BI,iBA0BY09B,EAAU54B,KAAK,KA1B3B,iBA0BwC,EAAKovB,SAASkE,oBAAoB7wB,UA1B1E,eA0B0FA,EA1B1F,eA2BJ,EAAK2sB,SAASqE,MAAM,CAAChxB,YAAUvH,QA3B3B,QA4BV,EAAKq6B,eAAezvB,OACpB,EAAKspB,SAASiG,wBA7BJ,4CAnBwD,KAmDrEkH,cAnDqE,sBAmDrD,oCAAA5qC,EAAA,yDACb,EAAK4jC,eAAe5vB,QACdmwB,EAAS,EAAK0G,gBAAgBlG,kBAC9BmG,EAAgB,EAAKrN,SAASL,aAAamE,OAAO4C,OAAOzvB,IAAIC,GAAM,IAAF,OAAOA,EAAKhU,KAAZ,MAElD,IAAlBwjC,EAAO1vB,OALG,uBAMT,EAAKgpB,SAAS6D,cAAc,0BAC5B,EAAKsC,eAAezvB,OAPX,iCAUP8yB,EAAYz5B,OAAOmP,KAAKwnB,GAAQzvB,IAAIC,GAChC,IAAN,OAAYA,EAAZ,iBAA2BwvB,EAAOxvB,GAAlC,MAKE7D,EAAY8Z,GAAMC,mBAClBthB,EAjBO,iBAiBSuhC,EAAc5D,OAAOD,GAAW54B,KAAK,KAjB9C,iBAiB2D,EAAKovB,SAASkE,oBAAoB7wB,UAjB7F,eAiB6GA,EAjB7G,eAkBP,EAAK2sB,SAASqE,MAAM,CAAChxB,YAAUvH,QAlBxB,QAmBb,EAAKq6B,eAAezvB,OACpB,EAAKspB,SAASiG,wBApBD,8C,GClD0D7jC,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,iBAAAC,EAAA,6DAC/FmkC,EAASpkC,EAAOE,KAAKkkC,OACrB4G,EAAgBhrC,EAAO+C,QAAQioC,cAAc50B,OAAOxB,GAAQwvB,IAAWxvB,EAAKoP,OAFmB,kBAG9F,CACH9jB,KAAM,CACF8qC,mBAL6F,2CAAzB,uDAAxDC,G,GAATlqC,QAA2CmqC,G,GAARlrC,O,GCCwBF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,eAAAC,EAAA,6DACzF+qC,EAAgBhrC,EAAOE,KAAKkkC,OAAOzvB,IAAIqP,IAClC,CAACA,WAFmF,kBAKxF,CACH9jB,KAAM,CACF8qC,mBAPuF,2CAAzB,uDAAlDG,G,GAATpqC,QAAwCqqC,G,GAARprC,OC4ChCqrC,OA7Cf,MACK,aAAmBrrC,EAAQsrC,EAAeC,GAAS,OAAD,6HAClBvrC,EAAOE,KAA5Bw9B,EADuC,EACvCA,SAAU70B,EAD6B,EAC7BA,OACV2iC,EAA+BxrC,EAAO+C,QAAtCyoC,6BACFpkC,EAAMkkC,EAAcziC,IAHqB,uBAK3C2iC,EAA2B,CACvB9nC,KAAM,WACNxD,KAAM,CACF6R,SAAS,KAR0B,kBAWpC,CACH7R,KAAK,2BACEF,EAAOE,MADV,IAEA+G,MAAOG,EACP2K,SAAS,MAf0B,gBAoBpBw5B,EAAO7N,EAAU70B,GAApCkI,EApBuC,EAoBvCA,UAAWvH,EApB4B,EAoB5BA,IApB4B,SAsB1Bk0B,EAASqE,MAAM,CAChChxB,YACAvH,QAxB2C,cA0BhC,MA1BgC,QA2B3Ck0B,EAASiG,wBAEb6H,EAA2B,CACvB9nC,KAAM,WACNxD,KAAM,CACF6R,SAAS,KAhC8B,kBAmCxC,CACH7R,KAAK,2BACEF,EAAOE,MADV,IAEA6R,SAAS,MAtC8B,gD,SCCMjS,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,SAAAC,EAAA,+EAC3EorC,GAAiBtJ,MAAM/hC,EACzB6I,IACG,GAAmC,IAA/B4E,OAAOmP,KAAK/T,GAAQ6L,OACpB,MAAO,iDAKf,CAACgpB,EAAU70B,KACP,MAAMkI,EAAY8Z,GAAMC,mBAClB2gB,EAAgBh+B,OAAOmP,KAAK/T,GAAQ8L,IAAI5O,GACpC,QAAN,OAAe8kB,GAAMgB,SAAS9lB,GAA9B,eAAyC8C,EAAO9C,GAAhD,gBAA4D8kB,GAAMgB,SAAS9lB,KAGzEmhC,EAAYz5B,OAAOmP,KAAK/T,GAExB6iC,EADShO,EAASL,aAAamE,OAAO4C,OACfhuB,OAAOxB,IACxBsyB,EAAUlQ,SAASpiB,EAAKhU,OACjC+T,IAAIC,GACIiW,GAAMgB,SAASjX,EAAKhU,OAGzB+qC,EAAaF,EAActE,OAAOuE,GAAgBp9B,KAAK,KAI7D,MAAO,CAAEyC,YAAWvH,IAFX,iBAAamiC,EAAb,iBAA+BjO,EAASkE,oBAAoB7wB,UAA5D,wCACJA,EADI,SAzBiE,2CAAzB,uDAAvC66B,G,GAAR7qC,QAAiC8qC,G,GAAP7rC,OCCxC,MAAM8rC,OACKC,UAAY,WADjBD,GAEKE,aAAe,cAE1B,MAAMC,GAAkB,2BACjBxW,IADiB,IAEpB,CAACqW,GAAsBC,WAAYZ,GACnC,CAACW,GAAsBE,cAAef,GACtClJ,MAAO6J,KAELM,GAAiB,2BAChBxW,IADgB,IAEnB,CAACoW,GAAsBC,WAAYX,GACnC,CAACU,GAAsBE,cAAed,GACtCnJ,MAAO8J,KAGX,SAASM,GAAkB1oC,EAAOzD,GAClC,OAAOksC,GAAkBlsC,EAAO0D,MAAMD,EAAOzD,EAAOE,M,SCrBiBJ,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,eAAAC,EAAA,6DACnFy9B,EAAY19B,EAAOE,KAAnBw9B,SADmF,SAEpFA,EAASmE,WAF2E,gCAGnF,CACH3hC,KAAMF,EAAOE,OAJyE,2CAAzB,uDAA/CksC,G,GAARrrC,QAAqCsrC,G,GAAPrsC,O,GCAiBF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,qBAAAC,EAAA,yDAC3Ey9B,EAAY19B,EAAOE,KAAnBw9B,SAD2E,EAEvC19B,EAAO+C,QAA3CupC,EAF2E,EAE3EA,mBAAmBC,EAFwD,EAExDA,cAFwD,yCAGxD,CACtBrsC,KAAK,CAAC+G,MAAM,4BAJkE,uBAM5Ey2B,EAAS2E,KAAKkK,EAAcD,GANgD,cAOlF5O,EAASkG,uBAPyE,kBAQ3E,CACH1jC,KAAK,2BAAKF,EAAOE,MAAb,IAAkB6R,SAAQ,MATgD,2CAAzB,uDAAvCy6B,G,GAARzrC,QAAiC0rC,G,GAAPzsC,OCGxC,MAAM0sC,GAA4B,CAC9BppC,SAAUC,wBACVs+B,SAAUuK,GACV/J,KAAMmK,IAGV,SAASG,GAAyBlpC,EAAOzD,GACrC,OAAQA,EAAO0D,MACX,IAAK,WACD,OAAOC,yBAAeF,EAAOzD,EAAOE,MACxC,IAAK,WACD,OAAOmsC,GAAe5oC,EAAOzD,EAAOE,MACxC,IAAK,OACD,OAAOusC,GAAWhpC,EAAOzD,EAAOE,MACpC,QACI,OAAOuD,GCZnB,MAAM4E,GAAY,CACd46B,aAAa,EACbqJ,oBAAoB,EACpBv6B,SAAS,EACTw6B,mBAAexnC,EACfkC,WAAOlC,GAGL6nC,GAA2B7oC,IAAMC,gBAEvC,SAAS6oC,GAAkB3oC,GAEvB,MAAMw5B,EAAWx5B,EAAMw5B,SACJoP,EAAoBvoC,qBAAWL,EAAM6oC,SAAhDzoC,UAHsB,EAIHmE,0BAAgBkkC,GAA0BtkC,GAAWqkC,IAJlD,mBAIvBjpC,EAJuB,KAIhBa,EAJgB,KAKtB2+B,EAAmDx/B,EAAnDw/B,YAAiClxB,GAAkBtO,EAAtC6oC,mBAAsC7oC,EAAlBsO,SAAQ9K,EAAUxD,EAAVwD,MACjD,OACI,kBAAC2lC,GAAyBvnC,SAA1B,CAAmCqD,MAAO,CAAEpE,cAEpC2C,GAAS,kBAAC,GAAD,CAAUkB,QAASlB,IAEhC,kBAAC,KAAD,CAAO3B,MAAO,OACVC,QAAS09B,EACTz9B,SACI,KACIlB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAAE+iC,aAAa,MAIjCx9B,KAAM,KACFnB,EAAU,CACNZ,KAAM,OACNxD,KAAM,CACF+iC,aAAa,EACbvF,eAIZ/3B,WAAW,SACXoR,MAAM,MACN6G,OAAO,MACP,kBAAC,IAAD,CAAMjV,UAAU,cACZ,kBAAC,IAAKzC,KAAN,KAAW,kBAAC,IAAD,CAAOqnB,YAAY,YAAYzW,SAAWpO,IACjDpE,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAAEqsC,cAAe7jC,EAAMkb,OAAOlb,UAEzC8kB,YAAY,MACf,kBAAC,IAAKtnB,KAAN,CAAW4C,MAAM,mCAAkC,kBAAC,KAAD,CAAQgO,SACtD+Z,IACGvsB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAAEosC,mBAAoBzb,WAMhD,kBAAC,IAAD,CAAQ9e,QAASA,EAASrO,KAAK,UAAUoC,QACrC,KACIxB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACF6R,SAAS,KAGjB+6B,EAAgB,CACZppC,KAAM,WACNxD,KAAM,CAAEsrC,2BAA4BlnC,EAAU0oC,WAAWniB,GAAMG,kBAV3E,SAcA,kBAAC,IAAD,CAAStnB,KAAK,aACd,kBAAC,IAAD,CAAQ4/B,SAAUvxB,EAASjM,QAAS,KAChCxB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CACF+iC,aAAa,OAJzB,WAQA,kBAAC,IAAD,CAASv/B,KAAK,aACd,kBAAC,IAAD,CAAQ4/B,SAAUvxB,EAASjM,QAAS,KAChCxB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAAE6R,SAAS,KAErBzN,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAAEw9B,WAAU3rB,SAAS,OAPnC,a,SCxFkEjS,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,SAAAC,EAAA,+EAC5ForC,GAAiBtJ,MAAM/hC,EACzB6I,IACG,GAAmC,IAA/B4E,OAAOmP,KAAK/T,GAAQ6L,OACpB,MAAO,kDAIf,CAACgpB,EAAU70B,KACP,MAAMkI,EAAY8Z,GAAMC,mBAClBmiB,EAAWx/B,OAAOmP,KAAK/T,GAAQ8L,IAAI5O,GAC/B,IAAN,OAAW8kB,GAAMgB,SAAS9lB,GAA1B,YAAkC8C,EAAO9C,GAAzC,MACDuI,KAAK,KAKR,MAAO,CAAEyC,YAAWvH,IAHX,wBAAoBk0B,EAASkE,oBAAoB7wB,UAAjD,mCACGk8B,EADH,4BAEJl8B,EAFI,SAdkF,2CAAzB,uDAAtDm8B,G,GAATnsC,QAA0CosC,G,GAARntC,OCCjD,MAAMotC,OACKrB,UAAY,WADjBqB,GAEKpB,aAAe,cAG1B,MAAMqB,GAAuB,CACzB,CAACD,GAAwBrB,WAAYZ,GACrC,CAACiC,GAAwBpB,cAAef,GACxC3nC,SAAUC,wBACVw+B,MAAOmL,IAGLI,GAAsB,CACxB,CAACF,GAAwBrB,WAAYX,GACrC,CAACgC,GAAwBpB,cAAed,GACxC5nC,SAAUK,iBACVo+B,MAAOoL,IAGX,SAASI,GAAoB9pC,EAAOzD,GAChC,OAAOstC,GAAoBttC,EAAO0D,MAAMD,EAAOzD,EAAOE,M,MClBlD8W,GAAWC,KAAXD,OAGF3O,GAAY,CACdpB,WAAOlC,EAEPymC,gCAA4BzmC,EAC5BimC,cAAc,IAGZwC,GAAoBzpC,IAAMC,gBAEhC,SAASypC,GAAWvpC,GAAQ,MACjBw5B,EAAYx5B,EAAZw5B,SADgB,EAERlD,IAAKC,UAAbtE,EAFgB,oBAGjBiO,EAAS1G,EAASL,aAAamE,OAAO4C,OAHrB,EAII37B,0BAAgB0jC,GAAmB9jC,GAAW4jC,IAJlD,mBAIhBxoC,EAJgB,KAITa,EAJS,KAKf0mC,EAAmDvnC,EAAnDunC,cAAe/jC,EAAoCxD,EAApCwD,MAAMukC,EAA8B/nC,EAA9B+nC,2BACvBjgB,EAAW6Y,EAAOzvB,IAAIC,GACjB,kBAAC,GAAD,CAAQ7O,IAAK6O,EAAKhU,MAAOgU,EAAKhU,OASzC,OANAwE,oBAAU,KACHomC,GACCrV,EAAKuX,UAEX,CAAClC,IAGC,kBAACgC,GAAkBnoC,SAAnB,CAA4BqD,MAAO,CAAEpE,cACjC,yBAAK6B,MAAO,CAAEwnC,UAAW,OAAQ,MAAS,UAElC1mC,GAAS,kBAAC,GAAD,CAAUkB,QAASlB,IAEhC,kBAAC,IAAD,CAAMkvB,KAAMA,EAAMvtB,SAAWC,IACzBvE,EAAU,CACNZ,KAAM,QACNxD,KAAM,CACFw9B,WACA70B,aAGTF,UAAU,cACT,kBAAC,IAAKzC,KAAN,KACI,kBAAC2mC,GAAD,CAAmBE,QAASS,GAAmB9P,SAAUA,KAE7D,kBAAC,IAAKx3B,KAAN,CAAW4C,MAAM,iBACb,kBAAC,KAAD,CACI7C,KAAK,WACL2nC,WAAYllC,IACRpE,EAAU,CACNZ,KAAMooC,GAAsBE,aAC5B9rC,KAAM,CAAEkkC,OAAQ17B,MAGxBoO,SAAWpO,IACPpE,EAAU,CACNZ,KAAMooC,GAAsBC,UAC5B7rC,KAAM,CAAEkkC,OAAQ17B,OAIvB6iB,IAIRyf,EAAcr2B,IAAIC,GACR,kBAAC,IAAK1O,KAAN,CAAWH,IAAK6O,EAAKoP,MAAOlb,MAAK,eAAU8L,EAAKoP,MAAf,OAA2BpjB,KAAMgU,EAAKoP,OAC1E,kBAAC,KAAD,KACI,kBAAC,KAAOhN,OAAR,CAAetO,MAAM,OAArB,OACA,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,QAArB,QACA,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,UAArB,UACA,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,UAArB,gB,MClExBsc,GAAYC,KAAZD,QAEO,MAAM6oB,WAAuB5Q,GAAIl5B,aAAiB84B,KAAK2G,GAAgB8G,KAClFr+B,YAAY/H,GACRkM,MAAMlM,GACNqH,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAIjCpoB,SACI,OAAO,2BACH,uBAAK3M,UAAW,gBACZ,gBAAC,KAAD,CAAM8c,iBAAiB,IAAI9c,UAAW,gBAClC,gBAAC,GAAD,CAASgd,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,mBAAoBR,IAAI,KAC3D,gBAAC,GAAD,CAAasP,OAAQ9J,KAAMg4B,WAAYh4B,KAAKg4B,WAAYJ,aAAc53B,KAAK43B,aAAcD,iBAAkB33B,KAAK23B,iBAAkB1tB,IAAMC,GAAKlK,KAAKs4B,eAAepuB,EAAI2tB,OAAQ73B,KAAK63B,OAAQC,QAAS93B,KAAKg/B,cAAepkC,MAAO,CAAC0e,aAAa,UACxO,gBAAC,GAAD,CAAcggB,aAAct5B,KAAKmyB,SAASL,aAAamE,OAAO4C,OAAQ5uB,IAAMC,GAAKlK,KAAKi/B,gBAAgB/0B,EAAIJ,OAAQ9J,QAEtH,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,mBAAoBR,IAAI,KAC3D,gBAAC,GAAD,CAAasP,OAAQ9J,KAAMg4B,WAAYh4B,KAAKg4B,WAAaJ,aAAc53B,KAAK43B,aAAcD,iBAAkB33B,KAAK23B,iBAAkB1tB,IAAMC,GAAKlK,KAAKs4B,eAAepuB,EAAI2tB,OAAQ73B,KAAK63B,OAAQC,QAAS93B,KAAKs/B,cAAe1kC,MAAO,CAAC0e,aAAa,UACzO,gBAAC,GAAD,CAAcggB,aAAct5B,KAAKmyB,SAASL,aAAamE,OAAO4C,OAAQ5uB,IAAMC,GAAKlK,KAAKu/B,gBAAgBr1B,EAAIJ,OAAQ9J,QAEtH,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,sBAAuBR,IAAI,KAC3D,gBAAC,GAAD,CAAasP,OAAQ9J,KAAMg4B,WAAYh4B,KAAKg4B,WAAaJ,aAAc53B,KAAK43B,aAAcD,iBAAkB33B,KAAK23B,iBAAkB1tB,IAAMC,GAAKlK,KAAKs4B,eAAepuB,EAAI2tB,OAAQ73B,KAAK63B,OAAQC,QAAS93B,KAAKm/B,YAAavkC,MAAO,CAAC0e,aAAa,UAC3O,gBAAC,GAAD,CAAgBggB,aAAct5B,KAAKmyB,SAASL,aAAamE,OAAO4C,OAAQ5uB,IAAMC,GAAKlK,KAAKo/B,iBAAiBl1B,EAAIJ,OAAQ9J,QAExH,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,sBAAuBR,IAAI,KAC3D,gBAAC0nC,GAAD,CAAY/P,SAAUnyB,KAAKmyB,cAItC,8BCtCZ,MAAMoQ,GAAkB,CACpBC,MAAO,IACPC,UAAW,KACXC,GAAI,KACJC,SAAU,WACVC,YAAa,aACbC,UAAW,WACXC,KAAM,OACNC,QAAS,UACTC,YAAa,cACbC,SAAU,WACVC,aAAc,gBA0DlB,SAASC,GAAgBxqC,GAAQ,MACrBwf,EAAqBxf,EAArBwf,OAAQga,EAAax5B,EAAbw5B,SADY,EAEEj5B,wBAASM,GAFX,mBAErB4pC,EAFqB,KAEZC,EAFY,KAGV5qB,GAAUN,EAApBtD,SAAoBsD,EAAVM,OAHU,EAIUvf,mBAAS,IAJnB,mBAIrBoqC,EAJqB,KAIRC,EAJQ,OAKwBrqC,oBAAS,GALjC,mBAKrBsqC,EALqB,KAKDC,EALC,OAMbxU,IAAKC,UAAbtE,EANqB,oBAO5BjyB,EAAM+qC,MAAMjrB,GAASmS,EAErB,MAAM5nB,EAAK,uCAAG,4BAAAtO,EAAA,yDACiB,IAAvB4uC,EAAYn6B,QAA4B,OAAZi6B,EADtB,uBAENK,GAAsB,GAFhB,SAIatR,EAASwE,qBAAT,0BAAiDrX,GAAMgB,SAAS7H,GAAhE,wCACZ0Z,EAASkE,oBAAoB7wB,UADjB,6BAEd8Z,GAAMC,mBAFQ,KAEc,CAACokB,WAAY,IAAM1gC,QAAS,MANvD,OAQa,OAJbtN,EAJA,QAQEiG,QACJ2nC,EAAe5tC,EAAIG,QAAQnB,MAE/B8uC,GAAsB,GAXhB,2CAAH,qDAeX5pC,oBAAU,KACNmJ,KACD,CAACogC,IAoDJ,OA5BW,kBAAC,IAAD,CAAMxY,KAAMA,EAAMgZ,OAAQ,UAC7B,kBAAC,IAAKjpC,KAAN,CAAWtF,KAAK,WACZ,kBAAC,KAAD,CAAQwuC,aAAc,IAClBt4B,SAAWpO,IACPkmC,EAAWlmC,IAEf8kB,YAAY,UAAUrnB,MAAO,CAAC4Q,MAAM,UACpC,kBAAC,KAAOC,OAAR,CAAetO,MAAM,KAArB,KACA,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,KAAK,KAC1B,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,KAAK,KAC1B,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,MAAM,MAC3B,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,MAAM,MAC3B,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,MAAM,MAC3B,kBAAC,KAAOsO,OAAR,CAAetO,MAAOolC,GAAgBO,MAAO,QAC7C,kBAAC,KAAOr3B,OAAR,CAAetO,MAAOolC,GAAgBK,aAAc,cACpD,kBAAC,KAAOn3B,OAAR,CAAetO,MAAOolC,GAAgBM,WAAY,YAClD,kBAAC,KAAOp3B,OAAR,CAAetO,MAAOolC,GAAgBG,IAAK,MAC3C,kBAAC,KAAOj3B,OAAR,CAAetO,MAAOolC,GAAgBQ,SAAU,WAChD,kBAAC,KAAOt3B,OAAR,CAAetO,MAAOolC,GAAgBS,aAAc,eACpD,kBAAC,KAAOv3B,OAAR,CAAetO,MAAOolC,GAAgBU,UAAW,YACjD,kBAAC,KAAOx3B,OAAR,CAAetO,MAAOolC,GAAgBW,cAAe,kBAG7D,kBAAC,IAAKvoC,KAAN,CAAWtF,KAAK,aA7CN,MACd,OAAQ+tC,GACJ,KAAKb,GAAgBQ,QAErB,KAAKR,GAAgBS,YACjB,OAAO,qCACX,KAAKT,GAAgBG,GACjB,OAAO,kBAAC,KAAD,CAAQl8B,QAASg9B,EAAoB9oC,KAAK,OAAOE,MAAO,CAAE4Q,MAAO,UACnE83B,EAAYl6B,IAAIC,GACN,kBAAC,KAAOoC,OAAR,CAAejR,IAAK6O,EAAKhU,KAAM8H,MAAOkM,EAAKhU,MAAOgU,EAAKhU,QAI1E,KAAKktC,GAAgBO,KACjB,OAAO,oCAAE,kBAAC,IAAD,MAAQ,2GAErB,QACI,OAAO,kBAAC,IAAD,QA6BN5yB,KChJF,MAAM4zB,WAAgBtrC,YACjCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAQnB8P,OAAU9T,IACNqL,KAAKjI,SAAL,eAAmBiI,KAAKmB,IAAIxM,MATb,KAYnBwM,IAAOm4B,IAiCI,CAAEsE,WAAW,EAAOjpC,KAhCZ2kC,EACKlwB,IAAIC,IACb,CAAE7O,IAAK6O,EAAKhU,KAAMojB,MAAOpP,EAAKhU,KAAMwf,SAAUxL,EAAKlR,KAAMirC,QAAS,IAAKlzB,UAAW,GAAI6zB,QAAS,MA8BzEpyB,QA3BjB,CACZ,CACI5X,MAAO,QACPyX,UAAW,SAEf,CACIzX,MAAO,WACPyX,UAAW,WACXzH,OAAQ,CAAC5M,EAAOgb,KAEZ,cAAgBhb,GACZ,IAAK,SACD,OAAO,4BAAOA,EAAMhF,MACxB,QACI,OAAO,4BAAOgF,MAI9B,CACIpD,MAAO,GACPyX,UAAW,UACXzH,OAAQ,CAAC5M,EAAOgb,IACL,gBAACgrB,GAAD,CAAiBO,MAAO1jC,KAAK0jC,MAAOvrB,OAAQA,EAAQga,SAAWnyB,KAAKmyB,eAxCxE,KAgDnB6R,kBAAoB,KAChB,MAAMC,EAAkB,GACxBjkC,KAAK9H,MAAMvD,KAAKgc,QAAQtH,IACpB46B,EAAgB56B,EAAKoP,OAASpP,EAAKwL,WAGvC,MAAM9T,EAASmB,OAAO8mB,QAAQhpB,KAAK0jC,OAAOt6B,IAAI,EAAE5O,EAAI2C,MAAU,MAAD,EAC7BA,EAAM+mC,iBAA3Bd,EADkD,EAClDA,QAAQlzB,EAD0C,EAC1CA,UACf,OAAGkzB,EACQ,CAAC3qB,MAAMje,EAAI4oC,UAAQlzB,YAAU2E,SAASovB,EAAgBzpC,IAE1D,KAEX,OAAIwF,KAAKmkC,gBAGFpjC,EAAO8J,OAAOxB,GAAQrJ,KAAKmkC,gBAAgB1Y,SAASpiB,EAAKoP,QAFrD,IA9DI,KAmEnB2rB,SAAY9mC,IAAY,MACZ+mC,EAAyB/mC,EAAzB+mC,UAAWC,EAAchnC,EAAdgnC,UACnB,IAAKD,IAAcC,EAEf,YADAtkC,KAAKmyB,SAAS+M,SAAS,+CAG3B,IAAIl/B,KAAKmkC,gBAEL,YADAnkC,KAAKmyB,SAAS+M,SAAS,wBAI3B,MAAMqF,EAAevkC,KAAKgkC,oBAE1BhkC,KAAKwkC,cAAcC,UAAUJ,GAAa,CAAEA,YAAWC,YAAWhS,GAAI,QAAS39B,KAAM4vC,GACjFvkC,KAAKwkC,cAAcE,YACnB1kC,KAAKwkC,cAAcE,WAAWj8B,OAAO,CAAE9T,KAAMqL,KAAKwkC,cAAcC,YAEhEzkC,KAAKwkC,cAAcG,YACnB3kC,KAAKwkC,cAAcG,WAAWl8B,OAAO,CAAE9T,KAAMqL,KAAKwkC,cAAcC,YAEpEzkC,KAAKmyB,SAAS+M,SAAS,qBAvFR,KA2FnBn1B,OAAS,KACL,MAAM66B,EAAe,CACjBr5B,SAAU,CAAC44B,EAAiBI,KACxBvkC,KAAKmkC,gBAAkBA,GAE3BU,iBAAkB1sB,IAAM,CACpB9iB,KAAM8iB,EAAOM,SAGrB,OAAO,2BACH,gBAAC,IAAD,CAAMpb,SAAU2C,KAAKokC,UACjB,gBAAC,IAAKzpC,KAAN,CAAWtF,KAAM,YAAakI,MAAM,cAAa,gBAAC,IAAD,OACjD,gBAAC,IAAK5C,KAAN,CAAWtF,KAAM,YAAakI,MAAM,aAAa4gC,aAAc,OAAO,gBAAC,KAAD,KAClE,gBAAC,KAAO1yB,OAAR,CAAetO,MAAM,OAArB,OACA,gBAAC,KAAOsO,OAAR,CAAetO,MAAM,MAArB,QAEJ,gBAAC,IAAKxC,KAAN,KACI,gBAAC,IAAD,CAAQxC,KAAK,UAAUwF,SAAS,UAAhC,sCAGR,gBAAC,IAAD,MACA,gBAAC,GAAD,CAAamM,OAAQ9J,KAAMg4B,WAAYh4B,KAAKwkC,cAAcxM,WAAYJ,aAAc53B,KAAKwkC,cAAc5M,aAAcD,iBAAkB33B,KAAKwkC,cAAc7M,iBAAkB1tB,IAAMC,GAAOlK,KAAKwkC,cAAclM,eAAiBpuB,EAAI2tB,OAAQ73B,KAAKwkC,cAAc3M,OAAQC,QAAS,KACzQ,MAAMyM,EAAevkC,KAAKgkC,oBAC1BhkC,KAAKwkC,cAAcM,sBAAsBP,IAC1C3pC,MAAO,CAAE0e,aAAc,UAC1B,gBAAC,KAAD,CAAOsrB,aAAY,aACfzsC,KAAM,YACHysC,GACJjzB,QAAS3R,KAAK9H,MAAMyZ,QACnBS,WAAYpS,KAAK9H,MAAMvD,SAtH/BqL,KAAKwkC,cAAgB7rC,EAAMmR,OAC3B9J,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAK9H,MAAQ8H,KAAKmB,IAAIxI,EAAM2gC,cAC5Bt5B,KAAK0jC,MAAQ,ICPN,MAAMqB,WAAmBvsC,YACpCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAOnB8P,OAAU9T,IACNqL,KAAKjI,SAAL,eAAmBiI,KAAKmB,IAAIxM,MARb,KAWnBwM,IAAOxI,IAaI,CAAEilC,WAAW,EAAOjpC,KAZZuN,OAAOmP,KAAK1Y,EAAMhE,MAAMyU,IAAIC,IAAiB,CAAEg7B,UAAWh7B,KAErDD,IAAIC,IACb,CAAE7O,IAAK6O,EAAKg7B,UAAWA,UAAWh7B,EAAKg7B,aASjB1yB,QANjB,CACZ,CACI5X,MAAO,YACPyX,UAAW,gBArBJ,KA2BnB4yB,SAAY9mC,IAAY,MACZ+mC,EAAyB/mC,EAAzB+mC,UAAWC,EAAchnC,EAAdgnC,UACnB,IAAKD,IAAcC,EAEf,YADAtkC,KAAKmyB,SAAS+M,SAAS,+CAG3B,MAAMqF,EAAevkC,KAAKmkC,gBAAgB/6B,IAAIi7B,GACnCrkC,KAAKwkC,cAAcC,UAAUJ,IAExCrkC,KAAKwkC,cAAcC,UAAUJ,GAAa,CAAEA,YAAWC,YAAWhS,GAAI,QAAS39B,KAAM4vC,GACjFvkC,KAAKwkC,cAAcE,YACnB1kC,KAAKwkC,cAAcE,WAAWj8B,OAAO,CAAE9T,KAAMqL,KAAKwkC,cAAcC,YAEhEzkC,KAAKwkC,cAAcG,YACnB3kC,KAAKwkC,cAAcG,WAAWl8B,OAAO,CAAE9T,KAAMqL,KAAKwkC,cAAcC,YAEpEzkC,KAAKmyB,SAAS+M,SAAS,qBA3CR,KA+CnBn1B,OAAS,KACL,MAAM66B,EAAe,CACjBr5B,SAAU,CAAC44B,EAAiBI,KACxBvkC,KAAKmkC,gBAAkBA,GAE3BU,iBAAkB1sB,IAAM,CACpB9iB,KAAM8iB,EAAOpe,SAGrB,OAAO,2BACH,gBAAC,IAAD,CAAMsD,SAAU2C,KAAKokC,UACjB,gBAAC,IAAKzpC,KAAN,CAAWtF,KAAM,YAAakI,MAAM,cAAa,gBAAC,IAAD,OACjD,gBAAC,IAAK5C,KAAN,CAAWtF,KAAM,YAAakI,MAAM,aAAa4gC,aAAc,OAAO,gBAAC,KAAD,KAClE,gBAAC,KAAO1yB,OAAR,CAAetO,MAAM,OAArB,OACA,gBAAC,KAAOsO,OAAR,CAAetO,MAAM,MAArB,QAEJ,gBAAC,IAAKxC,KAAN,KACI,gBAAC,IAAD,CAAQxC,KAAK,UAAUwF,SAAS,UAAhC,kBAGR,gBAAC,KAAD,CAAOinC,aAAY,aACfzsC,KAAM,YACHysC,GACJjzB,QAAS3R,KAAK9H,MAAMyZ,QACnBS,WAAYpS,KAAK9H,MAAMvD,SArE/BqL,KAAKwkC,cAAgB7rC,EAAMmR,OAC3B9J,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAK9H,MAAQ8H,KAAKmB,IAAIxI,ICLf,MAAMqsC,WAAmBxsC,YACpCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAOnB8P,OAAU9T,IACPqL,KAAKjI,SAAL,eAAkBiI,KAAKmB,IAAIxM,MARX,KAWnBwM,IAAOxI,IAMI,CAAEhE,KALMuN,OAAOmP,KAAK1Y,EAAMhE,MAAMyU,IAAIC,IAAiB,CAAEg7B,UAAWh7B,KAErDD,IAAIC,IACb,CAAE7O,IAAK6O,EAAKg7B,UAAWA,UAAWh7B,EAAKg7B,aAEpC/sB,QAAQomB,KAAKC,WAjBZ,KAoBnBpyB,SAAYpO,IACR6C,KAAKqkC,UAAYlnC,GArBF,KAwBnB4M,OAAS,IAEE,2BACH,gBAAC,IAAD,CAAMvP,IAAKwF,KAAK9H,MAAMof,SAClB,gBAAC,IAAK3c,KAAN,CAAW4C,MAAM,+BACb,gBAAC,KAAD,CAAQgO,SAAUvL,KAAKuL,UAClBvL,KAAK9H,MAAMvD,KAAKyU,IAAIC,GACV,gBAAC,KAAOoC,OAAR,CAAejR,IAAK6O,EAAK7O,IAAK2C,MAAOkM,EAAKg7B,WAC5Ch7B,EAAKg7B,gBA9B9BrkC,KAAKwkC,cAAgB7rC,EAAMmR,OAC3B9J,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAK9H,MAAQ8H,KAAKmB,IAAIxI,I,MCItB8gB,GAAYC,KAAZD,QAGO,MAAMwrB,WAAsBvT,GAAIl5B,aAAiB84B,KAAK2G,KACjEv3B,YAAY/H,GAAQ,IAAD,EACfkM,MAAMlM,GADS,YAanBmsC,sBAbmB,uCAaK,WAAOP,GAAP,mBAAA7vC,EAAA,yDACQ,IAAxB6vC,EAAap7B,OADG,uBAEhB,EAAKgpB,SAAS+M,SAAS,wBAFP,iCAKdgG,EAAYX,EAAatQ,QAAQ5qB,GAC5B47B,GAAcE,eAAe,CAAC97B,KACtCtG,KAAK,SAER,EAAKu1B,eAAe5vB,QACdlD,EAAY8Z,GAAMC,mBAClBthB,EAXc,wBAWS,EAAKk0B,SAASkE,oBAAoB7wB,UAX3C,4BAYZ0/B,EAZY,wBAaf1/B,EAbe,cAed,EAAK2sB,SAASqE,MAAM,CAAEhxB,YAAWvH,QAfnB,OAgBpB,EAAKq6B,eAAezvB,OAhBA,4CAbL,2DAgCnBu8B,cAhCmB,sBAgCH,qBAQHC,EARG,eAAA3wC,EAAA,yDAQH2wC,EARG,SAQSC,GACjB,GAAiB,UAAbA,EAAMhT,GACN,MAAwB,QAApBgT,EAAMhB,UACA,IAAN,OAAWW,GAAcE,eAAeG,EAAM3wC,MAAMoO,KAAK,SAAzD,KACG,WAAWkiC,GAAcE,eAAeG,EAAM3wC,MAAMoO,KAAK,QAAzD,KAEP,GAAwB,QAApBuiC,EAAMhB,UAAqB,CAC3B,MAAMhhB,EAAOgiB,EAAM3wC,KAAKs/B,QAAQ5qB,GACrBg8B,EAAYh8B,IACpBtG,KAAK,SACR,MAAM,IAAN,OAAWugB,EAAX,KACG,CACH,MAAMA,EAAOgiB,EAAM3wC,KAAKs/B,QAAQ5qB,GACrBg8B,EAAYh8B,IAEvB,MAAM,IAAN,OAAWia,EAAKvgB,KAAK,QAArB,OAtBNshC,EAAY,EAAKK,WAAWL,UADtB,uBAGR,EAAKlS,SAAS+M,SAAS,mCAHf,iCAMNoG,EAAQ,EAAKb,UAAUJ,GAuBvBa,EAAYG,EAAYC,GAE9B,EAAKhN,eAAe5vB,QACdlD,EAAY8Z,GAAMC,mBAClBthB,EAjCM,wBAiCiB,EAAKk0B,SAASkE,oBAAoB7wB,UAjCnD,4BAkCJ0/B,EAlCI,wBAmCP1/B,EAnCO,eAqCN,EAAK2sB,SAASqE,MAAM,CAAEhxB,YAAWvH,QArC3B,QAsCZ,EAAKq6B,eAAezvB,OAtCR,4CA9BZ7I,KAAKmyB,SAAWx5B,EAAMmR,OAAOqoB,SAC7BnyB,KAAKykC,UAAY,GACjBzkC,KAAKulC,kBAAoB,GAsE7Bx7B,SACI,OAAO,2BACH,uBAAK3M,UAAW,gBACZ,gBAAC,KAAD,CAAM8c,iBAAiB,IAAI9c,UAAW,gBAElC,gBAAC,GAAD,CAASgd,IAAI,0BAA0B5f,IAAI,KACvC,gBAAC,GAAD,CAASyP,IAAMC,GAAOlK,KAAKojC,QAAUl5B,EAAIJ,OAAQ9J,KAAMs5B,aAAct5B,KAAKmyB,SAASL,aAAamE,OAAO4C,UAE3G,gBAAC,GAAD,CAASze,IAAI,cAAc5f,IAAI,KAC3B,gBAAC,GAAD,CAAasP,OAAQ9J,KAAMg4B,WAAYh4B,KAAKg4B,WAAYJ,aAAc53B,KAAK43B,aAAcD,iBAAkB33B,KAAK23B,iBAAkB1tB,IAAMC,GAAOlK,KAAKs4B,eAAiBpuB,EAAI2tB,OAAQ73B,KAAK63B,OAAQC,QAAS93B,KAAKolC,cAAexqC,MAAO,CAAE0e,aAAc,UAClP,gBAAC,IAAD,MACA,gBAAC,GAAD,CAAYrP,IAAMC,GAAOlK,KAAK0kC,WAAax6B,EAAIJ,OAAQ9J,KAAMrL,KAAMqL,KAAKykC,aAE5E,gBAAC,GAAD,CAASrqB,IAAI,sBAAsB5f,IAAI,KACnC,gBAAC,GAAD,CAAYyP,IAAMC,GAAOlK,KAAK2kC,WAAaz6B,EAAIJ,OAAQ9J,KAAMrL,KAAMqL,KAAKykC,eAKpF,8BA9FSQ,GAQVE,eAAkBK,GACdA,EAAMp8B,IAAIC,GJJAA,KAAU,MACvBoP,EAAwCpP,EAAxCoP,MAAO5D,EAAiCxL,EAAjCwL,SAAUuuB,EAAuB/5B,EAAvB+5B,QAASlzB,EAAc7G,EAAd6G,UAClC,GAAIkzB,IAAYb,GAAgBG,GAAI,CAEhC,IAAI+C,EAAU,GAEd,OAAQ5wB,GACJ,IAAK,UAAW,IAAK,OAAQ,IAAK,QAAS,IAAK,SAC5C4wB,EAAUv1B,EAAU9G,IAAIs8B,GACbA,GACR3iC,KAAK,KACR,MACJ,QACI0iC,EAAUv1B,EAAU9G,IAAIs8B,GACd,IAAN,OAAWpmB,GAAMI,YAAYgmB,GAA7B,MACD3iC,KAAK,KAEhB,MAAM4iC,EAAG,WAAOF,EAAP,KACT,MAAM,GAAN,OAAUnmB,GAAMgB,SAAS7H,GAAzB,YAAmC2qB,EAAnC,YAA8CuC,GAGlD,GAAIvC,IAAYb,GAAgBS,aAAeI,IAAYb,GAAgBQ,QACvE,MAAM,GAAN,OAAUzjB,GAAMgB,SAAS7H,GAAzB,YAAmC2qB,GAGvC,GAAIA,IAAYb,GAAgBU,SAC5B,MAAM,GAAN,OAAU3jB,GAAMgB,SAAS7H,GAAzB,SAGJ,GAAI2qB,IAAYb,GAAgBqD,YAC5B,MAAM,GAAN,OAAUtmB,GAAMgB,SAAS7H,GAAzB,UAGJ,GAAI2qB,IAAYb,GAAgBO,KAC5B,MAAM,GAAN,OAAUxjB,GAAMgB,SAAS7H,GAAzB,kBAAyC6G,GAAMI,YAAYxP,GAA3D,KAGJ,GAAIkzB,IAAYb,GAAgBK,YAC5B,MAAM,GAAN,OAAUtjB,GAAMgB,SAAS7H,GAAzB,kBAAyC6G,GAAMI,YAAYxP,GAA3D,MAGJ,GAAIkzB,IAAYb,GAAgBM,UAC5B,MAAM,GAAN,OAAUvjB,GAAMgB,SAAS7H,GAAzB,mBAA0C6G,GAAMI,YAAYxP,GAA5D,KAGJ,IAAIy1B,EAAM,GACV,OAAQ9wB,GACJ,IAAK,SACD8wB,EAAG,WAAOrmB,GAAMI,YAAYxP,GAAzB,KACH,MACJ,QAASy1B,EAAMz1B,EAEnB,MAAM,GAAN,OAAUoP,GAAMgB,SAAS7H,GAAzB,YAAmC2qB,EAAnC,YAA8CuC,II/C/BE,CAAgBx8B,IChBnC,MAAMvM,GAAY,CACd2iC,cAAe,GACf/jC,WAAOlC,EAEPymC,gCAA2BzmC,GAGzBssC,GAAsBttC,IAAMC,gBAC1BgT,GAAWC,KAAXD,OACR,SAASs6B,GAAaptC,GAClB,MAAMw5B,EAAWx5B,EAAMmR,OAAOqoB,SACxB0G,EAAS1G,EAASL,aAAamE,OAAO4C,OAFnB,EAGE37B,0BAAgB8kC,GAAqBllC,GAAWglC,IAHlD,mBAGlB5pC,EAHkB,KAGXa,EAHW,KAIjB0mC,EAAmDvnC,EAAnDunC,cAAe/jC,EAAoCxD,EAApCwD,MAAMukC,EAA8B/nC,EAA9B+nC,2BAJJ,EAKVhR,IAAKC,UAAbtE,EALkB,oBAOnB5K,EAAW6Y,EAAOzvB,IAAIC,GACjB,kBAAC,GAAD,CAAQ7O,IAAK6O,EAAKhU,MAAOgU,EAAKhU,OASzC,OANAwE,oBAAU,KACHomC,GACCrV,EAAKuX,UAEX,CAAClC,IAGC,kBAAC6F,GAAoBhsC,SAArB,CAA8BqD,MAAO,CAAEpE,cACnC,yBAAK6B,MAAO,CAAEwnC,UAAW,OAAQ,MAAS,UAElC1mC,GAAS,kBAAC,GAAD,CAAUkB,QAASlB,IAEhC,kBAAC,IAAD,CAAMkvB,KAAMA,EAAMvtB,SAAWC,IACzBvE,EAAU,CACNZ,KAAM,QACNxD,KAAM,CACFw9B,WACA70B,aAGTF,UAAU,cACT,kBAAC,IAAKzC,KAAN,KACI,kBAAC2mC,GAAD,CAAmBE,QAASsE,GAAqB3T,SAAUA,KAE/D,kBAAC,IAAKx3B,KAAN,CAAW4C,MAAM,iBACb,kBAAC,KAAD,CACI7C,KAAK,WACL2nC,WAAYllC,IACRpE,EAAU,CACNZ,KAAM0pC,GAAwBpB,aAC9B9rC,KAAM,CAAEkkC,OAAQ17B,MAGxBoO,SAAWjO,IACPvE,EAAU,CACNZ,KAAM0pC,GAAwBrB,UAC9B7rC,KAAM,CAAEkkC,OAAQv7B,OAIvB0iB,IAIRyf,EAAcr2B,IAAIC,GACR,kBAAC,IAAK1O,KAAN,CAAWkpC,aAAc,OAAQrpC,IAAK6O,EAAKoP,MAAOlb,MAAO8L,EAAKoP,MAAOpjB,KAAMgU,EAAKoP,OACnF,kBAAC,KAAD,KACI,kBAAC,KAAOhN,OAAR,CAAetO,MAAM,QAArB,QACA,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,OAArB,a,SCzEyC5I,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,SAAAC,EAAA,+EACvForC,GAAiBtJ,MAAM/hC,EACzB6I,GACoC,GAA9B4E,OAAOmP,KAAK/T,GAAQ6L,OACZ,gDAEP7L,EAAO0oC,eAAX,EACW,gDAIf,CAAC7T,EAAS70B,KACN,MAAMkI,EAAY8Z,GAAMC,mBAClB0mB,EAAW3oC,EAAO0oC,UAKxB,MAAO,CAACxgC,YAAUvH,IAHT,wBAAoBk0B,EAASkE,oBAAoB7wB,UAAjD,gCACAygC,EADA,4BAEJzgC,EAFI,SAf6E,2CAAzB,uDAAnD0gC,G,GAAR1wC,QAAuC2wC,G,GAAP1xC,OCA9C,MAAM2xC,GAAoB,2BACnBlc,IADmB,IACJsM,MAAM0P,KAEtBG,GAAmB,2BAClBlc,IADkB,IACJqM,MAAM2P,KAG3B,SAASG,GAAoBpuC,EAAOzD,GAChC,OAAO4xC,GAAoB5xC,EAAO0D,MAAMD,EAAOzD,EAAOE,MCJ1D,MAAMmI,GAAY,CACdkpC,eAAWxsC,EACXkC,WAAOlC,EAEPymC,gCAA4BzmC,GAG1B+sC,GAAsB/tC,IAAMC,gBAElC,SAAS+tC,GAAa7tC,GAClB,MAAMw5B,EAAWx5B,EAAMmR,OAAOqoB,SADL,EAEEj1B,0BAAgBopC,GAAqBxpC,GAAWspC,IAFlD,mBAElBluC,EAFkB,KAEXa,EAFW,KAGN2C,GAAsCxD,EAAjD8tC,UAAiD9tC,EAAtCwD,OAAOukC,EAA+B/nC,EAA/B+nC,2BAHD,EAIVhR,IAAKC,UAAbtE,EAJkB,oBAYzB,OANA/wB,oBAAU,KACHomC,GACCrV,EAAKuX,UAEX,CAAClC,IAGC,kBAACsG,GAAoBzsC,SAArB,CAA8BqD,MAAO,CAAEpE,cACnC,yBAAK6B,MAAO,CAAEwnC,UAAW,OAAQ,MAAS,UAElC1mC,GAAS,kBAAC,GAAD,CAAUkB,QAASlB,IAEhC,kBAAC,IAAD,CAAMkvB,KAAMA,EAAMvtB,SAAWC,IACzBvE,EAAU,CACNZ,KAAM,QACNxD,KAAM,CACFw9B,WACA70B,aAGTF,UAAU,cACT,kBAAC,IAAKzC,KAAN,KACI,kBAAC2mC,GAAD,CAAmBE,QAAS+E,GAAqBpU,SAAUA,KAE/D,kBAAC,IAAKx3B,KAAN,CAAWtF,KAAK,aACZ,kBAAC,IAAD,U,SC9CiDd,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,eAAAC,EAAA,6DACxF4pC,EAAS7pC,EAAO+C,QAAQ8mC,QACvBmI,YAAchyC,EAAOE,KAAK8xC,YAF6D,kBAGvF,CACH9xC,KAAM,CACFwE,QAAS1E,EAAO+C,QAAQ2B,QAAU,EAClCmlC,YANsF,2CAAzB,uDAAnDoI,G,GAARlxC,QAAuCmxC,G,GAAPlyC,O,GCA2BF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,eAAAC,EAAA,6DACxF4pC,EAAS7pC,EAAO+C,QAAQ8mC,QACvBsI,YAAcnyC,EAAOE,KAAKiyC,YAF6D,kBAGvF,CACHjyC,KAAM,CACFwE,QAAS1E,EAAO+C,QAAQ2B,QAAU,EAClCmlC,YANsF,2CAAzB,uDAAnDuI,G,GAARrxC,QAAuCsxC,G,GAAPryC,O,GCAqCF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,eAAAC,EAAA,6DAClG4pC,EAAS7pC,EAAO+C,QAAQ8mC,QACvByI,WAAatyC,EAAOE,KAAKoyC,WAFwE,kBAGjG,CACHpyC,KAAM,CACFwE,QAAS1E,EAAO+C,QAAQ2B,QAAU,EAClCmlC,YANgG,2CAAzB,uDAA7D0I,G,GAARxxC,QAA4CyxC,G,GAAPxyC,O,GCC6BF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,qDAAAC,EAAA,2DAI5FD,EAAO+C,QAAQ8mC,OAHhBmI,EAD6F,EAC7FA,YACJG,EAFiG,EAEjGA,YACAG,EAHiG,EAGjGA,WAHiG,EAKxEtyC,EAAOE,KAA7Bw9B,EAL8F,EAK9FA,SAAS+U,EALqF,EAKrFA,UAEVpjB,EAAiB2iB,EAAYr9B,IAAIC,GAC5BiW,GAAMgB,SAASjX,EAAKoP,QAC5B1V,KAAK,KAEFokC,EAAUP,EAAYx9B,IAAIC,GACtB,GAAN,OAAUiW,GAAMgB,SAASjX,EAAKoP,OAA9B,YAAwCpP,EAAKlM,QAG7CiqC,EAAa,GACbD,EAAQh+B,OAAS,IACjBi+B,EAAU,mBAAeD,EAAQpkC,KAAK,OAGlCskC,EAAqCN,EAArCM,WAAYC,EAAyBP,EAAzBO,UAAWC,EAAcR,EAAdQ,UAC3BC,EAAY,GAGZC,EAAgBH,GAAS,UAAQA,EAAR,eAAkC,sBAC3DI,EAAgBH,GAAS,UAAOA,EAAP,eAAiC,sBAE1C,wBAAjBE,GAAyD,wBAAfC,IACzCA,EAAe,gBAGfL,EA/BiG,sBAgCzFA,EAhCyF,OAiCxF,eAjCwF,QAoCxF,iBApCwF,gCAkCzFG,EAAS,uBAAmBC,EAAnB,iBAAwCC,EAAxC,KAlCgF,oCAqCzFF,EAAS,wBAAoBC,EAApB,iBAAyCC,EAAzC,KArCgF,oCA0C/FtH,EAAY8G,EAAU99B,IAAIC,IACwBA,EAA5CoP,MAA4CpP,EAArCi0B,MADoB,MACbC,EAA8Bl0B,EAA9Bk0B,cAAeC,EAAen0B,EAAfm0B,WACrC,MAAM,GAAN,OAAUD,EAAV,sBAAqCC,KACtCz6B,KAAK,KAEF4kC,EAAYxV,EAASL,aAAamE,OAAO4C,OAAOzvB,IAAIC,GAAMiW,GAAMgB,SAASjX,EAAKhU,OAAO0N,KAAK,KAC1FyC,EAAY8Z,GAAMC,mBAClBthB,EAjD+F,wBAkD3F0pC,EAlD2F,YAkD9EvH,EAlD8E,uBAmD7FjO,EAASkE,oBAAoB7wB,UAnDgE,wDAqDjFse,EArDiF,YAqD/DsjB,EArD+D,YAqDjDI,EArDiD,uBAsD7FhiC,EAtD6F,qBA0D/F2sB,EAASqE,MAAM,CAAChxB,YAAUvH,QA1DqE,eA4DrGk0B,EAASiG,wBA5D4F,kBA6D9F,CACHzjC,KAAM,KA9D2F,4CAAzB,uDAAxDizC,G,GAATpyC,QAA2CqyC,G,GAARpzC,OCElD,MAAMqzC,OACKC,WAAa,aADlBD,GAEKE,WAAa,aAFlBF,GAGKG,gBAAkB,kBAHvBH,GAIKtR,MAAQ,QAEnB,MAAM0R,GAAqB,2BACpBhe,IADoB,IAEvB,CAAC4d,GAAyBC,YAAarB,GACvC,CAACoB,GAAyBE,YAAanB,GACvC,CAACiB,GAAyBG,iBAAkBjB,GAC5CxQ,MAAOoR,KAELO,GAAoB,2BACnBhe,IADmB,IAEtB,CAAC2d,GAAyBC,YAAapB,GACvC,CAACmB,GAAyBE,YAAalB,GACvC,CAACgB,GAAyBG,iBAAkBhB,GAC5CzQ,MAAOqR,KAGX,SAASO,GAAqBlwC,EAAOzD,GACjC,OAAO0zC,GAAqB1zC,EAAO0D,MAAMD,EAAOzD,EAAOE,M,MCvBnD8W,GAAWC,KAAXD,OA+DO48B,OA9Df,SAAyB1vC,GAAQ,MACrBw5B,EAOJx5B,EAPIw5B,SAEJqP,GAKA7oC,EANAI,UAMAJ,EALA6oC,SAHwB,EAQxB7oC,EAJA2vC,mBAJwB,SAKxBC,EAGA5vC,EAHA4vC,aAAapG,EAGbxpC,EAHawpC,OAAOqG,EAGpB7vC,EAHoB6vC,aALI,EAQxB7vC,EAFA8vC,yBANwB,MAMN,gBANM,IAQxB9vC,EADA+vC,wBAPwB,MAOP,WAPO,EAStB7P,EAAS2P,GAAgBrW,EAASL,aAAamE,OAAO4C,OAThC,EAUc3/B,mBAAS,IAVvB,mBAUrByvC,EAVqB,KAUNC,EAVM,OAWF1vC,wBAASM,GAXP,mBAWrBkC,EAXqB,KAWdmtC,EAXc,OAYb5Z,IAAKC,UAAbtE,EAZqB,oBActB5K,EAAW6Y,EAAOzvB,IAAIC,GACjB,kBAAC,GAAD,CAAQ7O,IAAK6O,EAAKhU,MAAOgU,EAAKhU,OA2CzC,MAAO,CAAEk5B,GAxCGua,GACD,kBAAC,IAAD,CAAMle,KAAMA,EAAMxtB,UAAU,aAAaC,SAAU8kC,GAEhDzmC,GAAS,kBAAC,GAAD,CAAUqtC,QAAS,KAAKF,OAASrvC,IAAaoD,QAASlB,IAEjE4sC,GAAe,kBAAC,IAAK3tC,KAAN,KACZ,kBAAC2mC,GAAD,CAAmBE,QAASA,EAASrP,SAAUA,KAGnD,kBAAC,IAAKx3B,KAAN,CAAW4C,MAAOkrC,EAAmBpzC,KAAK,oBACtC,kBAAC,KAAD,CACIuF,MAAO,CAAC,SAAW,SACnBF,KAAMguC,EACNrG,WAAYllC,IACRyrC,EAAiBD,EAAc99B,OAAOxB,GAAQlM,IAAUkM,EAAKoP,SAEjElN,SAAWjO,IAEHsrC,EADkB,aAAnBF,EACkBprC,EAAO8L,IAAIqP,IACjB,CAAEA,WAGI,CAAC,CAAEA,MAAMnb,OAKjC0iB,IAIR2oB,EAAcv/B,IAAIC,GACRk/B,EAAal/B,IAGvBy/B,GAKAH,gBAAe/d,OAAMie,aCxDtC,SAASG,GAAWrwC,GAAQ,MACjBI,EAAaC,qBAAWiwC,IAAxBlwC,UADgB,EAEasvC,GAAgB,CAChDlW,SAASx5B,EAAMw5B,SACfoW,aAAcl/B,GAAe,uCAF1BklB,EAFgB,EAEhBA,GAAGoa,EAFa,EAEbA,cAAcE,EAFD,EAECA,SAIxB,OACIta,EAAG,CAAC,kBAAC,IAAK5zB,KAAN,CAAWH,IAAK,UAChB,kBAAC,IAAD,CAAQrC,KAAK,UAAUoC,QACnB,KAC8B,IAAvBouC,EAAcx/B,OAIjBpQ,EAAU,CACNZ,KAAM2vC,GAAyBC,WAC/BpzC,KAAM,CAAC8xC,YAAYkC,KALnBE,EAAS,0BAHrB,WCTZ,SAASK,GAAmBvwC,GAAQ,MACzBI,EAAaC,qBAAWiwC,IAAxBlwC,UADwB,EAEUsvC,GAAgB,CACrDlW,SAASx5B,EAAMw5B,SACfoW,aAAcl/B,GAAe,kBAAC,IAAK1O,KAAN,CAAWkpC,aAAc,OAAQrpC,IAAK6O,EAAKoP,MAAOlb,MAAO8L,EAAKoP,MAAOpjB,KAAMgU,EAAKoP,OAC7G,kBAAC,KAAD,KACI,kBAAC,KAAOhN,OAAR,CAAetO,MAAM,QAArB,QACA,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,OAArB,WALDoxB,EAFwB,EAExBA,GAAGoa,EAFqB,EAErBA,cAAuB/d,GAFF,EAEPie,SAFO,EAEEje,MASjC,OACI2D,EAAG,CAAC,kBAAC,IAAK5zB,KAAN,KACA,kBAAC,IAAD,CAAQxC,KAAK,UAAUoC,QACnB,KACI,MAAM4uC,EAAiBve,EAAKE,gBACtB8b,EAAc+B,EAAcv/B,IAAIC,IAC3B,CAACoP,MAAMpP,EAAKoP,MAAOtb,MAAMgsC,EAAe9/B,EAAKoP,UAExD1f,EAAU,CACNZ,KAAM2vC,GAAyBE,WAC/BrzC,KAAM,CAACiyC,YAAYA,OAR/B,QAcA,kBAAC,IAAD,CAASzuC,KAAK,aACd,kBAAC,IAAD,CAASoC,QACL,KAEIxB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAACwE,QAAQ,OAL3B,eC3BZ,SAASiwC,GAAmBzwC,GAAQ,MACxBI,EAAcC,qBAAWiwC,IAAzBlwC,UADuB,EAEesvC,GAAgB,CAC1DlW,SAAUx5B,EAAMw5B,SAChBoW,aAAel/B,IACX,OAAQA,EAAKoP,OACT,IAAK,aASL,IAAK,eACD,OAAO,oCACH,kBAAC,IAAK9d,KAAN,CAAW4C,MAAM,YAAYlI,KAAK,aAC9B,kBAAC,IAAD,CAAO4sB,YAAa,YAExB,kBAAC,IAAKtnB,KAAN,CAAW4C,MAAM,YAAYlI,KAAK,aAC9B,kBAAC,IAAD,CAAO4sB,YAAa,eAKxCumB,aAAc,CAAC,CAAEnzC,KAAM,cAAgB,CAAEA,KAAM,iBAC/CozC,kBAAmB,cAAeC,iBAAkB,WAzBhDna,EAFuB,EAEvBA,GAA6B3D,GAFN,EAEnB+d,cAFmB,EAEJE,SAFI,EAEMje,MA2BrC,OACI2D,EAAG,CAAC,kBAAC,IAAK5zB,KAAN,KACA,kBAAC,IAAD,CAAQxC,KAAK,UAAUoC,QACnB,KAAO,MACK8uC,EAAqBze,EAAKE,gBAA1Bue,iBACFtC,EAAU,2BAAQnc,EAAKE,iBAAb,IAA8Buc,WAAYgC,IAC1DtwC,EAAU,CACNZ,KAAM2vC,GAAyBG,gBAC/BtzC,KAAM,CAAEoyC,kBANpB,QAWS,kBAAC,IAAD,CAAS5uC,KAAK,aACvB,kBAAC,IAAD,CAASoC,QACL,KAEIxB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAACwE,QAAQ,OAL3B,e,MC3CJogB,GAAUC,KAAVD,M,eCFUC,KAAVD,MAGR,SAAS+vB,GAAc3wC,GAAQ,MACnBw5B,EAAax5B,EAAbw5B,SACAp5B,EAAcC,qBAAWiwC,IAAzBlwC,UAFkB,EDC9B,SAA2BJ,GAAQ,MACvBykC,EAAiBzkC,EAAjBykC,aADsB,EAEJlkC,mBAAS,IAFL,mBAEvBqwC,EAFuB,KAEhBC,EAFgB,OAGQtwC,wBAASM,GAHjB,mBAGvBijC,EAHuB,KAGVgN,EAHU,OAIfxa,IAAKC,UAAbtE,EAJuB,sBAKJ1xB,wBAASM,GALL,mBAKvBkC,EALuB,KAKhBmtC,EALgB,KAOxBa,EAAU,uCAAG,8BAAAh1C,EAAA,sEACG0Q,GAAco3B,gBADjB,OACT7mC,EADS,OAEThB,EAAOgB,EAAIG,QAAQsT,IAAKC,IACnB,CACHlM,MAAOkM,EAAK7O,IAAIsuB,MAChB5lB,KAAMmG,EAAK7O,IAAIsuB,MACfiT,UAAW1yB,EAAKsI,QAAQ,GACxBuqB,YAAa7yB,EAAKsI,QAAQ,GAC1B5Q,OAAQsI,EAAKsI,QAAQiL,MAAM,EAAGvT,EAAKsI,QAAQxI,WAGnDqgC,EAAS70C,GAXM,2CAAH,qDAahBkF,oBAAU,KACN6vC,KACD,IAEH,MAAMvQ,EAAevL,sBAAW,uCAAC,WAAOzwB,GAAP,eAAAzI,EAAA,sDACvB+nC,EAAc8M,EAAM1+B,OAAOxB,GAAQA,EAAKlM,QAAUA,GAAO,GAC/DssC,EAAehN,GAFc,2CAAD,sDAG7B,CAAC8M,IAEEpM,EAAc9zB,GACU,QAAtBA,EAAK4E,MAAM1J,OACJ64B,EACG,GAmFlB,MAAO,CACH7O,GA5CO,CAACua,EAAS76B,IACV,kBAAC,IAAD,CAAM2c,KAAMA,EAAMxtB,UAAU,cAE3B1B,GAAS,kBAAC,GAAD,CAAUqtC,QAAS,KAAQF,OAASrvC,IAAcoD,QAASlB,IAExE,kBAAC,IAAKf,KAAN,CAAW4C,MAAO,mBACd,kBAAC,KAAD,CACIolB,YAAU,EACVob,0BAA0B,EAC1BC,WAAW,EACXpjC,MAAO,CAAE4Q,MAAO,SAChBqX,cAAc,EACdtX,SAAU4tB,EACV+E,gBAAiB,sBAEhBqL,EAAMngC,IAAI00B,GAAK,kBAAC,KAAOryB,OAAR,CAAejR,IAAKsjC,EAAE3gC,OAAQ2gC,EAAE56B,SAKpDu5B,GAAe,kBAAC,IAAK9hC,KAAN,CAAWH,IAAKiiC,EAAYt/B,OAAO,kBAAC,GAAD,CAAU2+B,KAAMW,KAGlEA,GAAeA,EAAY17B,OAAOqI,IAAIC,GAC3B,kBAAC,IAAK1O,KAAN,CAAWkpC,aAAc1G,EAAW9zB,GAAO7O,IAAK6O,EAAKhU,KAAMA,KAAMgU,EAAKhU,KAAMkI,MAAO8L,EAAKhU,MAAM,kBAAC,IAAD,QAI7G,kBAAC,IAAKsF,KAAN,KACI,kBAAC,KAAD,KACI,kBAAC,GAAD,CAAOsf,OAAO,4BACd,kBAAC,IAAD,CAAS9hB,KAAK,eACd,kBAAC,IAAKwC,KAAN,CAAWtF,KAAK,mBAAmBkI,MAAM,qBAAoB,kBAAC,IAAD,OAC7D,kBAAC,IAAK5C,KAAN,CAAWtF,KAAK,eAAekI,MAAM,mBAAkB,kBAAC,KAAD,UAI9D0Q,EACD,kBAAC,IAAKtT,KAAN,CAAWtF,KAAK,eAAekI,MAAM,iBAAiBE,UAAQ,GAAC,kBAAC,IAAD,OAC9DqrC,GAKDle,OAAMyS,aAjFO,KAAO,MAAD,EACkCzS,EAAKE,gBAAtD6e,EADe,EACfA,iBAAkBC,EADH,EACGA,aAAcC,EADjB,EACiBA,aACxC,GAAIF,EACA,MAAO,CACHlxB,MAAO2kB,EACPE,MAAOsM,IAAgB,EACvBrM,cAAeoM,EACfnM,WAAYqM,GAGpB,IAAIpN,EAEA,OADAoM,EAAS,wBACF,GAEX,MAAM9nC,EAAS,GACf07B,EAAY17B,OAAO4P,QAAQtH,IACvB,IAAIkX,EAAIqK,EAAKE,gBAAgBzhB,EAAKhU,MAC7BkrB,GAA2B,QAAtBlX,EAAK4E,MAAM1J,SACjBgc,EAAI6c,GAEJ7c,IAC0B,QAAtBlX,EAAK4E,MAAM1J,OACXxD,EAAO8B,KAAKyc,GAAMgB,SAASC,IACH,UAAjBlX,EAAKwL,UAAyC,WAAjBxL,EAAKwL,SACzC9T,EAAO8B,KAAK0d,GAGZxf,EAAO8B,KAAP,WAAgB0d,EAAhB,SAMZ,MAAO,CAAE9H,MAFK2kB,EAEEE,MADkC,QAApCb,EAAYV,UAAU9tB,MAAMwvB,IACnBF,cAAc,GAAD,OAAKd,EAAYt/B,MAAjB,YAA0B4D,EAAOgC,KAAK,KAAtC,KAA+Cy6B,WAAYqM,IAgDvEhB,YClHiBiB,CAAkB,CAC3D1M,aAAc,KADV7O,EAHkB,EAGlBA,GAAI3D,EAHc,EAGdA,KAAMyS,EAHQ,EAGRA,aAAcwL,EAHN,EAGMA,SAHN,EAMI3vC,oBAAS,GANb,mBAMnBsN,EANmB,KAMVwE,EANU,OAOA9R,mBAAS,IAPT,mBAOnBqwC,EAPmB,KAOZC,EAPY,KAS1B,OAAO,oCAECjb,EAAG,CACC,kBAAC,IAAK5zB,KAAN,KACI,kBAAC,IAAD,CAAQxC,KAAK,UAAUqO,QAASA,EAASjM,QACrC,KACI,IAAI2sC,EAAY,GAChB,GAAoB,IAAjBqC,EAAMpgC,OAAa,CAAC,MAAD,EACkCk0B,IAA5C5kB,EADU,EACVA,MAAO6kB,EADG,EACHA,MAAOC,EADJ,EACIA,cAAeC,EADnB,EACmBA,WAErC,GADA0J,EAAUrkC,KAAK,CAAE4V,QAAO6kB,QAAOC,gBAAeC,gBACzCA,EAED,YADAqL,EAAS,oCAIb3B,EAAYqC,EAEhBv+B,GAAW,GACXjS,EAAU,CACNZ,KAAM2vC,GAAyBtR,MAC/B7hC,KAAM,CACFqW,aACAmnB,WACA+U,iBAnBhB,SAyBK,kBAAC,IAAD,CAAS/uC,KAAK,aACvB,kBAAC,IAAD,CAAQqO,QAASA,EAASjM,QAClB,KAAO,MAAD,EACkD8iC,IAA5C5kB,EADN,EACMA,MAAO6kB,EADb,EACaA,MAAOC,EADpB,EACoBA,cAAeC,EADnC,EACmCA,WAChCA,GAILgM,EAASD,EAAM3N,OAAO,CAAC,CAAEnjB,QAAO6kB,QAAOC,gBAAeC,iBACtD5S,EAAKmf,eAJDlB,EAAS,iCAJzB,OAYS,kBAAC,IAAD,CAAS1wC,KAAK,aAC3B,kBAAC,IAAD,CAASoC,QACL,KAEIxB,EAAU,CACNZ,KAAM,WACNxD,KAAM,CAACwE,QAAQ,OAL3B,eAeAowC,EAAMpgC,OAAQ,GAAM,kBAAC,KAAD,CAAMvO,MAAO,CAAC4Q,MAAM,SACxCyO,OAAQ,gDACRoiB,UAAQ,EACRjqB,WAAYm3B,EAAMngC,IAAIC,GAAM,GAAF,OAAKA,EAAKk0B,cAAV,eAA8Bl0B,EAAKm0B,aAC7DwM,WAAY3gC,GACV,kBAAC,KAAK1O,KAAN,KACE,kBAAC,KAAWsvC,KAAZ,CAAiBp6B,MAAI,GAArB,QADF,IACgDxG,M,6SCvEtD4wB,GAASC,KAATD,KAEFE,GAAc39B,KAAOC,IAAV,MAcXwsC,GAAuBzwC,IAAMC,gBAEnC,SAASyxC,GAAcvxC,GACnB,MAAMw5B,EAAWx5B,EAAMmR,OAAOqoB,SACxBr1B,EAAY,CACdo+B,MAAO,CAAC,kBAAC8N,GAAD,CAAY7W,SAAUA,IAC9B,kBAAC+W,GAAD,CAAoB/W,SAAUA,IAC9B,kBAACiX,GAAD,CAAoBjX,SAAUA,IAC9B,kBAACmX,GAAD,CAAenX,SAAUA,KAEzBh5B,QAAS,EACTmlC,OAAO,CACHmI,YAAa,GACbG,YAAa,GACbG,WAAY,KAZM,EAeC7pC,0BAAgBkrC,GAAsBtrC,EAAWorC,IAflD,mBAenBhwC,EAfmB,KAeZa,EAfY,KAgBlBmiC,EAAmBhjC,EAAnBgjC,MAAO/hC,EAAYjB,EAAZiB,QACf,OACI,kBAAC8vC,GAAqBnvC,SAAtB,CAA+BqD,MAAO,CAAEpE,cACpC,yBAAKqE,UAAU,YACX,yBAAKxC,MAAO,CAACwnC,UAAU,SACnB,kBAAC,KAAD,CAAOjpC,QAASA,GACZ,kBAAC,GAAD,CAAMqB,IAAK,EAAGT,MAAM,cAAcO,YAAY,gCAC9C,kBAAC,GAAD,CAAME,IAAK,EAAGT,MAAM,wBAAwBO,YAAY,6CACxD,kBAAC,GAAD,CAAME,IAAK,EAAGT,MAAM,eAAeO,YAAY,6CAC/C,kBAAC,GAAD,CAAME,IAAK,EAAGT,MAAM,iBAAiBO,YAAY,qDAGzD,yBAAK8C,UAAU,iBACX,kBAAC,GAAD,KAAc89B,EAAM/hC,GAApB,QCvDpB,MAAMgxC,GAAmB,eAClBjgB,IAEDkgB,GAAkB,eACjBjgB,IAGP,SAASkgB,GAAmBnyC,EAAOzD,GACnC,OAAO21C,GAAmB31C,EAAO0D,MAAMD,EAAOzD,EAAOE,M,yCCGrD,MAAMmI,GAAY,CACdmjC,gCAA4BzmC,EAC5BqxB,mBAAcrxB,EACdioC,WAAYniB,GAAMG,cAGhB6qB,GAAqB9xC,IAAMC,gBAEjC,SAAS8xC,GAAY5xC,GACjB,MAAMw5B,EAAWx5B,EAAMmR,OAAOqoB,SADN,EAEGj1B,0BAAgBmtC,GAAoBvtC,GAAWqtC,IAFlD,mBAEjBjyC,EAFiB,KAEVa,EAFU,OClB5B,SAAuBJ,GACnB,MACMkgC,EADWlgC,EAAMmR,OAAOqoB,SACNL,aAAamE,OAAO4C,OAAOzvB,IAAIC,GAAQA,EAAKhU,MAF1C,EAGX45B,IAAKC,UAAbtE,EAHmB,sBAIA1xB,qBAJA,mBAInBsxC,EAJmB,KAIZC,EAJY,OAKIvxC,mBAAS,IALb,mBAKnBwxC,EALmB,KAKVC,EALU,KAOpBh5B,EAAUknB,EAAOzvB,IAAIC,GAChB,kBAAC,KAAOoC,OAAR,CAAetO,MAAOkM,GAAOA,IAIlCuhC,EAAiBhd,sBAAaid,IAChCA,EAAal6B,QAAQtH,IACI,UAAjBA,EAAKhU,KAAK,IACVo1C,EAASphC,EAAKlM,UAGvB,IA6BH,MAAO,CAAEoxB,GA3BE,IACA,kBAAC,IAAD,CAAMx0B,MAAM,WACf,kBAAC,IAAD,CAAM6wB,KAAMA,EAAMggB,eAAgBA,GAC9B,kBAAC,IAAKjwC,KAAN,CAAW4C,MAAM,sBAAsBlI,KAAK,SACxC,kBAAC,KAAD,KAEQq1C,EAAQthC,IAAIC,GACD,kBAAC,KAAOoC,OAAR,CAAetO,MAAOkM,GAAOA,MAMpD,kBAAC,IAAK1O,KAAN,CAAW4C,MAAM,WAAWlI,KAAK,WAC7B,kBAAC,KAAD,KACKsc,IAIT,kBAAC,IAAKhX,KAAN,CAAW4C,MAAM,WAAWlI,KAAK,WAC7B,kBAAC,KAAD,KACKsc,MAMRiZ,OAAM4f,QAAOG,cD1BgCG,CAAcnyC,GAA5DoyC,EAHY,EAGhBxc,GAAkByc,EAHF,EAGJpgB,KAAgB4f,EAHZ,EAGYA,MAAOG,EAHnB,EAGmBA,WAHnB,EEd5B,SAAuBhyC,GAAQ,MAAD,EACXs2B,IAAKC,UAAbtE,EADmB,sBAEgB1xB,mBAAS,IAFzB,mBAEnB+xC,EAFmB,KAEJC,EAFI,OAGchyC,qBAHd,mBAGnBiyC,EAHmB,KAGLC,EAHK,KAmB1B,MAAO,CAAE7c,GAdE,IACA,kBAAC,IAAD,CAAMx0B,MAAM,qBACdoxC,GAAgB,yBAAK/tC,UAAU,gBAAgBxC,MAAO,CAAC4Q,MAAM,UACzD,kBAAC,KAAD,CAAc6/B,IAAKF,KAExB,kBAAC,IAAD,CAAMvgB,KAAMA,GACPqgB,EAAc7hC,IAAIC,GACR,kBAAC,IAAK1O,KAAN,CAAWH,IAAK6O,EAAK7O,IAAKnF,KAAMgU,EAAK7O,IAAK+C,MAAO8L,EAAK0Z,OAAOxlB,OAAS8L,EAAK7O,IAAKqpC,aAAcvkB,GAAMK,QAAQtW,EAAK06B,UACpH,kBAAC,IAAD,UAMPnZ,OAAMsgB,mBAAkBD,gBAAcG,mBFDsBE,GAA7DC,EAJY,EAIhBhd,GAAkBid,EAJF,EAIJ5gB,KAAgBsgB,EAJZ,EAIYA,iBAAiBE,EAJ7B,EAI6BA,gBAC/CjgC,EAAQ,IAAIrW,cACVmrC,EAAwD/nC,EAAxD+nC,2BAA2BpV,EAA6B3yB,EAA7B2yB,cAAe4W,EAAcvpC,EAAdupC,WAG5CgK,EAAgB,uCAAG,8BAAA/2C,EAAA,sEAEHyW,EAAM9U,IAAIrB,UAAa02C,YAAa,IAFjC,UAGF,OADb/1C,EAFe,QAGbiG,OAHa,iDAMf+vC,EAAch2C,EAAIG,QAAQsT,IAAIC,GAAQA,EAAKhU,MACjDs1C,EAAWgB,GAPU,2CAAH,qDAUhBC,EAAW,uCAAG,kCAAAl3C,EAAA,0DACZ81C,EADY,iCAEMr/B,EAAM9U,IAAIrB,UAAa62C,WAAY,CAAEC,WAAYtB,IAFvD,cAEN70C,EAFM,OAGNk1B,EAAgBl1B,EAAIG,QAAQA,QAHtB,SAKwBqV,EAAM7J,UAAUupB,EAAevL,GAAMG,aAAc,CAAEnhB,YAAa,YAL1F,UAMyB,OAD/BytC,EALM,QAMcnwC,OANd,mDASNqvC,EAAgBc,EAAsBj2C,QAAQ+U,OAAO5M,GAChDA,EAAIvD,MAAsB,iBAAbuD,EAAIvD,MAE5B3B,EAAU,CACNZ,KAAK,WACLxD,KAAK,CAACk2B,mBAGVugB,EAAgBz1C,EAAIG,QAAQk2C,OAC5Bd,EAAiBD,GAlBL,4CAAH,qDAqBjBpxC,oBAAU,KACN+xC,KACD,CAACpB,IAEJ3wC,oBAAU,KACN4xC,KACD,IAEH,MAAMjV,EAAK,uCAAG,kCAAA9hC,EAAA,0DACNurC,EADM,uBAEAgM,EAAajB,EAASlgB,gBACtBohB,EAAaV,EAAS1gB,gBAEtBtlB,EAAY0mC,EAAW1mC,WAAa8Z,GAAMC,mBAC1CthB,EANA,gCAOIqhB,GAAMgB,SAAS2rB,EAAWE,SAP9B,iBAO+C7sB,GAAMgB,SAAS2rB,EAAWG,SAPzE,qCAQEja,EAASkE,oBAAoB7wB,UAR/B,eAQ+CA,EAR/C,2BASHqlB,EATG,2BAWAsH,EAASqE,MAAM,CAAChxB,YAAUvH,QAX1B,OAaNgiC,EAA2B,CACvB9nC,KAAM,WACNxD,KAAM,CAAE6R,SAAS,KAff,2CAAH,qDAuBX,OAJA3M,oBAAU,KACN28B,KACD,CAACiL,IAGA,kBAAC6I,GAAmBxwC,SAApB,CAA6BqD,MAAO,CAAEpE,cAClC,kBAACuoC,GAAD,CAAmBnP,SAAUA,EAAUqP,QAAS8I,KAChD,yBAAKltC,UAAU,gBACX,yBAAKA,UAAU,0BACV2tC,KAEL,kBAAC,IAAD,CAAS5yC,KAAK,WAAWyC,MAAO,CAAE8T,OAAQ,WAC1C,yBAAKtR,UAAU,0BACVmuC,O,MGxFb9xB,GAAYC,KAAZD,QAEO,MAAM4yB,WAAuB7zC,YACxCkI,YAAY/H,GACRkM,MAAMlM,GADS,KAMnB8P,OAAS,KACLzI,KAAKjI,SAAS,CAACyC,IAAIkjC,KAAKC,YALxB39B,KAAKmyB,SAAWx5B,EAAMmR,OACtB9J,KAAK9H,MAAQ,CAAEsC,IAAKkjC,KAAKC,UAO7B5zB,SACI,OAAO,uBAAK3M,UAAU,WAClB,uBAAKA,UAAU,WACX,gBAAC,KAAD,CAAM8c,iBAAiB,IAAIoyB,YAAY,OAAO9xC,IAAKwF,KAAK9H,MAAMsC,KAC9D,gBAAC,GAAD,CAAS4f,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,YAAcR,IAAK,GAClD,gBAAC,GAAD,CAAgBsP,OAAQ9J,QAE5B,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,WAAaR,IAAK,GACjD,gBAAC,GAAD,CAAesP,OAAQ9J,QAE3B,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,SAAWR,IAAK,GAC/C,gBAAC,GAAD,CAAcsP,OAAQ9J,QAE1B,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,QAASR,IAAK,GAC7C,gBAAC,GAAD,CAAYsP,OAAQ9J,QAExB,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,UAAWR,IAAK,GAC/C,gBAACurC,GAAD,CAAcj8B,OAAQ9J,QAE1B,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,UAAWR,IAAK,GAC/C,gBAACgsC,GAAD,CAAc18B,OAAQ9J,QAE1B,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,WAAYR,IAAK,GAChD,gBAAC0vC,GAAD,CAAepgC,OAAQ9J,QAE3B,gBAAC,GAAD,CAASoa,IAAK,gBAAC,IAAD,CAAkBpf,GAAG,SAAUR,IAAK,GAC9C,gBAAC,GAAD,CAAasP,OAAQ9J,YCnDlC,MAAMusC,GAAqBlb,GAAe,cAAcA,EAAY,eAAD,oBACtE2E,cAAkBn6B,IACMmE,KAAK9H,MAAMs0C,YAE3BxsC,KAAKjI,SAAS,CAACy0C,aAAaxsC,KAAK9H,MAAMs0C,cAEvCxsC,KAAKjI,SAAS,CAACy0C,aAAaxsC,KAAK9H,MAAMs0C,YAAYC,eAAe5wC,KANJ,KAWtEqjC,SAAYrjC,IACRmE,KAAKjI,SAAS,CAAC20C,iBAAgB,EAAKC,YAAY9wC,OCZ3C+wC,GAAgBvb,GAAe,cAAcA,EAAY,eAAD,iCACjE8E,cADiE,uCACjD,WAAOxhC,EAAKshC,GAAZ,SAAAvhC,EAAA,sDACZ,EAAKqD,SAAS,CAACw/B,cAAa,IAC5B,EAAKrwB,WAAWQ,OAAO/S,EAAKshC,EAAO4C,QACnC,EAAK9gC,SAAS,CAACw/B,cAAa,IAHhB,2CADiD,6DAOjEa,sBAAwB,KACpBp4B,KAAK6sC,WAAW90C,SAAS,CAAEyC,IAAKkjC,KAAKC,YARwB,KAWjEtF,qBAAuB,KACnBr4B,KAAKmxB,gBAAgBp5B,SAAS,CAAC09B,cAAcnW,GAAMG,kB,8CCRpD,MAAMqtB,GAAYzb,GAAe,cAAcA,EAAY,eAAD,iCAC7D0b,qBAAuBv7B,IAAS,CAC5Bw7B,eAAgB,EAAGC,kBAAiBxyC,eAAcm5B,UAASsZ,kBACvD,uBAAKtyC,MAAO,CAAE+sB,QAAS,IACnB,gBAAC,IAAD,CACI1d,IAAKmgB,IACDpqB,KAAKmtC,YAAc/iB,GAEvBnI,YAAW,iBAAYzQ,GACvBrU,MAAO1C,EAAa,GACpB8Q,SAAUxU,GAAKk2C,EAAgBl2C,EAAEshB,OAAOlb,MAAQ,CAACpG,EAAEshB,OAAOlb,OAAS,IACnEiwC,aAAc,IAAMptC,KAAKu8B,aAAa9hC,EAAcm5B,EAASpiB,GAC7D5W,MAAO,CAAE4Q,MAAO,IAAK8N,aAAc,EAAGlS,QAAS,WAEnD,gBAAC,KAAD,KACI,gBAAC,IAAD,CACIjP,KAAK,UACLoC,QAAS,IAAMyF,KAAKu8B,aAAa9hC,EAAcm5B,EAASpiB,GACxD1W,KAAM,gBAACuyC,GAAA,EAAD,MACN75B,KAAK,QACL5Y,MAAO,CAAE4Q,MAAO,KALpB,UASA,gBAAC,IAAD,CAAQjR,QAAS,IAAMyF,KAAKstC,YAAYJ,GAAe15B,KAAK,QAAQ5Y,MAAO,CAAE4Q,MAAO,KAApF,WAMZ+hC,WAAYC,GAAY,gBAACH,GAAA,EAAD,CAAgBzyC,MAAO,CAAEyZ,MAAOm5B,EAAW,eAAYh0C,KAC/Ei0C,SAAU,CAACtwC,EAAOgb,KAAW,EAC7Bu1B,8BAA+B1zC,IACvBA,GACA8V,WAAW,IAAM9P,KAAKmtC,YAAY9vB,WAG1CtT,OAAQ7G,GACJlD,KAAK9H,MAAMy1C,iBAAmBn8B,EAC1B,gBAAC,KAAD,CACIo8B,eAAgB,CAAE/6B,gBAAiB,UAAW8U,QAAS,GACvDkmB,YAAa,CAAC7tC,KAAK9H,MAAM41C,YACzBC,YAAU,EACVC,gBAAiB9qC,EAAOA,EAAK7B,WAAa,KAG1C6B,IA9C6C,KAkD7Dq5B,aAlD6D,uCAkD9C,WAAO9hC,EAAcm5B,EAASpiB,GAA9B,qBAAA9c,EAAA,6DACL8Q,EAAY8Z,GAAMC,mBAClBuuB,EAAarzC,EAAa,GAC1BkzC,EAAiBruB,GAAMgB,SAAS9O,GAChCzQ,EAAS,CACXyE,YACAvH,IAAI,iBAAD,OAAmB,EAAKk0B,SAASkE,oBAAoB7wB,UAArD,gCACKmoC,EADL,mBAC8BG,EAD9B,iBACiDtoC,EADjD,MAGPouB,IACA,EAAK77B,SAAS,CACVyO,SAAS,IAXF,SAaL,EAAK2rB,SAASqE,MAAMz1B,GAbf,OAcX,EAAKhJ,SAAS,CACVyO,SAAS,EACTsnC,WAAYrzC,EAAa,GACzBkzC,eAAgBn8B,IAjBT,2CAlD8C,+DAuE7D87B,YAAcJ,IACVA,IACAltC,KAAKjI,SAAS,CAAE+1C,WAAY,Q,wBCzE7B,MAAMG,GAAkB5c,GAAe,cAAcA,EAAY,eAAD,iCACnE6c,aADmE,uCACpD,WAAO/1C,EAAKqlC,GAAZ,eAAA9oC,EAAA,sDACX,EAAKqD,SAAS,CACVyO,SAAS,IAEPhB,EAAY8Z,GAAMC,mBAJb,KAKJpnB,EALI,OAMF,UANE,OAmBF,oBAnBE,uCAOG,EAAKg6B,SAASqE,MAAM,CACtBhxB,UAAWA,EACXvH,IAAI,gBAAD,OAAkBqhB,GAAMgB,SAASkd,GAAjC,wCACI,EAAKrL,SAASkE,oBAAoB7wB,UADtC,oCAEEA,EAFF,6BATJ,cAcH,EAAKzN,SAAS,CACVyO,SAAS,IAfV,2CAoBG,EAAK2rB,SAASqE,MAAM,CACtBhxB,UAAWA,EACXvH,IAAI,yBAAD,OAA2BqhB,GAAMgB,SAASkd,GAA1C,wCACI,EAAKrL,SAASkE,oBAAoB7wB,UADtC,oCAEEA,EAFF,6BAtBJ,eA2BH,EAAKzN,SAAS,CACVyO,SAAS,IA5BV,2BAiCX,EAAKzO,SAAS,CACVyO,SAAS,IAlCF,4CADoD,6DAuClE2nC,SAAY9kC,IACT,MAAM+kC,EACF,gBAAC,IAAD,CAAM7zC,QAAUiS,IACZxM,KAAKkuC,aAAa1hC,EAAIhS,IAAI6O,EAAKhU,QAEjC,gBAAC,IAAKsF,KAAN,CAAWH,IAAI,QAAQM,KAAM,gBAACuzC,GAAA,EAAD,OAA7B,SAGA,gBAAC,IAAK1zC,KAAN,CAAWH,IAAI,kBAAkBM,KAAM,gBAACuzC,GAAA,EAAD,OAAvC,mBAKJ,OAAO,gBAAC,KAAD,CAAUC,QAASF,GAC1B,4BAAO/kC,EAAKhU,KAAK,gBAAC,IAAD,CAAS8C,KAAK,aAAY,gBAACg4B,GAAA,EAAD,WClD/Crf,GAAgBhT,EAAQ,KAEf,MAAMywC,WAA0B7c,GAAIl5B,aAAiB84B,KAChEwb,GACAmB,KAEAvtC,YAAY/H,GACRkM,MAAMlM,GADS,KAgBnB61C,iBAAmBnlC,IACQA,EAAfhU,KADgB,MACV8C,EAASkR,EAATlR,KAEd,GAAsB,kBAAVA,EACR,MAAO,CAACgF,EAAOgb,IACJ5hB,KAAKC,UAAU2G,GAI9B,OAAQhF,GACJ,IAAK,SAGL,QACI,MAAO,CAACgF,EAAOgb,IAAoBhb,IA9B5B,KAmCnBsxC,iBAAmBplC,IAAS,MAChBhU,EAAegU,EAAfhU,KACR,OADuBgU,EAATlR,MAEV,IAAK,SAAU,OAAO6H,KAAK+sC,qBAAqB13C,GAChD,IAAK,QACL,IAAK,MACL,QACI,MAAO,KA1CA,KA8CnBq5C,sBAAwBrlC,GACbrJ,KAAKmuC,SAAS9kC,GA/CN,KAkDnB3B,OAAS,CAAC6J,EAAMI,KACZ,IAAIg9B,GAAS,EACTh9B,EAAQ,IAA0B,SAApBA,EAAQ,GAAGtc,MAAmBsc,EAAQ,IAA0B,SAApBA,EAAQ,GAAGtc,OACrEs5C,GAAS,GAEb,MAAMC,EAAaj9B,EAAQvI,IAAIC,GACpB,2BACAA,GADP,IAEImI,UAAWnI,EAAKhU,KAChB0E,MAAOiG,KAAK0uC,sBAAsBrlC,GAClCU,OAAQ/J,KAAKwuC,iBAAiBnlC,IAC3BrJ,KAAKyuC,iBAAiBplC,KAIjCrJ,KAAKjI,SAAS,CAAE4Z,QAASi9B,EAAYj6C,KAAM4c,EAAMo9B,YAjElC,KAoEnB38B,eAAiB,KACbhS,KAAKjI,SAAS,CACV+Z,KAAM,CACFC,SAAS,MArEjB/R,KAAKiS,WAAatZ,EAAMiC,OAAS,GACjCoF,KAAK9H,MAAQ,CACTyZ,QAAS,GACTJ,KAAM,GACNO,KAAM,CAAEC,SAAS,GACjB+7B,WAAY,GACZH,eAAgB,GAChBnnC,SAAS,EACTmoC,QAAQ,GAEZ3uC,KAAKkR,OAAS,GACdlR,KAAKmyB,SAAWx5B,EAAMmR,OA+D1BC,SAEI,OAAI/J,KAAK9H,MAAMy2C,OACJv3B,GAAUrN,OAAO/J,KAAK9H,MAAMvD,MAE/B,uBAAKiG,MAAOoF,KAAKiS,YACrB,gBAAC,KAAD,CACIzL,QAASxG,KAAK9H,MAAMsO,QACpBgN,KAAK,UACL7B,QAAS3R,KAAK9H,MAAMyZ,QACpBS,WAAYpS,KAAK9H,MAAMvD,KACvBw5B,OAAQ,CAAEzZ,GAAG,KAEjB,gBAAC,KAAD,CACI3a,MAAO,OACPC,QAASgG,KAAK9H,MAAM4Z,KAAKC,QACzB9X,SAAU+F,KAAKgS,eACf9X,KAAM8F,KAAKgS,eACX5X,WAAW,SACXiY,OAAO,MAEP,gBAAC,GAAD,CAAeC,OAAQtS,KAAK9H,MAAM4Z,KAAKhc,SAAW,QC9FlE,MAAMo8B,WAAyBR,GAAIl5B,aAC/B84B,KAAKoE,GACDU,GACAmW,GACAK,KAEJlsC,YAAY/H,GACRkM,MAAMlM,GACNqH,KAAKnL,OAAS,IAAIC,cAClBkL,KAAK9H,MAAQ,CAAEq/B,cAAc,GAE7Bv3B,KAAK81B,KAAO,GACZ5D,GAAiBC,SAAWnyB,KAGhCyK,qBAKAokC,qBACI,OAAI7uC,KAAK9H,MAAM69B,aACJ,gBAAC,GAAD,MAEP/1B,KAAK4yB,UACE,gBAAC,GAAD,CAAgB3oB,IAAMC,GAAOlK,KAAK6sC,WAAa3iC,EAAIJ,OAAQ9J,OAE3D,gBAAC,KAAD,CAAQpF,MAAO,CAAE4Q,MAAO,QAC3BzR,MAAM,iCACN+0C,SAAS,yFAKrB/kC,SACI,OAAO,uBAAK3M,UAAU,UAClB,uBAAKA,UAAU,gBACX,gBAAC,aAAD,CAAWxC,MAAO,CAAEq2B,aAAc,OAAQC,YAAa,UACnD,gBAAC,GAAD,CAAUjnB,IAAMC,GAAOlK,KAAKmxB,gBAAkBjnB,EAAIJ,OAAQ9J,SAGlE,uBAAK5C,UAAU,iBACX,gBAAC,KAAD,CACIrD,MAAO,UACPC,QAASgG,KAAK9H,MAAMs0C,cAAe,EACnCvyC,SAAU+F,KAAKg2B,cACf97B,KAAM8F,KAAKg2B,cACX57B,WAAW,SACXoR,MAAM,MACN6G,OAAO,MAGP,gBAAC,KAAD,CACI3D,OAAQ,QACRlD,MAAO,OACP9Q,KAAK,OACLmU,MAAM,SACNxZ,KAAK,aACL8H,MAAO6C,KAAK9H,MAAMu0C,gBAAkB,MAG5C,gBAAC,KAAD,CACI1yC,MAAO,UACPC,QAASgG,KAAK9H,MAAMw0C,kBAAmB,EACvCzyC,SAAU,KAAQ+F,KAAKjI,SAAS,CAAE20C,iBAAiB,KACnDxyC,KAAM,KAAQ8F,KAAKjI,SAAS,CAAE20C,iBAAiB,KAC/CtyC,WAAW,SACXiY,OAAO,MAENrS,KAAK9H,MAAMy0C,aAEhB,uBAAKvvC,UAAU,mBACV4C,KAAK6uC,sBAEV,gBAAC,IAAD,MACA,uBAAKzxC,UAAU,iBACX,gBAAC,GAAD,CAAmBxC,MAAO,CAAE4Q,MAAO,OAASvB,IAAMC,GAAOlK,KAAKkH,WAAagD,EAAIJ,OAAQ9J,WA5ErGkyB,GAKKC,cAAW34B,EA6EP04B,U,SC/F+C39B,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,+BAAAC,EAAA,+DAELD,EAAOE,KAFF,IAE3Eo6C,sBAF2E,aAEnDC,mBAFmD,aAE/B9zC,qBAF+B,SAG7ErG,EAAS,IAAIC,cAHgE,SAIjED,EAAOE,KAAKC,UAAai6C,SAAU,CACjDpvC,MAAOmvC,EACP7uC,SAAU4uC,EACVvvC,QAAStE,IAPsE,UAUhE,OANbvF,EAJ6E,QAU3EiG,OAV2E,yCAWxE,CACHjH,KAAM,CACFu6C,cAAc,KAbyD,gCAiB5E,CACHv6C,KAAM,CACF+G,MAAO/F,EAAIG,WAnBgE,2CAAzB,uDAAtCq5C,G,GAAT35C,QAAkC45C,G,GAAR36C,OCAzC,MAAM46C,OACKC,WAAa,YADlBD,GAEKE,UAAY,WAEvB,MAAMC,GAAuB,CACzB,CAACH,GAAwBC,YAAaH,GACtC,CAACE,GAAwBE,WAAYv3C,yBAGzC,SAASy3C,GAAoBv3C,EAAOzD,GAChC,OAAQA,EAAO0D,MACX,KAAKk3C,GAAwBC,WACzB,OAAOF,GAASl3C,EAAOzD,EAAOE,MAClC,KAAK06C,GAAwBE,UACzB,OAAOn3C,yBAAeF,EAAOzD,EAAOE,MACxC,QACI,OAAOuD,G,qBCVnB,MAAM4E,GAAY,CACdkyC,aAAa,EACbD,gBAAgB,EAChB7zC,eAAe,EACfg0C,cAAc,EACdxzC,WAAOlC,EACPgN,SAAS,GAGPkpC,GAAoBl3C,IAAMC,gBAEhC,SAASk3C,KAAc,MAAD,EACSzyC,0BAAgBuyC,GAAqB3yC,GAAW0yC,IADzD,mBACXt3C,EADW,KACJa,EADI,OAEqBrD,EAAQuH,cAAvCjG,EAFU,EAEVA,eAAgBM,EAFN,EAEMA,WAEhB03C,EAE0B92C,EAF1B82C,YAAaD,EAEa72C,EAFb62C,eACjB7zC,EAC8BhD,EAD9BgD,cACAg0C,EAA8Bh3C,EAA9Bg3C,aAAaxzC,EAAiBxD,EAAjBwD,MAAM8K,EAAWtO,EAAXsO,QANL,4CAQlB,8BAAA9R,EAAA,6DACUG,EAAS,IAAIC,cADvB,SAE0BD,EAAOwB,IAAIrB,UAAa46C,SAAU,IAF5D,OAG2B,OADjB92C,EAFV,QAGgB8C,QACR7C,EAAU,CACNZ,KAAMk3C,GAAwBE,UAC9B56C,KAAM,CACFq6C,YAAa96C,QAAQ4E,EAAQhD,QAAQ+J,OACrCkvC,eAAgB76C,QAAQ4E,EAAQhD,QAAQqK,UACxCjF,cAAehH,QAAQ4E,EAAQhD,QAAQ0J,SACvCgH,SAAS,KAVzB,4CARkB,sBA6BlB,OALA3M,oBAAU,MAxBQ,mCAyBdg2C,IACF,CAACX,EAAaxzC,IAIZ,kBAACg0C,GAAkB51C,SAAnB,CAA4BqD,MAAO,CAAEpE,cAChCm2C,GAAgB,kBAAC,IAAD,CACbvyC,UAAQ,EACRC,QAAQ,UACRtC,YAAY,gBACZnC,KAAK,UACL23C,UAAQ,IAEXp0C,GAAS,kBAAC,IAAD,CACNiB,UAAQ,EACRC,QAAQ,OACRtC,YAAaoB,EACbvD,KAAK,QACL23C,UAAQ,IAGRtpC,GAAW,kBAAC,GAAD,OAEbA,GAAW,kBAAC,IAAD,CAAMzM,MAAM,kCACrB,kBAAC,IAAD,iBAAU/C,EAAV,CAA0BoG,UAAU,aAAaC,SAAWC,IACxDvE,EAAUxE,IAAY4F,WAAWk1C,GAAwBC,WAAYhyC,OAErE,kBAAC,IAAK3C,KAAN,CACI4C,MAAM,0BACNlI,KAAK,kBAEL,kBAAC,KAAD,CAAQ06C,eAAgBhB,EAAgBiB,gBAAgB,SAASC,kBAAkB,cAGvF,kBAAC,IAAKt1C,KAAN,CACI4C,MAAM,mBACNlI,KAAK,eAEL,kBAAC,KAAD,CAAQ06C,eAAgBf,EAAagB,gBAAgB,SAASC,kBAAkB,cAGpF,kBAAC,IAAKt1C,KAAN,CACI4C,MAAM,sBACNlI,KAAK,iBAEL,kBAAC,KAAD,CAAQ06C,eAAgB70C,EAAe80C,gBAAgB,SAASC,kBAAkB,cAGtF,kBAAC,IAAKt1C,KAASrD,EACX,kBAAC,IAAD,CAAQa,KAAK,UAAUwF,SAAS,UAAhC,a,wBCzFxB,SAASuyC,GAAav3C,GAAQ,MAClBigB,EAAwDjgB,EAAxDigB,aAAcu3B,EAA0Cx3C,EAA1Cw3C,cAAuBC,EAAmBz3C,EAA3BwpC,OADZ,EAEVlT,IAAKC,UAAbtE,EAFkB,sBAGG1xB,mBAAS,IAHZ,mBAGlB+8B,EAHkB,KAGVoa,EAHU,OAIDn3C,mBAAS,IAJR,mBAIlBvE,EAJkB,KAIZuU,EAJY,OAKGhQ,mBAAS,IALZ,mBAKlBolC,EALkB,KAKVgS,EALU,OAMKp3C,oBAAS,GANd,mBAMlBsN,EANkB,KAMTwE,EANS,OAOW9R,oBAAS,GAPpB,mBAOlBq3C,EAPkB,KAONC,EAPM,OAQAt3C,wBAASM,GART,mBAQlBkC,EARkB,KAQZmtC,EARY,OAUyC4H,aAAe97C,GAAzEi4B,EAViB,EAUjBA,KAAM/N,EAVW,EAUXA,OAAQ6xB,EAVG,EAUHA,OAAQC,EAVL,EAUKA,KAAM9tC,EAVX,EAUWA,KAAgB+tC,GAV3B,EAUiBC,SAVjB,EAU2BD,WAC5C1M,EAAmBtZ,EAAnBsZ,eAERrqC,oBAAU,KACN+2C,EAAUj8C,IACX,CAACA,IAEJ,MAoBMgd,EApBWskB,EAAOprB,OAAOxB,GAAiB,OAATA,GAAeD,IAAIC,GAClDuP,GAAgBA,EAAavP,GAAcuP,EAAavP,GAAM,CAAEqnC,WAC7D,CACH32C,MAAOsP,EACPmI,UAAWnI,EACX7O,IAAK6O,EACLU,OAAQ,CAAC7G,EAAMmB,EAAKoN,IAChB,oCACI,kBAAC,IAAK9W,KAAN,CAAWtF,KAAI,iBAAYq7C,EAAOj/B,GAAnB,aAA8BpI,GAAQw6B,aAAc3gC,GAC/D,kBAAC,IAAD,CACItI,MAAO,CACH4Q,MAAO,IACPxB,YAAa,UAQhB4xB,OAAO,CAAC,CAC7BphC,IAAK,UACLT,MAAO,GACPyX,UAAW,UACXzH,OAAQ,CAAC7G,EAAMmB,EAAKoN,IAEhB,oCACI,kBAAC,IAAK9W,KAAN,CAAWtF,KAAI,iBAAYq7C,EAAOj/B,GAAnB,cACX,kBAAC,IAAOyN,MAAR,KACI,kBAAC,IAAD,CAAQ/mB,KAAK,SAASoC,QAAS,IAAMskB,EAAOpN,IAA5C,gBAqBdq/B,EAAYljB,sBAAatwB,IAC3BgzC,EAAUhzC,GACV,IAAIyzC,EAAM,0BACE,uCAAG,4BAAAr8C,EAAA,sDACLqM,EAAS,GACfmB,OAAO8mB,QAAQ1rB,GAAQ8L,IAAI,EAAEkyB,EAAW0V,MACpC,MAAMC,EAAUF,EAAIG,KAAK5V,GACnB7pB,EAAQ2P,OAAO6vB,EAAQ,IACvBx4B,EAAQw4B,EAAQ,GACjBlwC,EAAO0Q,KACR1Q,EAAO0Q,GAAS,IAEhBu/B,IACAjwC,EAAO0Q,GAAOgH,GAASu4B,KAG3BZ,GACAA,EAAe,CAAErvC,SAAQiK,eAdlB,2CAAH,qDAiBZm3B,IACD,CAACn3B,IAgEJ,MAAO,CAAEujB,GA9DE,KACP,IAAIgiB,EAAW,CACX,MAAM3B,EAAaj9B,EAAQvI,IAAIC,IAC3BA,EAAI,OAAa,CAACnG,EAAMmB,EAAKoN,IAClB,8BAAOvO,GAEXmG,IAEX,OAAO,kBAAC,KAAD,CACPsI,QAASi9B,EACTx8B,WAAYzd,EACZw8C,YAAY,IAGhB,OAAO,oCACH,kBAAC,IAAD,CAAMvmB,KAAMA,GACR,kBAAC,KAAD,CACIwmB,UAAW,CAACC,EAAUC,IAAaX,EAAKU,EAAUC,GAClDC,eAAgB,8BAEf71C,GAAS,kBAAC,GAAD,CAAUkB,QAASlB,IAC7B,kBAAC,KAAD,CACIiW,QAASA,EACTS,WAAYwa,EACZ4kB,OAAQ,CAACC,EAAGhgC,IAAUi/B,EAAOj/B,GAAOpQ,WACpC8vC,YAAY,KAGpB,kBAAC,IAAD,CACIv2C,MAAO,CACHwnC,UAAW,GAEf98B,OAAK,EACLnN,KAAK,SACLoC,QAAS,IACLsI,EArEF,MACd,GAAIstC,EACA,OAAOA,EAAcx+B,GAEzB,MAAM+/B,EAAU,GAIhB,OAHA//B,EAAQvI,IAAIC,IACRqoC,EAAQroC,GAAQ,KAEbqoC,GA6DcC,KAPb,aAYA,kBAAC,IAAD,CACIx5C,KAAK,UACLyC,MAAO,CACHwnC,UAAW,IAEf57B,QAASA,EACTjM,QAAS,KACLu2C,EAAU5M,OAPlB,UAYCvrC,EAAMi5C,OAAS,yBACZh3C,MAAO,CACH8d,WAAY,QAGf4lB,GAAM,mBAAgB/nC,KAAKC,UAAU8nC,EAAQ,KAAM,QAKvD3pC,OAAMshC,SAAQ/sB,UAASmnC,YAAWrlC,aAAWwlC,gBAAe3H,YCtJ7E,SAASgJ,GAAQl5C,GAAQ,MAAD,EAEQO,wBAASM,GAFjB,mBAEbiP,EAFa,KAELqpC,EAFK,KAGd3mC,EAAQ,IAAIrW,cAHE,EAIuCo7C,GAAa,CACpE/N,OAAO,WAAD,4BAAE,YAAO,OAAEphC,EAAF,WAAUiK,IAAjB,iBAAAtW,EAAA,sDACJsW,GAAW,GACX69B,OAASrvC,GACAolB,EAAI,EAHT,YAGYA,EAAI7d,EAAOoI,QAHvB,iCAIkBgC,EAAMpW,KAAKC,UAAa+8C,WAAYhxC,EAAO6d,IAJ7D,UAKkB,OADZjpB,EAJN,QAKOiG,OALP,wBAMIoP,GAAW,GACX69B,EAASlzC,EAAIG,SAPjB,2BAG+B8oB,IAH/B,uBAWJkzB,EAAUxyB,GAAMG,cAChBzU,GAAW,GAZP,4CAAF,mDAAC,GAcP4N,aAAc,CACV5W,SAAU,EAAG0uC,aACF,CACH32C,MAAO,WACPyX,UAAW,WACXhX,IAAK,WACLuP,OAAQ,CAAC7G,EAAMmB,EAAKoN,KAChB,IAAItU,GAAQ,EAIZ,OAHa,IAAT+F,IACA/F,GAAQ,GAEL,oCACH,kBAAC,IAAKxC,KAAN,CAAWtF,KAAI,iBAAYq7C,EAAOj/B,GAAnB,cAAuCoyB,aAAc1iB,OAAOhkB,IACvE,kBAAC,KAAD,KACI,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,QAArB,QACA,kBAAC,KAAOsO,OAAR,CAAetO,MAAM,SAArB,kBA9BxBoxB,EAJY,EAIZA,GAAIrlB,EAJQ,EAIRA,QAASmnC,EAJD,EAICA,UAAWG,EAJZ,EAIYA,cAAe3H,EAJ3B,EAI2BA,SAoD/C,OAXAhvC,oBAAU,MACK,uCAAG,4BAAAnF,EAAA,sEACQyW,EAAM9U,IAAIrB,UAAaoW,YAAa,IAD5C,OAES,OADbzV,EADI,QAEFiG,SACJy0C,EAAU16C,EAAIG,QAAQmgC,QACtB/sB,EAAQvT,EAAIG,QAAQnB,OAJd,2CAAH,qDAOXqO,IACD,CAACyF,IAEG,yBAAKrL,UAAU,iBAClB,kBAAC,KAAD,CAAQ4yC,gBAAgB,YAAYC,kBAAkB,YAAY1kC,SAC7D+Z,IACGkrB,EAAclrB,MAGtB,kBAAC,IAAD,CAASntB,KAAK,eACbo2B,KCeMyjB,OA/Ef,WAA2B,MAAD,EACI94C,wBAASM,GADb,mBACfkC,EADe,KACRmtC,EADQ,OAEkB3vC,wBAASM,GAF3B,mBAEf01C,EAFe,KAED+C,EAFC,KAIhB9P,EAASvU,sBAAW,uCAAC,WAAOtwB,GAAP,mBAAA5I,EAAA,yDACyB4I,EAAxC9B,SAAU02C,EAA8B50C,EAA9B40C,YAAaC,EAAiB70C,EAAjB60C,aAC3BD,IAAgBC,EAFG,uBAGnBtJ,EAAS,sCAHU,0BAMjB19B,EAAQ,IAAIrW,cACNqW,EAAMpW,KAAKC,UAAao9C,qBAAsB90C,GAC1D20C,EAAgB,iCARO,2CAAD,sDASvB,IAEH,OAAO,kBAAC,IAAD,CAAM70C,UAAU,uBAClB8xC,GAAgB,kBAAC,IAAD,CACbvyC,UAAQ,EACRC,QAAQ,UACRtC,YAAY,gBACZnC,KAAK,UACL23C,UAAQ,IAEXp0C,GAAS,kBAAC,IAAD,CACNiB,UAAQ,EACRC,QAAQ,OACRtC,YAAaoB,EACbvD,KAAK,QACL23C,UAAQ,IAEZ,kBAAC,IAAD,CAAM1yC,UAAU,aAAaC,SAAWC,IACpC6kC,EAAO7kC,KAGP,kBAAC,IAAK3C,KAAN,CACI4C,MAAM,qBACNlI,KAAK,WACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,2CAIjB,kBAAC,IAAMc,SAAP,OAEJ,kBAAC,IAAK/C,KAAN,CACI4C,MAAM,eACNlI,KAAK,cACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,qCAIjB,kBAAC,IAAMc,SAAP,OAEJ,kBAAC,IAAK/C,KAAN,CACI4C,MAAM,eACNlI,KAAK,eACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,2CAIjB,kBAAC,IAAMc,SAAP,OAEJ,kBAAC,IAAK/C,KAAN,KACI,kBAAC,IAAD,CAAQxC,KAAK,UAAUwF,SAAS,UAAhC,c,MCpERtF,GAAYC,IAAZD,QAGFyE,GAAY,CACdlI,YAAa,oBAGXy9C,GAAsB75C,IAAMC,gBAElC,SAAS65C,KAAgB,MAAD,EACOp1C,0BAAgBuyC,GAAqB3yC,GAAW0yC,IADvD,mBACbt3C,EADa,KACNa,EADM,KAEbnE,EAAesD,EAAftD,YACP,OACI,kBAACy9C,GAAoBv4C,SAArB,CAA8BqD,MAAO,CAAEpE,cACnC,yBAAKqE,UAAU,aACX,yBAAKA,UAAU,kBACX,kBAAC,IAAD,CACIxC,MAAO,CAAE4Q,MAAO,KAChB+mC,oBAAqB,CAAC,oBACtBC,gBAAiB,CAAC,oBAClB93C,KAAK,UAEL,kBAAC,GAAD,CACIF,IAAI,mBACJT,MACI,8BACI,kBAAC04C,GAAA,EAAD,MACA,oDAIR,kBAAC,IAAK93C,KAAN,CAAWH,IAAI,mBAAmBD,QAAS,KACvCxB,EAAU,CACNZ,KAAK,WACLxD,KAAK,CAACC,YAAY,wBAH1B,oBAMA,kBAAC,IAAK+F,KAAN,CAAWH,IAAI,wBAAwBD,QAAS,KAC5CxB,EAAU,CACNZ,KAAK,WACLxD,KAAK,CAACC,YAAY,6BAH1B,oBAOJ,kBAAC,GAAD,CACI4F,IAAI,kBACJT,MACI,8BACI,kBAAC04C,GAAA,EAAD,MACA,mDAIR,kBAAC,IAAK93C,KAAN,CAAWJ,QAAS,KAChBxB,EAAU,CACNZ,KAAK,WACLxD,KAAK,CAACC,YAAY,cAEvB4F,IAAI,WALP,cASZ,yBAAK4C,UAAU,kBACK,qBAAdxI,GAAoC,kBAAC+6C,GAAD,MACtB,YAAd/6C,GAA2B,kBAACi9C,GAAD,MACX,0BAAhBj9C,GAA2C,kBAAC,GAAD,SCrEjE,SAAS89C,GAAc/5C,GAAQ,MAAD,EACAO,wBAASM,GADT,mBACnBkC,EADmB,KACZmtC,EADY,OAEI3vC,wBAASM,GAFb,mBAEnBm5C,EAFmB,KAEVC,EAFU,OAGI15C,wBAASM,GAHb,mBAGnBL,EAHmB,KAGVC,EAHU,OAIIF,oBAAS,GAJb,mBAInBsN,EAJmB,KAIVwE,EAJU,OAKXikB,IAAKC,UAAbtE,EALmB,oBAyB1B,MAAO,CAAE2D,GAhBE,EAAGskB,YAAW94C,QAAOooC,YAC5B,yBAAK/kC,UAAU,qCACX,kBAAC,IAAD,CAAMrD,MAAOA,EAAOa,MAAO,CAAE4Q,MAAO,QAChC,kBAAC,IAAD,CAAMof,KAAMA,GACPlvB,GAAS,kBAAC,GAAD,CAAUkB,QAAS,kBAAC,IAAD,CAAkB5B,GAAIU,MAClDi3C,GAAW,kBAAC,GAAD,CAAU54C,MAAO,kBAAC,IAAD,CAAkBiB,GAAG,mBAAoB7C,KAAK,UAAUyE,QAAS,kBAAC,IAAD,CAAkB5B,GAAI23C,MACnHE,GAEL,kBAAC,IAAKl4C,KAAN,KACI,kBAAC,IAAD,CAAQxC,KAAK,UAAUqO,QAASA,EAASjM,QACrC4nC,GACF,kBAAC,IAAD,CAAkBnnC,GAAG,cAK1B4vB,OAAMie,WAAU79B,aAAY8nC,UAnBvB,IACPloB,EAAKsZ,iBAkBmC9qC,aAAWD,UAAQy5C,cCpB1E,SAASG,GAAep6C,GAAQ,MAAD,EAES+5C,KAA5BnkB,EAFmB,EAEnBA,GAAIsa,EAFe,EAEfA,SAAS+J,EAFM,EAENA,WAFM,EAGA15C,wBAASM,GAHT,mBAGpByR,EAHoB,KAGbC,EAHa,KAIrBi3B,EAAM,uCAAG,8BAAAztC,EAAA,yDACPuW,EADO,uBAET49B,EAAS,6BAFA,iCAKL19B,EAAQ,IAAIrW,cALP,SAMOqW,EAAMpW,KAAKC,UAAag+C,WAAY,CAAE3nC,QAASJ,IANtD,UAOQ,OADbtV,EANK,QAOHiG,OAPG,wBAQPlG,EAAQu9C,WAAWt9C,GACnBi9C,EAAW,QATJ,2BAYX/J,EAASlzC,EAAIG,SAZF,4CAAH,qDAeZ,OAAOy4B,EAAG,CACNx0B,MAAO,kBAAC,IAAD,CAAkBiB,GAAG,wBAC5BmnC,SACA0Q,UAAW,oCACP,kBAAC,IAAKl4C,KAAN,CAAW4C,MAAO,kBAAC,IAAD,CAAkBvC,GAAG,kBAClCtF,EAAQM,cAAR,SAAoC,eAEzC,kBAAC,IAAK2E,KAAN,CAAW4C,MAAO,kBAAC,IAAD,CAAkBvC,GAAG,YACnC,kBAAC+P,GAAD,CAAkBO,UAAYL,IAAaC,EAAUD,U,0BC1BrE,SAASioC,GAAav6C,GAAQ,MAAD,EAEW+5C,KAA5BnkB,EAFiB,EAEjBA,GAAIsa,EAFa,EAEbA,SAAS+J,EAFI,EAEJA,WAFI,ECP7B,SAAwBj6C,GAAQ,MAAD,EACFO,mBAASP,EAAMkrC,cAAgB,IAD7B,mBACpB1mC,EADoB,KACd+G,EADc,KAuB3B,MAAO,CAACqqB,GArBI,IACR,kBAAC,KAAD,KACA,kBAAC,KAAD,CAAKp3B,KAAM,IACT,kBAAC,KAAD,CACEg8C,IAAK,GACLC,IAAK,IACL7nC,SAAWpO,IAAS+G,EAAS/G,IAC7BA,MAAOA,KAGX,kBAAC,KAAD,CAAKhG,KAAM,GACT,kBAAC,KAAD,CACEg8C,IAAK,GACLC,IAAK,IACLx4C,MAAO,CAAE2P,OAAQ,UACjBpN,MAAOA,EACPoO,SAAWpO,IAAS+G,EAAS/G,QAK1BA,SDb8Bk2C,CAAe,CACpDxP,aAAanuC,EAAQM,cAAR,eAA0C,KADjDs9C,EAHe,EAGlB/kB,GAAmBglB,EAHD,EAGLp2C,MAGdglC,EAAM,uCAAG,8BAAAztC,EAAA,yDACP6+C,EADO,uBAET1K,EAAS,6BAFA,iCAKL19B,EAAQ,IAAIrW,cALP,SAMOqW,EAAMpW,KAAKC,UAAag+C,WAAY,CAAEQ,cAAeD,IAN5D,UAOQ,OADb59C,EANK,QAOHiG,OAPG,wBAQPlG,EAAQu9C,WAAWt9C,GACnBi9C,EAAW,QATJ,2BAYX/J,EAASlzC,EAAIG,SAZF,4CAAH,qDAeZ,OAAOy4B,EAAG,CACNx0B,MAAO,kBAAC,IAAD,CAAkBiB,GAAG,sBAC5BmnC,SACA0Q,UAAW,oCACP,kBAAC,IAAKl4C,KAAN,CAAW4C,MAAO,kBAAC,IAAD,CAAkBvC,GAAG,kBAClCu4C,GAEL,kBAAC,IAAK54C,KAAN,CAAW4C,MAAO,kBAAC,IAAD,CAAkBvC,GAAG,YAClCs4C,Q,MEjCTj7C,GAAYC,IAAZD,QACR,SAASo7C,KAAY,MAAD,EACqBv6C,mBAAS,mBAD9B,mBACTtE,EADS,KACG8+C,EADH,KAEhB,OACI,yBAAKt2C,UAAU,aACP,yBAAKA,UAAU,kBACX,kBAAC,IAAD,CACIxC,MAAO,CAAE4Q,MAAO,KAChB+mC,oBAAqB,CAAC,mBACtBC,gBAAiB,CAAC,qBAClB93C,KAAK,UAEL,kBAAC,GAAD,CACIF,IAAI,oBACJT,MACI,8BACI,kBAAC04C,GAAA,EAAD,MACA,8BAAM,kBAAC,IAAD,CAAkBz3C,GAAG,yBAInC,kBAAC,IAAKL,KAAN,CAAWH,IAAI,kBAAkBD,QAAS,KACvCm5C,EAAe,qBACf,kBAAC,IAAD,CAAkB14C,GAAG,gBACxB,kBAAC,IAAKL,KAAN,CAAWH,IAAI,cAAcD,QAAS,KAClCm5C,EAAe,iBAChB,kBAAC,IAAD,CAAkB14C,GAAG,oBAKpC,yBAAKoC,UAAU,kBACK,oBAAdxI,GAAmC,kBAACm+C,GAAD,MACrB,gBAAdn+C,GAA+B,kBAACs+C,GAAD,QC1BrD,MAAMp2C,GAAY,CACdlI,YAAa,QACbU,SAAS,GAGP2D,GAAoBT,IAAMC,gBAEhC,SAASk7C,GAAWh7C,GAAQ,MACjBG,EAAWH,EAAXG,QADgB,EAEIoE,0BAAgBjF,EAAmB6E,GAAWhF,GAFlD,mBAEhBI,EAFgB,KAETa,EAFS,KAGfnE,EAAyBsD,EAAzBtD,YAAaU,EAAY4C,EAAZ5C,QAMrB,OAJAuE,oBAAU,KACNd,EAAUxE,IAAY4F,WAAWxC,EAAsBE,cAAe,MACvE,IAGC,kBAACoB,GAAkBa,SAAnB,CAA4BqD,MAAO,CAAEpE,cACjC,yBAAKqE,UAAU,eACX,yBAAKA,UAAU,sBACX,kBAAC1E,EAAD,CAAeI,QAASA,EAASF,YAAatD,EAASuD,YAAanD,EAAQ4D,UAAW1E,YAAaA,KAExG,yBAAKwI,UAAU,oBACM,aAAhBxI,GAA8B,kBAAC,GAAD,MACd,aAAhBA,IAA+BU,GAAW,kBAACuI,GAAD,MAC1B,YAAhBjJ,GAA6BU,GAAW,kBAAC,GAAD,MACxB,aAAhBV,GAA8BU,GAAW,kBAAC,GAAD,MACzB,UAAhBV,GAA2BU,GAAWI,EAAQ4D,WAAa,kBAAC,GAAD,MAC3C,aAAhB1E,GAA8BU,GAAW,kBAACm+C,GAAD,OAE9C,yBAAKr2C,UAAU,sBACX,yBAAKxC,MAAO,CAAE+a,OAAQ,QAASi+B,UAAW,SAAUpoC,MAAO,SAA3D,0DAC2D,uBAAGpO,UAAU,YAChEspB,KAAK,gCAD8C,iCAEvD,iCAAM,uBAAGrO,OAAO,SACZqO,KAAK,+EAA8E,yBAC/E2kB,IAAI,KAFN,4D,SC7CyC92C,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,uBAAAC,EAAA,6DACtFG,EAAS,IAAIC,cADyE,EAEtEL,EAAOE,KAArBU,EAFoF,EAEpFA,KAAM+K,EAF8E,EAE9EA,IAF8E,SAG1EvL,EAAOE,KAAKC,UAAa+8C,WAAY,CAAE18C,OAAM+K,QAH6B,UAIzE,OADbzK,EAHsF,QAIpFiG,OAJoF,yCAKjF,CACHjH,KAAM,CACF+G,MAAOnF,KAAKO,MAAMnB,EAAIG,SAAS+F,OAPiD,gCAWrF,CACHlH,KAAM,CACF+G,WAAOlC,EACPL,QAAS1E,EAAO+C,QAAQ2B,QAAU,KAdkD,2CAAzB,uDAAjD06C,G,GAARr+C,QAAsCs+C,G,GAAPr/C,O,GCDkCF,IAAYC,aAAZ,uCAAyB,WAAOC,GAAP,SAAAC,EAAA,+EAC7F,CACHC,KAAM,CACF+G,WAAOlC,EACPL,QAAS1E,EAAO+C,QAAQ2B,QAAU,KAJ0D,2CAAzB,uDAAzD46C,G,GAARv+C,QAA0Cw+C,G,GAAPv/C,OCCjD,MAAMw/C,OACKC,cAAc,gBADnBD,GAEKE,UAAY,YAFjBF,GAGKG,cAAgB,gBAG3B,MAAMC,GAA0B,CAC5B,CAACJ,GAAoBC,eAAgBn4C,EACrC,CAACk4C,GAAoBE,WAAYN,GACjC,CAACI,GAAoBG,eAAgBL,IAGzC,SAASO,GAAgBp8C,EAAOzD,GAC5B,OAAQA,EAAO0D,MACX,KAAK87C,GAAoBC,cACrB,OAAOl4C,EAAe9D,EAAOzD,EAAOE,MACxC,KAAKs/C,GAAoBE,UACrB,OAAOL,GAAgB57C,EAAOzD,EAAOE,MACzC,KAAKs/C,GAAoBG,cACrB,OAAOJ,GAAoB97C,EAAOzD,EAAOE,MAC7C,QACI,OAAOuD,G,eCsCJq8C,OAxDf,WAA6B,MAEjBx7C,EAAcC,qBAAWw7C,IAAzBz7C,UAFgB,EAGerD,EAAQuH,cAAvCjG,EAHgB,EAGhBA,eAAgBM,EAHA,EAGAA,WAExB,OAAO,kBAAC,IAAD,iBAAUN,EAAV,CAA0BoG,UAAU,aAAaC,SAAWC,IAC/DvE,EAAU,CACNZ,KAAM87C,GAAoBC,cAC1Bv/C,KAAM2I,OAIV,kBAAC,IAAK3C,KAAN,CACI4C,MAAM,qBACNlI,KAAK,WACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,2CAIjB,kBAAC,IAAMc,SAAP,OAEJ,kBAAC,IAAK/C,KAAN,CACI4C,MAAM,eACNlI,KAAK,cACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,qCAIjB,kBAAC,IAAMc,SAAP,OAEJ,kBAAC,IAAK/C,KAAN,CACI4C,MAAM,eACNlI,KAAK,WACLmI,MAAO,CACH,CACIC,UAAU,EACVb,QAAS,2CAIjB,kBAAC,IAAMc,SAAP,OAEJ,kBAAC,IAAK/C,KAASrD,EACX,kBAAC,IAAD,CAAQa,KAAK,UAAUwF,SAAS,UAAhC,SCAG82C,OAjDf,WAAuB,MAEX17C,EAAcC,qBAAWw7C,IAAzBz7C,UAFU,EAGkBrD,EAAQuH,cAArCjG,EAHW,EAGXA,eAAeM,EAHJ,EAGIA,WAChBo9C,EAAe,CAAEj3C,UAAU,EAC7Bb,QAAS,YAEb,OAAO,kBAAC,IAAD,iBAAU5F,EAAV,CAA0BoG,UAAU,aAAaC,SAAWC,IAC/DvE,EAAU,CACNZ,KAAM87C,GAAoBE,UAC1Bx/C,KAAM2I,OAGV,kBAAC,IAAK3C,KAAN,CACI4C,MAAM,cACNlI,KAAK,OACLmI,MAAO,CAACk3C,IAER,kBAAC,IAAD,OAGJ,kBAAC,IAAK/5C,KAAN,CACI4C,MAAM,aACNlI,KAAK,MACLmI,MAAO,CAACk3C,IAER,kBAAC,IAAD,OAGJ,kBAAC,IAAK/5C,KAASrD,EACX,kBAAC,IAAD,CAAQa,KAAK,UAAUwF,SAAS,UAAhC,MAGJ,kBAAC,IAAD,CAASxF,KAAK,aACd,kBAAC,IAAD,CAAQoC,QACHxD,IACCA,EAAEwX,iBACFxV,EAAU,CACRZ,KAAM87C,GAAoBG,cAC1Bz/C,KAAM,MAGZgJ,SAAS,UARX,W,SCtCwEpJ,IAAYC,aAAcC,IAC/F,CAAEE,KAAMF,EAAOE,QADHggD,G,GAATn/C,QAA2Co/C,G,GAAPngD,O,GAIoBF,IAAYC,aAAcC,IACrF,CAAEE,KAAM,CAACkgD,eAAe,MADXC,G,GAATt/C,QAAsCu/C,G,GAARtgD,O,GAI4BF,IAAYC,aAAcC,IACxF,CAAEE,KAAM,CAACkgD,eAAe,MADZG,G,GAARx/C,QAAuCy/C,G,GAARxgD,OCT9C,MAAMygD,OAEKC,WAAa,YAFlBD,GAGKE,SAAW,UAHhBF,GAIKL,cAAgB,gBAG3B,MAAMQ,GAAqB,CACvB,CAACH,GAAeE,UAAWN,GAC3B,CAACI,GAAeC,YAAaH,GAC7B,CAACE,GAAeL,eAAgBF,IAGpC,SAASW,GAAWp9C,EAAOzD,GACvB,OAAQA,EAAO0D,MACX,KAAK+8C,GAAeE,SAChB,OAAOL,GAAc78C,EAAOzD,EAAOE,MACvC,KAAKugD,GAAeC,WAChB,OAAOF,GAAgB/8C,EAAOzD,EAAOE,MACzC,KAAKugD,GAAeL,cAChB,OAAOD,GAAoB18C,EAAOzD,EAAOE,MAC7C,QACI,OAAOuD,GCmBJq9C,OApCf,WAAiB,MAELx8C,EAAcC,qBAAWw8C,IAAzBz8C,UAFI,EAGwBrD,EAAQuH,cAArCjG,EAHK,EAGLA,eAAeM,EAHV,EAGUA,WACtB,OAAO,oCACH,kBAAC,IAAD,CACIsF,QAAQ,iBACRtC,YAAY,gDACZnC,KAAK,YAET,kBAAC,IAAD,MACA,kBAAC,IAASnB,EACN,kBAAC,IAAK2D,KAASrD,EACX,kBAAC,IAAD,CAAQa,KAAK,UAAUoC,QACnB,KACIxB,EAAU,CACNZ,KAAM+8C,GAAeE,SACrBzgD,KAAM,OAJlB,oBAQA,kBAAC,IAAD,CAASwD,KAAK,aACd,kBAAC,IAAD,CAAQoC,QACJ,KACIxB,EAAU,CACNZ,KAAM+8C,GAAeC,WACrBxgD,KAAM,OAJlB,0B,+bCrBRslC,GAASC,KAATD,KAEFwb,GAAoBj5C,KAAOC,IAAV,MAOjBi5C,GAAiBl5C,KAAOC,IAAV,MAKdk5C,GAAen5C,KAAOC,IAAV,MAMZK,GAAY,CACdpB,WAAOlC,EACPL,QAAS,GAEPq7C,GAAkBh8C,IAAMC,gBAiDfm9C,OA/Cf,WAAqB,MAAD,EAEW14C,0BAAgBo3C,GAAiBx3C,GAAWu3C,IAFvD,mBAETn8C,EAFS,KAEFa,EAFE,KAIR2C,EAAmBxD,EAAnBwD,MAAOvC,EAAYjB,EAAZiB,QAEf,OACI,kBAACq7C,GAAgB16C,SAAjB,CAA0BqD,MAAO,CAAEpE,cAC/B,kBAAC08C,GAAD,KACI,kBAACC,GAAD,KACI,kBAAC,KAAD,CAAY37C,MAAM,oCAEtB,kBAAC,IAAD,MACA,kBAAC47C,GAAD,KACI,kBAAC,KAAD,CAAOx8C,QAASA,GACZ,kBAAC,GAAD,CAAMY,MAAM,sBAAsBO,YAAY,uBAC9C,kBAAC,GAAD,CAAMP,MAAM,cAAcO,YAAY,6BACtC,kBAAC,GAAD,CAAMP,MAAM,OAAOO,YAAY,mBAEnC,kBAAC,IAAD,MACCoB,GAAS,kBAAC,IAAD,CACNkB,QAAQ,UACRtC,YAAaoB,EACbvD,KAAK,QACLwE,UAAQ,IAGI,IAAZxD,GAAiB,kBAAC,IAAD,KACb,kBAAC,GAAD,OAIQ,IAAZA,GAAiB,kBAAC,IAAD,KACb,kBAAC,GAAD,OAIQ,IAAZA,GAAiB,kBAAC,IAAD,KACb,kBAAC,GAAD,W,oBCpCb08C,OApCD,CACVh2C,MAAO,eACPM,SAAU,eACVX,QAAS,qBACTs2C,kBAAmB,2BACnBC,SAAU,eACVC,MAAO,qBACPC,KAAM,eACNzf,MAAO,eACP0f,oBAAqB,iCACrBC,0BAA2B,qEAC3BC,WAAY,2BACZC,aAAc,qBACdC,OAAQ,eACRC,KAAM,eACNC,eAAgB,eAChBC,YAAa,2BACbC,kBAAmB,iFACnBC,eAAgB,qBAChBC,WAAY,qBACZC,YAAa,2BACbC,QAAS,eACTjsC,OAAQ,eACR9H,KAAM,eACN5O,OAAQ,eACRmT,KAAM,qBACNyvC,MAAO,eACPtZ,IAAK,eACLuZ,MAAO,eACPC,eAAgB,2BAChBC,eAAgB,iCAChBC,kBAAmB,2BACnBC,kBAAmB,uCACnBC,KAAM,gBCEKC,I,qBCpBf,MAAMx6C,GAAY,CACd+3C,eAAe,EACfruC,SAAS,EACT4e,KAAM,KACNlqB,eAAe,GAEbs6C,GAAah9C,IAAMC,gBAqCV8+C,OApCf,WAAgB,MAAD,EACgBr6C,0BAAgBo4C,GAAYx4C,GAAWu4C,IADvD,mBACJn9C,EADI,KACGa,EADH,KAEH87C,EAA8C38C,EAA9C28C,cAAeruC,EAA+BtO,EAA/BsO,QAAQ4e,EAAuBltB,EAAvBktB,KAAKlqB,EAAkBhD,EAAlBgD,cAFzB,4CAIX,8BAAAxG,EAAA,6DACUG,EAAS,IAAIC,cADvB,SAE0BD,EAAOwB,IAAIrB,UAAa46C,SAAU,IAF5D,OAG2B,OADjB92C,EAFV,QAGgB8C,QACR7C,EAAU,CACNZ,KAAM+8C,GAAeL,cACrBlgD,KAAM,CACFkgD,cAAe/7C,EAAQhD,QAAQ0hD,WAC/Bt8C,cAAepC,EAAQhD,QAAQ0J,UAAW,EAC1CgH,SAAS,KATzB,4CAJW,sBAuBX,OAJA3M,oBAAU,MAnBC,mCAoBPg2C,IACD,IAGC,kBAAC,KAAD,CAAc4H,OAAQryB,EAAMsyB,SAAU7B,IACtC,kBAAC,KAAD,CAAgB4B,OAAQE,MACpB,kBAACnC,GAAW17C,SAAZ,CAAqBqD,MAAO,CAAEpE,cACzByN,GAAW,kBAAC,GAAD,OACVA,IAAYquC,GAAiB,kBAAC,GAAD,OAC7BruC,GAAWquC,GAAiB,kBAAC,GAAD,CAAY/7C,QAAS,CAACoC,uBC1CpE08C,IAAS7tC,OACL,kBAAC,GAAD,MAAQyc,SAASqxB,eAAe,SlLmH9B,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAM54C,KAAK64C,IACjCA,EAAaC,gB,kEmLpGJ3jD,IA3Bf,MACI,oBAAoB4jD,GAChB,MAAO,CACH3iD,QAAS,EAAG4iD,WAAUC,WAAUC,aAC5B,MAAMv/C,EAAYq/C,EAClB,8CAAO,WAAO3jD,GAAP,eAAAC,EAAA,sEACgByjD,EAAc,2BAAK1jD,GAAN,IAAc+C,QAAS6gD,OADpD,OACG1jD,EADH,OAEHoE,EAAU,aACNZ,KAAM1D,EAAO0D,MACVxD,IAJJ,2CAAP,mDAAM,IAQVF,OAAQ,CAACyD,EAAOvD,IACL,2BAAKuD,GAAUvD,IAKlC,kBAAkBU,EAAM0L,GACpB,MAAO,CACH5I,KAAM9C,EACNV,KAAMoM,M,gCCtBlB,+CAAe,MAAM/L,KACVqJ,IAAM,qBADIrJ,EAEVujD,UAAY,wBAFFvjD,EAGVgkB,SAAW,mBAHDhkB,EAIV8T,WAAa,cAJH9T,EAKVqQ,SAAW,mBALDrQ,EAOViT,iBAAmB,sBAPTjT,EASVuQ,gBAAkB,0BATRvQ,EAUVyQ,oBAAsB,6BAVZzQ,EAWVoiC,cAAgB,+BAXNpiC,EAYVk+B,sBAAwB,gCAZdl+B,EAcV46C,SAAW,cAdD56C,EAeVi6C,SAAW,mBAfDj6C,EAiBV2G,SAAW,wBAjBD3G,EAkBViH,MAAQ,qBAlBEjH,EAmBVC,OAAS,sBAnBCD,EAqBV+8C,WAAa,qBArBH/8C,EAsBVoW,YAAc,sBAtBJpW,EAwBVm6B,iBAAmB,sBAxBTn6B,EA0BVs1B,gBAAkB,0BA1BRt1B,EA4BV+2B,mBAAqB,6BA5BX/2B,EA8BV02C,YAAc,sBA9BJ12C,EA+BV62C,WAAa,qBA/BH72C,EAiCVg+C,WAAa,4BAjCHh+C,EAkCVo9C,qBAAuB,yBAlCbp9C,EAoCVuhC,UAAY,0B,6HCjChB,MAAMiiB,KACFD,UAAY,WADVC,EAEFC,QAAU,SAFRD,EAGFE,YAAc,cAHZF,EAIFG,YAAc,eCJlB,MAAMC,EACTl4C,YAAY9E,EAAQ9F,EAAQmT,GACxBjJ,KAAKpE,OAASA,EACdoE,KAAKlK,QAAUA,EACfkK,KAAK7J,KAAO8S,GAIb,MAAM4vC,EAETn4C,YAAYN,EAAK04C,EAAe,IAC5B94C,KAAKI,IAAMA,EACNJ,KAAKI,MACNJ,KAAKI,IAAM24C,KAEf/4C,KAAK84C,aAAeA,EAGlB55C,QAAQzK,EAAQsM,EAAQuB,EAAS,OAAQ,IAAD,4IAa1C,IAASG,KAZTH,EAASA,EAAOC,eACV1M,EAAWX,eAAe2B,QAAQ2hD,EAAiBD,cAGrDx3C,EAAOy3C,EAAiBD,WAAa1iD,GAOrC2M,EAAW,GACMzB,EACb2B,EAAaC,mBAAmBF,GAChCG,EAAeD,mBAAmB5B,EAAO0B,IAC7CD,EAASK,KAAKH,EAAa,IAAME,GAhBK,OAkBtCE,EAAS,EAAK1C,IAAM3L,EAEpB+N,EAAS2G,OAAS,IAClBrG,GAAkB,KAGP,QAAXR,GACAQ,GAAkBN,EAASO,KAAK,KAChCP,OAAWhJ,GAEXgJ,EAAWA,EAASO,KAAK,KAGvBi2C,EAAe,CACjB12C,OAAQA,EACRW,QAAS,MACT7M,QAAS,CACL,eAAgB,oCAChB,OAAU,mBACV,eAAgBlB,eAAe2B,QAAQzB,MAAgB,IAE3DiL,KAAMmC,GAGJy2C,EA1CoC,2BA0ChBD,GAAiB,EAAKF,cA1CN,oBA6Cf91C,MAAMF,EAAQm2C,GA7CC,YA6ChChwC,EA7CgC,QA8CxB/H,GA9CwB,kCA+Cd+H,EAAS/F,OA/CK,eA+C5BxH,EA/C4B,yBAgD3B,IAAIk9C,EAAa3vC,EAASrN,OAAQF,IAhDP,yBAkDnBuN,EAAStJ,OAlDU,eAkDhCA,EAlDgC,yBAmD/B,IAAIi5C,EAAa,IAAKj5C,EAAKsJ,IAnDI,4DAqD/B,IAAI2vC,EAAa,IAAjB,UAA0Bp/C,IArDK,8D,YChB3C,MAAM1E,EAEX4L,cACEV,KAAKqL,QAAU,IAAIwtC,EAGfhjD,WAAY,IAAD,wIACG,EAAKQ,IAAIrB,UAAaujD,UAAW,IADpC,cACT5iD,EADS,yBAERA,GAFQ,6CAKX2L,UAAUrD,EAAKwD,EAASV,GAAS,IAAD,kJAClB,EAAKlL,WADa,UAEjB,OADbF,EAD8B,QAE5BiG,OAF4B,yCAG3BjG,GAH2B,gBAKFA,EAAIG,QAA9BD,EAL4B,EAK5BA,SAAUI,EALkB,EAKlBA,YAEZ2L,EAAc,CAClB3D,IAAKA,EACL4D,MAAOhM,EACP4L,QAASA,EACTK,gBAAgB,EAChBC,YAAY,EACZC,UAAU,EACVC,KAAMhM,GAAe,IAEvBiM,OAAOC,OAAOP,EAAab,GAhBS,UAiBjB,EAAKhM,KAAKC,UAAaqJ,IAAKuD,GAjBX,eAiB9B0hB,EAjB8B,yBAkB7BA,GAlB6B,8CA2BhCjtB,IAAI5B,EAAQsM,GAAS,IAAD,wIACN,EAAKsK,QAAQnM,QAAQzK,EAAQsM,EAAQrC,IAAOw6C,KADtC,cAClBvjD,EADkB,yBAEjBA,GAFiB,6CAWpBZ,KAAKN,EAAQsM,GAAS,IAAD,wIACP,EAAKsK,QAAQnM,QAAQzK,EAAQsM,EAAQrC,IAAOy6C,MADrC,cACnBxjD,EADmB,yBAElBA,GAFkB,8CAjDhBb,EACJD,OAAS,IAAIC,G,qdCJ+CP,EAAYC,aAAZ,uCAAyB,WAAOC,GAAP,SAAAC,EAAA,+EACnF,CACHC,KAAK,eACEF,EAAOE,QAHwE,2CAAzB,uDAA/CqD,E,EAARxC,QAAqC4C,E,EAAP3D,Q,4ECF5C,sGAAO,MACMskD,EADiB,GAIvB,MAAMr6C,KACFw6C,IAAM,MADJx6C,EAEFy6C,KAAO,OAFLz6C,EAGF06C,IAAM,MAHJ16C,EAIF80B,OAAU,SAGd,MAQMp+B,EAAc,CACvBC,KAAM,kB","file":"static/js/main.29a06ada.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import ActionMaker from \"../../ActionMaker\"\nimport { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\nimport { AccessToken } from \"../../../backend_service/backend/RestConst\"\n\nexport const {handler:SwitchActionHandler,action:SwitchAction} = ActionMaker.buildHandler(async (action)=>{\n    if(action.data.currentPage === \"logout\"){\n        const client = new ActionProxy()\n        await client.post(RemoteAction.LOGOUT, {})        \n        sessionStorage.removeItem(AccessToken.name)\n        sessionStorage.removeItem(\"user\")\n        return {        \n            data: {\n                currentPage: \"admin\",\n                logined: false\n            }\n        }\n    }\n    return {        \n        data: {\n            currentPage: action.data.currentPage\n        }\n    }\n})","import * as React from 'react';\nimport Cookies from 'universal-cookie';\nimport { AccessToken } from '../backend_service/backend/RestConst';\nclass UIMaker {\n\n    static setupLogin(res) {  \n        const user = {userName:res.content.name, role:res.content.role,extraOption:res.content.backendTags}\n        const token = res.resp.headers.get(AccessToken.name)\n        sessionStorage.setItem(AccessToken.name, token)\n        sessionStorage.setItem(\"user\",JSON.stringify(user))\n        const cookies = new Cookies();\n        cookies.set(AccessToken.name, token, { path: '/' })\n    }\n    \n    static updateUser(res){\n        const user = {userName:res.content.name, role:res.content.role,extraOption:res.content.backendTags}\n        sessionStorage.setItem(\"user\",JSON.stringify(user)) \n    }\n\n    static extraOption(){\n        const userStr = sessionStorage.getItem(\"user\") \n        if(!userStr) return {}\n        try{\n            return JSON.parse(JSON.parse(userStr).extraOption)\n        }catch(e){\n            return {}\n        }\n        \n    }\n\n    static isAdmin(){\n        const userStr = sessionStorage.getItem(\"user\") \n        if(!userStr) return false\n        const user = JSON.parse(userStr)\n        if(user.role===\"admin\") return true\n        return false\n    }\n\n    static logined(){\n        if(sessionStorage.getItem(AccessToken.name)) {\n            return true\n        }\n        return false\n    }\n    static formLayout2() {\n        const formItemLayout = {\n            labelCol: {\n                xs: {\n                    span: 4,\n                },\n                sm: {\n                    span: 8,\n                },\n            },\n            wrapperCol: {\n                xs: {\n                    span: 4,\n                },\n                sm: {\n                    span: 8,\n                },\n            },\n        };\n        const tailLayout = {\n            wrapperCol: {\n                offset: 8,\n                span: 16,\n            },\n        };\n        return { formItemLayout, tailLayout } \n    }\n    static formLayout1() {\n        const formItemLayout = {\n            labelCol: {\n                xs: {\n                    span: 24,\n                },\n                sm: {\n                    span: 8,\n                },\n            },\n            wrapperCol: {\n                xs: {\n                    span: 24,\n                },\n                sm: {\n                    span: 16,\n                },\n            },\n        };\n        const tailLayout = {\n            wrapperCol: {\n                offset: 8,\n                span: 16,\n            },\n        };\n        return { formItemLayout, tailLayout }\n    }\n}\n\nexport default UIMaker","import UIMaker from \"../../UIMaker\"\nimport ActionMaker from \"../../ActionMaker\"\n\nexport const {handler:CheckLoginedActionHandler,action:CheckLoginedAction} = ActionMaker.buildHandler(async (action)=>{\n    let currentPage = \"workshop\"\n    if(action.__state.currentPage===\"register\" && !UIMaker.logined()){\n        currentPage = \"register\"\n    }\n    return {        \n        data: {\n            ...action.data,\n            logined: UIMaker.logined(),\n            currentPage\n        }\n    }\n})","import { SwitchAction, SwitchActionHandler } from \"./SwitchAction\";\nimport { CheckLoginedActionHandler, CheckLoginedAction } from \"./CheckLoginedAction\";\nimport { SetStateAction, SetStateActionHandler } from \"../admin/actions/SetStateAction\";\nclass AppConsoleActionNames {\n    static SWITCH = \"switch\"\n    static CHECK_LOGINED = \"checkLogined\"\n}\nconst AppConsoleHandlers = {\n    [AppConsoleActionNames.SWITCH]: SwitchActionHandler,\n    [AppConsoleActionNames.CHECK_LOGINED]: CheckLoginedActionHandler,\n    setState: SetStateActionHandler\n}\n\nfunction AppConsoleReducer(state, action) {\n    switch (action.type) {\n        case AppConsoleActionNames.SWITCH:\n            return SwitchAction(state, action.data)\n        case AppConsoleActionNames.CHECK_LOGINED:\n            return CheckLoginedAction(state, action.data)\n        case \"setState\":\n            return SetStateAction(state, action.data)\n        default:\n            return state;\n    }\n}\nexport { AppConsoleActionNames, AppConsoleReducer, AppConsoleHandlers }","import React, { useState, useCallback, useEffect, useContext, useRef } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppConsoleContext } from '../AppConsole';\nimport { Menu, Divider, Alert } from 'antd';\nimport { HomeOutlined, AppstoreOutlined, SettingOutlined, MoreOutlined, LogoutOutlined, SelectOutlined, LoginOutlined } from '@ant-design/icons';\nimport ActionMaker from '../../ActionMaker';\nimport { AppConsoleActionNames } from '../actions/AppConsoleReducer';\nimport UIMaker from '../../UIMaker';\nimport Modal from 'antd/lib/modal/Modal'\nimport { FormattedMessage  } from 'react-intl'; \nconst { SubMenu } = Menu;\n\nconst ConsoleHeaderContext = React.createContext()\n\nfunction ConsoleHeader(props) {\n    const { currentPage, userLogined, isUserAdmin,appInfo } = props\n    const { dispacher } = useContext(AppConsoleContext)\n    const [current, setCurrent] = useState(currentPage)\n    const [logined, setLogined] = useState(userLogined)\n    const [isAdmin, setIsAdmin] = useState(isUserAdmin)\n    const [leave, setLeave] = useState(undefined)\n\n    const [enableConsole,setEnableConsole] = useState(false)\n    const tempCurrent = useRef()\n\n    useEffect(() => {\n        const { currentPage, userLogined, isUserAdmin } = props\n        setCurrent(currentPage)\n        setLogined(userLogined)\n        setIsAdmin(isUserAdmin)\n    }, [props]);    \n\n    return (\n        <ConsoleHeaderContext.Provider>\n            <Modal\n                title={\"Confirm\"}\n                visible={leave || false}\n                onCancel={() => { setLeave(undefined) }}\n                onOk={() => {\n                    setLeave(undefined)\n                    setCurrent(tempCurrent.current)\n                    dispacher(ActionMaker.buildEvent(\n                        AppConsoleActionNames.SWITCH, { currentPage: tempCurrent.current }\n                    ))\n                }}\n                cancelText=\"Cancel\"\n                okText=\"Leave\"\n            >\n                <Alert                    \n                    description={leave}\n                    type=\"info\"\n                />\n            </Modal>\n            <Menu onClick={(e) => {\n                if (logined && current === \"workshop\" && e.key !== \"workshop\") {\n                    tempCurrent.current = e.key\n                    setLeave(\"Do you wanna leave workshop? Please make sure you have saved your work before you leave.\")\n                } else {\n                    setCurrent(e.key)\n                    dispacher(ActionMaker.buildEvent(\n                        AppConsoleActionNames.SWITCH, { currentPage: e.key }\n                    ))\n                }\n\n            }} selectedKeys={[current]} mode=\"horizontal\">\n                <Menu.Item key=\"home\">\n                    <span style={{ fontSize: 32 }}>MLSQL Web Console</span>\n                </Menu.Item>\n                <Divider type=\"vertical\"></Divider>\n\n                {!logined && <Menu.Item key=\"login\" icon={<LoginOutlined />}>\n                    <FormattedMessage id=\"login\"/>\n                </Menu.Item>}\n                {!logined && <Menu.Item key=\"register\" icon={<SelectOutlined />}>\n                     <FormattedMessage id=\"register\"/>                    \n                </Menu.Item>}\n\n                {logined && appInfo.enableConsole && <Menu.Item key=\"console\" icon={<HomeOutlined />}>\n                    <FormattedMessage id=\"console\"/>\n                </Menu.Item>}\n                {logined && <Menu.Item key=\"workshop\" icon={<AppstoreOutlined />}>\n                   <FormattedMessage id=\"analysis_workshop\"/>                    \n                </Menu.Item>}\n                {\n                    logined && <Menu.Item key=\"settings\" icon={<SettingOutlined />}>\n                        <FormattedMessage id=\"settings\"/>                    \n                </Menu.Item>\n                }\n                {\n                    logined && isAdmin && <Menu.Item key=\"admin\" icon={<SettingOutlined />}>\n                        <FormattedMessage id=\"admin\"/>\n                    </Menu.Item>\n                }\n                {\n                    logined && <SubMenu icon={<MoreOutlined />} title={<FormattedMessage id=\"more\"/>}>\n                        <Menu.Item key=\"doc\"></Menu.Item>\n                        <Menu.Item key=\"logout\" icon={<LogoutOutlined />}>Logout</Menu.Item>\n                    </SubMenu>\n                }\n            </Menu>\n        </ConsoleHeaderContext.Provider>\n    )\n}\nexport { ConsoleHeader, ConsoleHeaderContext }","import { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../../backend_service/RemoteAction\"\nimport UIMaker from \"../../../UIMaker\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:RegisterActionHandler,action:RegisterAction} = ActionMaker.buildHandler(async(action)=>{\n        const { userName, password, password2 } = action.data        \n        if (password !== password2) {            \n            return {\n                data: {\n                    error: \"Passwords are not matched\"\n                }\n            }\n        }\n    \n        const client = new ActionProxy()\n        const res = await client.post(RemoteAction.REGISTER, {\n            userName, password\n        })\n    \n        let data = {}\n        if (res.status !== 200) {\n            data = {\n                error: JSON.parse(res.content).msg\n            }\n        } else { \n            //login                \n            UIMaker.setupLogin(res)\n            data = {\n                error: undefined, \n                logined: true,\n                current: action.__state.current + 1               \n            }\n        }\n        return {data}\n        \n})\n","import { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../../backend_service/RemoteAction\"\nimport UIMaker from \"../../../UIMaker\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:LoginActionHandler,action:LoginAction} = ActionMaker.buildHandler(async (action)=>{\n    const client = new ActionProxy()\n    const res = await client.post(RemoteAction.LOGIN, action.data)\n    if (res.status !== 200) {\n        return {\n            data:{logined:false,error: JSON.parse(res.content).msg}\n            \n        }\n    }\n    UIMaker.setupLogin(res)\n    return {        \n        data:{logined:true}\n    }\n})","import { RegisterAction, RegisterActionHandler } from \"../../../app_setup/actions/app/RegisterAction\"\nimport { LoginAction, LoginActionHandler } from \"./LoginAction\"\n\nclass LoginRegisterActionNames {\n    static REGISTER = \"register\"\n    static LOGIN = \"login\"\n}\nconst LoginRegisterHandlers = {\n    [LoginRegisterActionNames.REGISTER]: RegisterActionHandler,\n    [LoginRegisterActionNames.LOGIN]: LoginActionHandler,\n}\n\nfunction LoginRegisterReducer(state, action) {\n    switch (action.type) {\n        case LoginRegisterActionNames.REGISTER:\n            return RegisterAction(state, action.data)\n        case LoginRegisterActionNames.LOGIN:\n            return LoginAction(state, action.data)\n        default:\n            return state;\n    }\n}\nexport { LoginRegisterActionNames, LoginRegisterReducer, LoginRegisterHandlers }","import React, { useState, useCallback, useEffect } from 'react';\n\nimport styled from 'styled-components'\nimport { Alert } from 'antd';\n\nconst AlertBoxW = styled.div`\n  width: 100%;    \n  margin: 0px 10px 10px 0px;\n`\nfunction AlertBox(props){\n    return <AlertBoxW>\n        <Alert {...props} closable type={props.type||\"error\"} message={props.title || \"Message\"} description={props.message}></Alert>\n    </AlertBoxW>\n}\n\nexport default AlertBox","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { Steps, Divider, Alert, Input, Form, Card, Button } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppConsoleContext } from '../AppConsole';\nimport UIMaker from '../../UIMaker';\nimport './Register.scss'\nimport { LoginRegisterActionNames, LoginRegisterReducer, LoginRegisterHandlers } from './actions/LoginRegisterReducer';\nimport { AppConsoleActionNames } from '../actions/AppConsoleReducer';\nimport { SetStateAction } from '../admin/actions/SetStateAction';\nimport AlertBox from '../../AlertBox';\n\n\nconst RegisterContext = React.createContext()\nconst initState = {\n    logined: false,\n    error: undefined\n}\nfunction Register() {\n    const { dispacher: appConsoleDispacher } = useContext(AppConsoleContext)\n    const { formItemLayout, tailLayout } = UIMaker.formLayout1()\n    const [state, dispacher] = useReducerAsync(LoginRegisterReducer, initState, LoginRegisterHandlers)\n\n    const { logined, error } = state\n\n    useEffect(() => {        \n        appConsoleDispacher({\n            type: AppConsoleActionNames.CHECK_LOGINED,\n            data: {}\n        })\n    }, [logined])\n\n    return (\n        <RegisterContext.Provider value={{}}>\n            <div className=\"app-console-main-register\">\n                <Card title=\"Register\">\n                    {\n                        error && <AlertBox type=\"error\" message={error}></AlertBox>\n                    }\n                    <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n                        dispacher({\n                            type: LoginRegisterActionNames.REGISTER,\n                            data: values\n                        })\n                    }}>\n                        <Form.Item\n                            label=\"UserName\"\n                            name=\"userName\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your username!',\n                                },\n                            ]}\n                        >\n                            <Input />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"Password\"\n                            name=\"password\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your password!',\n                                },\n                            ]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n                        <Form.Item\n                            label=\"Repeated Password\"\n                            name=\"password2\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your password!',\n                                },\n                            ]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n                        <Form.Item {...tailLayout}>\n                            <Button type=\"primary\" htmlType=\"submit\">\n                                Go\n        </Button>\n                        </Form.Item>\n                    </Form>\n                </Card>\n            </div>\n        </RegisterContext.Provider>\n    )\n}\nexport { Register, RegisterContext }","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { Steps, Divider, PageHeader, Input, Form, Card, Button } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppConsoleContext } from '../AppConsole';\nimport UIMaker from '../../UIMaker';\nimport './Register.scss'\nimport { AppConsoleActionNames } from '../actions/AppConsoleReducer';\nimport { LoginRegisterReducer, LoginRegisterHandlers, LoginRegisterActionNames } from './actions/LoginRegisterReducer';\nimport ActionMaker from '../../ActionMaker';\nimport AlertBox from '../../AlertBox';\n\n\nconst initState = {\n    logined: false,\n    error: undefined\n}\n\nconst LoginContext = React.createContext()\n\nfunction Login() {\n    const { formItemLayout, tailLayout } = UIMaker.formLayout1()\n    const { dispacher: appConsoleDispacher } = useContext(AppConsoleContext)\n\n    const [state, dispacher] = useReducerAsync(LoginRegisterReducer, initState, LoginRegisterHandlers)\n    const { logined ,error} = state\n\n    useEffect(() => {\n        appConsoleDispacher({\n            type: AppConsoleActionNames.CHECK_LOGINED,\n            data: {\n                logined\n            }\n        })\n    }, [logined])\n\n    return (\n        <LoginContext.Provider>\n            <div className=\"app-console-main-register\">\n                <Card title=\"Login\">\n                    {\n                        error && <AlertBox type=\"error\" message={error}></AlertBox>\n                    }\n                    <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n                        dispacher(ActionMaker.buildEvent(LoginRegisterActionNames.LOGIN, values))\n                    }}>\n                        <Form.Item\n                            label=\"UserName\"\n                            name=\"userName\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your username!',\n                                },\n                            ]}\n                        >\n                            <Input />\n                        </Form.Item>\n\n                        <Form.Item\n                            label=\"Password\"\n                            name=\"password\"\n                            rules={[\n                                {\n                                    required: true,\n                                    message: 'Please input your password!',\n                                },\n                            ]}\n                        >\n                            <Input.Password />\n                        </Form.Item>\n                        <Form.Item {...tailLayout}>\n                            <Button type=\"primary\" htmlType=\"submit\">\n                                Go\n        </Button>\n                        </Form.Item>\n                    </Form>\n                </Card>\n            </div>\n        </LoginContext.Provider>\n    )\n}\nexport { Login, LoginContext }","const { ActionProxy } = require(\"../../backend_service/ActionProxy\");\nconst { default: RemoteAction } = require(\"../../backend_service/RemoteAction\");\n\nexport default class CodeIntellegence {\n     static async getSuggestList(sql,lineNum,columnNum){\n    \n    const restClient = new ActionProxy()\n\n    const res = await restClient.post(RemoteAction.RUN,{\n        executeMode: \"autoSuggest\",\n        sql: sql, \n        lineNum: lineNum +1,\n        columnNum: columnNum,\n        isDebug: false,\n        queryType: \"robot\" \n    })\n\n    if(res && res.status === 200){\n        const wordList = res.content\n        return wordList\n    }else {\n        return []\n    } \n   } \n}","export const Method = {\n    GET: \"get\",\n    POST: \"post\",\n    PUT: \"put\"\n}\n\nexport const Status = {\n    Success: 200,\n    BadRequest: 400,\n    Unauthorized: 401,\n    Forbidden: 404,\n    ServerError: 500\n}\n\nexport const AccessToken = {\n    name: \"access-token\"\n}\n","export const BACKEND_SERVER = \"\";\nexport const REGISTER_URL = BACKEND_SERVER + \"/api_v1/user/register\";\nexport const USERNAME_URL = BACKEND_SERVER + \"/api_v1/user/userName\";\nexport const USER_TAGS_UPDATE = BACKEND_SERVER + \"/api_v1/user/tags/update\";\nexport const USERS_URL = BACKEND_SERVER + \"/api_v1/users\";\nexport const LOGIN_URL = BACKEND_SERVER + \"/api_v1/user/login\";\nexport const CREATE_SCRIPT_FILE = BACKEND_SERVER + \"/api_v1/script_file\";\nexport const REMOVE_SCRIPT_FILE = BACKEND_SERVER + \"/api_v1/script_file/remove\";\nexport const GET_SCRIPT_FILE = BACKEND_SERVER + \"/api_v1/script_file/get\";\nexport const RUN_SCRIPT = BACKEND_SERVER + \"/api_v1/run/script\";\nexport const CLUSTER_MANAGER = BACKEND_SERVER + \"/api_v1/cluster\";\nexport const FILE_UPLOAD = BACKEND_SERVER + \"/api_v1/file/upload\";\nexport const FILE_DOWNLOAD = BACKEND_SERVER + \"/api_v1/file/download\";\n\n\nexport const CREATE_TEAM = BACKEND_SERVER + \"/api_v1/team/create\";\nexport const CHECK_TEAM_NAME = BACKEND_SERVER + \"/api_v1/team/name/check\";\nexport const LIST_TEAMS = BACKEND_SERVER + \"/api_v1/team\";\n\nexport const LIST_TEAMS_JOINED = BACKEND_SERVER + \"/api_v1/team/joined\";\nexport const LIST_TEAMS_INVITED = BACKEND_SERVER + \"/api_v1/team/invited\";\n\nexport const LIST_TEAMS_IN = BACKEND_SERVER + \"/api_v1/team/in\";\n\n\nexport const ADD_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/member/add\";\nexport const REMOVE_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/member/remove\";\nexport const LIST_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/members\";\n\nexport const ACCEPT_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/member/accept\";\nexport const REFUSE_TEAMS_MEMBER = BACKEND_SERVER + \"/api_v1/team/member/refuse\";\n\nexport const ADD_TEAMS_ROLE = BACKEND_SERVER + \"/api_v1/team/role/add\";\nexport const REMOVE_TEAMS_ROLE = BACKEND_SERVER + \"/api_v1/team/role/remove\";\nexport const LIST_TEAMS_ROLE = BACKEND_SERVER + \"/api_v1/team/roles\";\n\nexport const ADD_TEAMS_TABLE = BACKEND_SERVER + \"/api_v1/team/table/add\";\nexport const REMOVE_TEAMS_TABLE = BACKEND_SERVER + \"/api_v1/team/table/remove\";\nexport const LIST_TEAMS_TABLES = BACKEND_SERVER + \"/api_v1/team/tables\";\n\n\nexport const ADD_ROLES_TABLE = BACKEND_SERVER + \"/api_v1/role/table/add\";\nexport const REMOVE_ROLES_TABLE = BACKEND_SERVER + \"/api_v1/role/table/remove\";\nexport const LIST_ROLES_TABLE = BACKEND_SERVER + \"/api_v1/role/tables\";\n\nexport const ADD_ROLES_MEMBER = BACKEND_SERVER + \"/api_v1/role/member/add\";\nexport const REMOVE_ROLES_MEMBER = BACKEND_SERVER + \"/api_v1/role/member/remove\";\nexport const LIST_ROLES_MEMBER = BACKEND_SERVER + \"/api_v1/role/members\";\n\nexport const LIST_BACKENDS_BY_TEAM = BACKEND_SERVER + \"/api_v1/backends\";\n\nexport const CHNAGE_PASSWORD = BACKEND_SERVER + \"/api_v1/changepassword\";","import React from \"react\";\nimport {MLSQLAPI, APIResponse, ServerError} from \"../service/MLSQLAPI\";\nimport * as backendConfig from \"../service/BackendConfig\";\nimport * as HTTP from \"../service/HTTPMethod\";\nimport Cookies from 'universal-cookie';\n\n\nexport class MLSQLAuth {\n\n    isLogin() {\n        return sessionStorage.getItem(HTTP.AccessToken.name) !== null\n    }\n\n    /**\n     *\n     * @param callback {(userName)=>{}}\n     */\n    userName(callback) {\n\n        const api = new MLSQLAPI(backendConfig.USERNAME_URL)\n\n        /**\n         * @param  {APIResponse} apiResponse\n         */\n        const sCallBack = (apiResponse) => {\n            /**\n             *  if server return unauthorized status, then we should\n             *  remove our token since it maybe invalidate.\n             */\n            if (apiResponse.status === HTTP.Status.Unauthorized) {\n                sessionStorage.removeItem(HTTP.AccessToken.name)\n            } else {\n                apiResponse.content.then((s => {\n                    callback(JSON.parse(s)[\"userName\"])\n                })).catch((error) => {\n                })\n            }\n        }\n\n        api.request(HTTP.Method.GET, {}, sCallBack, (m) => {\n            console.log(m)\n        })\n    }\n\n    user(callback) {\n\n        const api = new MLSQLAPI(backendConfig.USERNAME_URL)\n        api.request2({}, (json) => {\n            callback(json)\n        }, (str) => {\n\n        })\n    }\n\n    /**\n     * @param {String} userName\n     * @param {String} password\n     */\n    login(userName, password, _sCallBack, _errorCallBack) {\n        this.registerOrLogin(backendConfig.LOGIN_URL, userName, password, _sCallBack, _errorCallBack)\n    }\n\n    logout() {\n        sessionStorage.removeItem(HTTP.AccessToken.name)\n    }\n\n    /**\n     * @param {String} userName\n     * @param {String} password\n     */\n    register(userName, password, _sCallBack, _errorCallBack) {\n        this.registerOrLogin(backendConfig.REGISTER_URL, userName, password, _sCallBack, _errorCallBack)\n    }\n\n    registerOrLogin(url, userName, password, _sCallBack, _errorCallBack) {\n        const api = new MLSQLAPI(url)\n\n        const body = {\n            userName: userName,\n            password: password\n        }\n\n        /**\n         * @param  {APIResponse} apiResponse\n         */\n        const sCallBack = (apiResponse) => {\n            if (apiResponse.accessToken) {\n                sessionStorage.setItem(HTTP.AccessToken.name, apiResponse.accessToken)\n                const cookies = new Cookies();\n                cookies.set(HTTP.AccessToken.name, apiResponse.accessToken, { path: '/' });\n            }\n            _sCallBack(apiResponse)\n        }\n        /**\n         *\n         * @param {ServerError} serverError\n         */\n        const errorCallBack = (serverError) => {\n            _errorCallBack(serverError)\n        }\n        api.request(HTTP.Method.POST, body, sCallBack, errorCallBack)\n    }\n}","import * as HTTP from \"../service/HTTPMethod\";\nimport {MLSQLAuth as Auth} from \"../user/MLSQLAuth\";\n\nconst uuidv4 = require('uuid/v4');\n\nexport class ServerError {\n    constructor(content) {\n        this.value = content\n    }\n}\n\nexport class APIResponse {\n    /**\n     * @param {Number} status\n     * @param {Promise<String>} content\n     * @param {String} accessToken\n     */\n    constructor(status, content, accessToken) {\n        this.status = status;\n        this.content = content;\n        this.accessToken = accessToken\n    }\n\n    json = (process, jsonErr) => {\n\n        this.content.then((s) => {\n            try {\n                const jsonObj = JSON.parse(s)\n                process(jsonObj)\n            } catch (e) {\n                console.log(e)\n                jsonErr(s)\n            }\n\n        })\n    }\n\n}\n\nexport class MLSQLAPI {\n\n    constructor(url) {\n        this.url = url;\n    }\n\n\n    request2(params, successCallback, serverErrorCallback) {\n        const self = this\n        self.request(HTTP.Method.POST, params, (ok) => {\n            ok.json((wow) => {\n                successCallback(wow)\n            }, (jsonErr) => {\n                serverErrorCallback(jsonErr)\n            })\n        }, (fail) => {\n            try {\n                fail.value().content((str) => {\n                    let res = str\n                    try {\n                        res = JSON.parse(str)[\"msg\"]\n                    } catch (e) {\n\n                    }\n                    serverErrorCallback(res)\n                })\n            } catch (e) {\n                serverErrorCallback(fail ? fail.toString() : \"result is null\")\n            }\n\n        })\n    }\n\n    runScript(params, sql, successCallback, serverErrorCallback) {\n        const auth = new Auth()\n        const jobName = uuidv4()\n        const self = this\n        auth.user((jsonRes) => {\n            const {userName, backendTags} = jsonRes            \n            const finalParams = {\n                sql: sql,\n                owner: userName,\n                jobName: jobName,\n                sessionPerUser: true,\n                show_stack: true,\n                skipAuth: false,\n                tags: backendTags || \"\"\n            }\n            Object.assign(finalParams, params)\n            const background = params.background || false\n            if (background) {\n                Object.assign(finalParams, {async: true, callback: \"\"})\n            }\n\n            self.request(HTTP.Method.POST, finalParams, (ok) => {\n                if (ok.status === 200) {\n                    ok.json((wow) => {\n                        successCallback(wow)\n                    }, (jsonErr) => {\n                        serverErrorCallback(jsonErr)\n                    })\n                } else {\n                    try {\n                        ok.content.then((str) => {\n                            let res = str\n                            try {\n                                res = JSON.parse(str)[\"msg\"]\n                            } catch (e) {\n\n                            }\n                            serverErrorCallback(\"backend status:\" + ok.status + \"\\n\" + res)\n                        })\n                    } catch (e) {\n                        serverErrorCallback(\"backend status:\" + ok.status)\n                    }\n                }\n\n            }, (fail) => {\n                try {\n                    fail.value().content((str) => {\n                        let res = str\n                        try {\n                            res = JSON.parse(str)[\"msg\"]\n                        } catch (e) {\n\n                        }\n                        serverErrorCallback(res)\n                    })\n                } catch (e) {\n                    serverErrorCallback(fail ? fail.toString() : \"result is null\")\n                }\n\n            })\n        })\n    }\n\n    request(method, body, successCallback, serverErrorCallback) {\n        method = method.toUpperCase();\n\n        let formBody = [];\n        for (let property in body) {\n            let encodedKey = encodeURIComponent(property);\n            let encodedValue = encodeURIComponent(body[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n\n        let newurl = this.url\n\n        if (method === \"GET\") {\n            newurl = newurl + \"?\" + formBody\n            formBody = undefined\n        } else {\n            formBody = formBody.join(\"&\")\n        }\n        return fetch(newurl, {\n            method: method,\n            timeout: 1000 * 60 * 60 * 24,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accept': 'application/json',\n                'Access-Token': sessionStorage.getItem(HTTP.AccessToken.name) || ''\n            },\n            body: formBody\n        }).then((res) => {\n            successCallback(new APIResponse(res.status, res.text(), res.headers.get(HTTP.AccessToken.name)))\n        })\n            .catch((res) => {\n                serverErrorCallback(new ServerError(res))\n            })\n    }\n\n    newRunScript(params, sql, okFun, failFun) {\n        const auth = new Auth()\n        const jobName = uuidv4()\n        const self = this\n        auth.user((jsonRes) => {\n            const {userName, backendTags} = jsonRes\n\n            if (!backendTags) {\n                failFun(`\n                \n                ---------------Warning--------------------\n                \n                Please make sure you have backend configured. \n                If not, please contact admin;\n                \n                ------------------------------------------\n                `)\n                return\n            }\n\n            const finalParams = {\n                sql: sql,\n                owner: userName,\n                jobName: jobName,\n                sessionPerUser: true,\n                show_stack: true,\n                skipAuth: false,\n                tags: backendTags || \"\"\n            }\n            Object.assign(finalParams, params)\n            const background = params.background || false\n            if (background) {\n                Object.assign(finalParams, {async: true, callback: \"\"})\n            }\n\n            self.new_request(HTTP.Method.POST, finalParams, okFun, failFun)\n        })\n    }\n\n    new_request(method, body, okFun, failFun) {\n        method = method.toUpperCase();\n\n        let formBody = [];\n        for (let property in body) {\n            let encodedKey = encodeURIComponent(property);\n            let encodedValue = encodeURIComponent(body[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n\n        let newurl = this.url\n\n        if (method === \"GET\") {\n            newurl = newurl + \"?\" + formBody\n            formBody = undefined\n        } else {\n            formBody = formBody.join(\"&\")\n        }\n        let resStatus = 0\n\n        return fetch(newurl, {\n            method: method,\n            timeout: 1000 * 60 * 60 * 24,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accept': 'application/json',\n                'Access-Token': sessionStorage.getItem(HTTP.AccessToken.name) || ''\n            },\n            body: formBody\n        }).then((res) => {\n            resStatus = res.status\n            if (resStatus === 200) {\n                res.json().then((value) => {\n                    okFun(value)\n                })\n            }\n            return res\n        }).then(res => {\n            const extractMsg = () => {\n                res.text().then(value => {\n                        try {\n                            failFun(JSON.parse(value)[\"msg\"])\n                        } catch (e) {\n                            failFun(value)\n                        }\n                    }\n                )\n            }\n\n            switch (resStatus) {\n                case 201:\n                    break\n                case 400:\n                    extractMsg()\n                    break\n                case 500:\n                    extractMsg()\n                    break\n                default:\n                    console.log('unhandled')\n                    break\n            }\n        })\n            .catch((err) => {\n                failFun(err.message)\n            })\n    }\n}","export class ButtonToCommand {\n    makeSQL = (name) => {\n        if (name === \"JobList\") {\n            return `load _mlsql_.\\`jobs\\` as output;`\n        }\n        if (name === \"ConnectMySQL\") {\n            return `connect jdbc where\n url=\"jdbc:mysql://127.0.0.1:3306/wow?characterEncoding=utf8&zeroDateTimeBehavior=convertToNull&tinyInt1isBit=false\"\n and driver=\"com.mysql.jdbc.Driver\"\n and user=\"\"\n and password=\"\"\n as db_1;`\n        }\n\n        if (name === \"ShowResource\") {\n            return `load _mlsql_.\\`resource\\` as output;`\n        }\n        return \"\"\n    }\n}","import ConsoleOp from \"./ConsoleOp\";\n\nexport default class EditorOp extends ConsoleOp{\n    constructor(comp){\n      super(comp)\n    }\n    getText() {\n        return this.editor.getValue()\n    }\n\n    getSelection(){\n        let selectionRange = this.editor.getSelectionRange()\n        let content = this.session.getTextRange(selectionRange);\n        return content\n    }\n}","export default class  ConsoleOp{\n  constructor(consoleComp){\n     this.inner = consoleComp \n     this.session = this.inner.editor.session\n     this.editor = this.inner.editor    \n  }\n\n  setText(msg){\n      this.editor.setValue(msg)\n      return this\n  }\n\n  append(msg){\n    this.session.insert({\n        row: this.session.getLength(),\n        column: 0\n    }, \"\\n\" + msg)\n    return this\n  }\n\n  insertAfterCursor(msg){\n    const p = this.editor.getCursorPosition()\n    this.session.insert(p, msg)\n    this.editor.focus()\n    return this\n  }\n}","import { ActionProxy } from '../../backend_service/ActionProxy';\nimport RemoteAction from '../../backend_service/RemoteAction';\n\nconst uuidv4 = require('uuid/v4');\nconst client = new ActionProxy()\nexport default class EngineService {\n\n    static async ls(path){ \n        const client = new ActionProxy()\n        const res = await client.runScript(`!hdfs -ls -F ${path};`, uuidv4(), {\"queryType\":\"robot\"})\n        return res        \n    }\n\n    static async killJob(jobName){  \n        const res = await client.runScript(\"!kill \" + jobName+\";\", uuidv4(), {\"queryType\":\"robot\"})\n        //sync the status        \n        await client.get(RemoteAction.JOB_KILL, {jobName:jobName})                        \n        return res\n    }\n\n    static async runJob(sql,block=false){        \n        const res = await client.runScript(sql, uuidv4(),{ \"async\": block}) \n        return res\n    }\n\n    static async showFunctions(){        \n        const res = await client.runScript(\"\",uuidv4(),{executeMode:\"sqlFunctions\"})\n        return res\n    }\n\n    static async jobs(){\n        const jobName = uuidv4()\n        const res = await client.runScript(`load _mlsql_.\\`jobs\\` as wow;`,jobName ,{\"queryType\":\"robot\"}) \n        return {jobName,res} \n    }\n\n    static async tablesInDeltaLake(){\n        const jobName = uuidv4()\n        const res = await client.runScript(`!delta show tables;`,jobName ,{\"queryType\":\"robot\"}) \n        return res\n    }\n\n    static async tablesInWorkshop(){        \n        const res = await client.get(RemoteAction.ANALYSIS_TABLES ,{}) \n        return res\n    }\n\n    static async tableInfo(tableName){        \n        const res = await client.get(RemoteAction.ANALYSIS_TABLE_INFO ,{tableName}) \n        return res\n    }\n\n    static async jobProgress(jobName){\n        const res = await client.runScript(`load _mlsql_.\\`jobs/get/${jobName}\\` as wow;`,uuidv4(),{\"queryType\":\"robot\"})\n        const empty_res =  {currentJobIndex:0,totalJobs:1}\n        if(res.status===200){\n            const jsonObj = res.content[0]\n            if(!jsonObj){\n                return empty_res\n            }\n            let currentJobIndex = jsonObj.progress.currentJobIndex\n            let totalJobs = jsonObj.progress.totalJob\n            if(totalJobs===1){\n                const res2 = await client.runScript(`load _mlsql_.\\`jobs/${jobName}\\` as wow;`,uuidv4(),{\"queryType\":\"robot\"})                                \n                currentJobIndex = res2.content[0].completedJobsNum\n                totalJobs = res2.content[0].activeJobsNum + currentJobIndex               \n            }\n            return {currentJobIndex,totalJobs}\n        }\n        return empty_res\n    }\n\n    static async resourceInfo(){\n        const res = await client.runScript(`load _mlsql_.\\`resource\\` as output;`,uuidv4(),{\"queryType\":\"robot\"})\n        const totalCores = res.content[0].totalCores\n        const activeTasks = res.content[0].activeTasks\n        return {activeTasks,totalCores}\n    }\n}","import { ActionProxy } from \"../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../backend_service/RemoteAction\"\nimport EngineService from \"../service/EngineService\";\nconst uuidv4 = require('uuid/v4');\n\nexport default class AsyncExecuter {\n    constructor(queryPanel){\n      this.queryPanel = queryPanel\n      this.client = new ActionProxy()\n      this.jobName = uuidv4()\n      this.editorOp = this.queryPanel.getEditorOp()\n      this.consoleOp = this.queryPanel.getConsoleOp()\n      const selectSQL = this.editorOp.getSelection()\n      this.sql = selectSQL || this.editorOp.getText() \n\n      this.commandGroupRef = this.queryPanel.commandGroup.current\n      //this.resourceProgressRef = this.queryPanel.resourceProgressRef\n      this.jobProgressRef = this.queryPanel.jobProgressRef\n      this.taskProgressRef = this.queryPanel.taskProgressRef.current\n      \n      this.displayRef = this.queryPanel.queryApp.display.current\n      this.dashRef = this.queryPanel.queryApp.dash.current\n\n\n      this.timeout = this.commandGroupRef.state.timeout\n      this.logInfo = {}\n\n      this.closed = false\n    \n\n      \n    }\n\n    log(msg){\n        this.consoleOp.append(msg)\n        return this\n    }\n\n    enterLoading = () => {\n        this.commandGroupRef.setState({loading: true});\n        //this.resourceProgressRef.enter({jobName: this.jobName})        \n        //this.taskProgressRef.enter({jobName: this.jobName})        \n    }\n\n    exitLoading = () => {\n        this.commandGroupRef.setState({loading: false});\n        // this.jobProgressRef.exit()\n        //this.resourceProgressRef.exit()\n        //this.taskProgressRef.exit()        \n    }\n\n    prepare(){        \n        this.enterLoading()\n        this.consoleOp.setText(\"\")\n        this.displayRef.update(JSON.parse(\"[]\"))\n    }\n    measureTime(startTime) {\n        this.exitLoading()\n        const endTime = new Date().getTime()\n        return endTime - startTime\n    }\n\n\n\n    async saveFile(params){\n      const scriptId = this.queryPanel.state.scriptId\n      if(!scriptId){\n         this.log(\"No file are opened, cannot execute save action\")\n         return\n      }\n      const res = await this.client.post(RemoteAction.SAVE_SCRIPT_FILE,{\n        id: scriptId,\n        content: this.editorOp.getText()\n      })\n      if(res.status !== 200){\n          this.log(res.content)\n      }\n      if(res.status === 200){\n          this.log(`File[${scriptId}] have been saved.`)\n      }\n      return res\n\n    }\n\n    async run(params) {\n        this.prepare()\n        const startTime = new Date().getTime()\n        const res = await this.client.runScript(this.sql, this.jobName, Object.assign(params,{\n            jobName: this.jobName,\n            async: true,\n            timeout: this.timeout,\n            engineName:this.queryPanel.engineName\n        }))    \n        \n        if(res.status !== 200){                                    \n            this.log(\"Fail to submit job\" + \"\\nTime cost:\" + this.measureTime(startTime) + \"ms\")            \n            return []\n        }\n\n        this.intervalTimer = setInterval(async () => {            \n            await this.monitorJob()\n            await this.monitorLog()\n        }, 1000)\n\n        //refresh job list in dash\n        if(this.dashRef.queryHistory){\n            this.dashRef.queryHistory.reload()  \n        }\n        this.jobProgressRef.enter()\n        return res\n    }\n    async cancelMonitor() {\n        if (this.intervalTimer) {\n            clearInterval(this.intervalTimer)\n            this.intervalTimer = null\n        }\n        this.jobProgressRef.exit()\n    }\n\n    async monitorJob(){        \n        const res = await this.client.get(RemoteAction.JOB_DETAIL,\n            {\n                jobName:this.jobName,                \n            })\n        const jobInfo = res.content\n        // job fail\n        if(jobInfo.status === 3){\n           this.closed = true\n           this.cancelMonitor() \n           this.exitLoading() \n           this.jobProgressRef.exit()\n           this.log(jobInfo.reason)\n        }\n        // job success\n        if(jobInfo.status === 2){\n            this.closed = true\n            this.cancelMonitor()\n            this.exitLoading() \n            this.jobProgressRef.exit()\n            const data = JSON.parse(jobInfo.response)\n            this.displayRef.update(data) \n            this.queryPanel.queryApp.setData(data)\n        }\n    }\n\n    async monitorLog(){\n        const jobName = uuidv4()               \n        const res = await this.client.runScript(`load _mlsql_.\\`log/${this.logInfo['offset'] || -1}\\` where filePath=\"engine_log\" as output;`, jobName, {\"queryType\":\"robot\"})\n        if(res.status !== 200) return\n        const jsonObj = res.content[0]\n        if (jsonObj[\"value\"] && jsonObj['value'].length > 0) {\n            this.log(jsonObj['value'].map(item => {\n                return item.split(\"__MMMMMM__\")[1]\n            }).join(\"\\n\"))\n        }\n        this.logInfo['offset'] = jsonObj[\"offset\"]\n    }\n\n    \n\n    async killJob(){\n        if (!this.jobName) return\n        const res = await EngineService.killJob(this.jobName)\n        try {\n            this.log(res.content[0]['description'])                \n        }catch(e){\n            this.log(res.content)\n        }\n        this.closed = true\n        this.jobName = null\n        this.cancelMonitor() \n        this.exitLoading()\n        \n    }\n}","import * as React from \"react\";\nimport Timer from \"react-compound-timer\"\nimport {Progress, Button} from 'antd';\nimport EngineService from \"../service/EngineService\";\n\nexport default class JobProgress extends React.Component {\n    constructor(props) {\n        super(props) \n        this.queryPanel = props.parent               \n        this.state ={loading:false,progress:0}        \n    }\n\n    enter = (params) => {\n        this.setState({loading:true})  \n        this.intervalTimer = setInterval(async () => {                        \n            const jobName = this.queryPanel.executor.jobName\n            const {currentJobIndex,totalJobs} =  await EngineService.jobProgress(jobName)            \n            this.setState({progress:(currentJobIndex/totalJobs)*100})\n        },1000)\n    }\n\n    exit = () => {        \n        if(this.intervalTimer){            \n            clearInterval(this.intervalTimer)\n            this.intervalTimer = null \n            this.finalTime = (this.timer.getTime() / 1000).toFixed(2) + \"s\"\n            this.setState({loading:false})          \n        }\n    }\n\n    render() {\n        if(!this.state.loading) {\n            if(this.finalTime){\n                return <Button type=\"primary\" style={{margin:\"0px 0px 20px 0px\"}}>\n                   Time Cost: {this.finalTime}\n                </Button>\n            }else {\n                return <div></div>\n            }\n        }\n        return <div>                    \n            <Button type=\"primary\" style={{marginRight:\"20px\"}}>\n            Time Cost:<Timer ref={(et)=> this.timer =et}>        \n                <Timer.Minutes formatValue={value => `${value} m. `} /> \n                <Timer.Seconds formatValue={value => `${value} s. `}/>         \n            </Timer></Button>\n            <Progress type=\"circle\" percent={this.state.progress} />\n        </div>\n    }\n}","import * as React from \"react\";\nimport { Progress,Button } from \"antd\";\nimport EngineService from \"../service/EngineService\";\nimport \"./ResourceProgress.scss\"\nexport default class ResourceProgress extends React.Component {\n    constructor(props) {\n        super(props) \n        this.queryPanel = props.parent               \n        this.state ={percent:0}        \n    }\n\n    async componentDidMount(){\n      await this.reload()\n    }\n\n    async reload(){\n       const {activeTasks,totalCores} = await EngineService.resourceInfo() \n       const {jobName,res}  = await EngineService.jobs() \n       const jobNum = res.content.filter((item)=>{\n           return item.jobName !== jobName \n       }).length     \n       this.setState({percent:activeTasks/totalCores*100,\n        totalCores,activeTasks,jobNum})\n    }\n\n    enter = (params) => {\n       \n    }\n\n    exit = () => {        \n       \n    }\n\n    render() {\n        return <div className=\"rp-main\">\n            \n            <div className=\"rp-block\">\n            <div className=\"rp-name\" >CPU Usage(total cores:{this.state.totalCores}): </div>\n             <Progress percent={this.state.percent}   style={{maxWidth:\"300px\"}}/>                           \n            </div> \n\n            <div className=\"rp-block\">\n            <div className=\"rp-name\">Jobs Running: <span>{this.state.jobNum}</span></div>\n                \n            </div>            \n        </div>\n    }\n}","import React, { useState, useCallback, useEffect, useReducer } from 'react';\nimport { ActionProxy } from '../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../backend_service/RemoteAction';\nimport { Select } from 'antd';\nimport UIMaker from '../../UIMaker';\n\n\n\nfunction EngineSelectComp(props) {\n    const [error, setError] = useState(undefined)\n    const [data, setData] = useState([])\n    const [loading, setLoading] = useState(false)\n    const [engine, setEngine] = useState(undefined)\n    useEffect(() => {\n        const fetch = async () => {\n            setLoading(true)\n            const proxy = new ActionProxy()\n            const res = await proxy.get(RemoteAction.ENGINE_LIST, {})            \n            setData(res.content.data)\n            const backend = UIMaker.extraOption()[\"backend\"]\n            if(res.content.data.length >0 && !backend){\n                setEngine(res.content.data[0].name)\n            }            \n            setLoading(false)\n        }\n        fetch()\n    }, [])\n\n    useEffect(()=>{      \n    //   const save = async()=>{\n    //     const proxy = new ActionProxy()\n    //     await proxy.post(RemoteAction.USER_EXTRA,{backend:engine})\n    //   }\n    //   save()\n      props.useEngine(engine)\n    },[engine])\n\n    const selectEngine = (value) => {\n        setEngine(value)\n    }\n    return (\n        <Select onChange={selectEngine} style={{width: \"120px\"}}>\n            {data.map(item=>{\n                return <Select.Option value={item.name}>{item.name}</Select.Option>\n            })}\n        </Select>\n    )\n}\nexport { EngineSelectComp }","import * as React from \"react\";\nimport brace from 'brace';\nimport 'brace/ext/searchbox';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/sql';\nimport 'brace/theme/github';\nimport 'brace/ext/language_tools';\nimport CodeIntellegence from '../v1/service/CodeIntellegence'\n\nimport './MLSQLAceEditor.scss'\nimport {Button, Tooltip, Progress, Divider} from 'antd';\nimport {MLSQLAPI} from \"../service/MLSQLAPI\";\nimport * as BackendConfig from \"../service/BackendConfig\";\nimport {assert} from \"../common/tool\"\nimport {ButtonToCommand} from \"./et/ButtonToCommand\";\nimport {Select} from 'antd';\nimport {Resizable} from \"re-resizable\";\nimport EditorOp from \"../v1/comp_op/EditorOp\";\nimport AsyncExecuter from \"../v1/async_execute/AsyncExecuter\";\nimport JobProgress from \"../v1/async_execute/JobProgress\";\nimport ResourceProgress from \"../v1/async_execute/ResourceProgress\";\nimport { EngineSelectComp } from \"../v1/app_console/pages/EngineSelectComp\";\n\nconst {Option} = Select;\n\nconst uuidv4 = require('uuid/v4');\n\n\nclass MLSQLAceEditor extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.language = this.props.language || \"sql\"\n        this.queryApp = this.props.parent\n        this.aceEditorRef = React.createRef()\n        this.commandGroup = React.createRef()        \n        \n        this.taskProgressRef = React.createRef()\n\n        this.cancelQuery = this.cancelQuery.bind(this)\n        this.executeQuery = this.executeQuery.bind(this)\n\n        this.state = {value: \"\", loading: false}\n    }\n\n    text = (value, scriptId) => {\n        this.setState({value: value, scriptId: scriptId}, () => {\n            this.aceEditorRef.current.editor.setValue(value, 1)\n        })\n\n    }\n\n    componentDidMount() {\n        if (this.props.parentCallback) {\n            this.props.parentCallback(this)\n        }\n\n        var staticWordCompleter = {\n            getCompletions: async function(editor, session, pos, prefix, callback) {\n                var wordList = await CodeIntellegence.getSuggestList(editor.getValue(),pos.row,pos.column)\n                callback(null, wordList.map(function(word) {\n                    let desc = \"\"\n                    if(\"desc\" in word.extra){\n                        desc= word.extra[\"desc\"]\n                    }\n                    return {\n                        caption: word.name,\n                        value: word.name,\n                        meta: desc\n                    };\n                }));\n        \n            }\n        }\n        this.getAceEditor().completers = [staticWordCompleter]\n    }\n\n    onChange(newValue) {\n\n    }\n\n     executeSave = async ()=>{\n        const executor = new AsyncExecuter(this)\n        const res = await executor.saveFile({})\n        return res  \n    }\n\n    async executeQuery(){\n        if(this.executor && !this.executor.closed){\n            this.log(`Job ${this.jobName} is still running.`)\n            this.log(`Try to kill this job or wait it to finish`)\n            return\n        }\n        this.executor = new AsyncExecuter(this)\n        const res = await this.executor.run({})\n        if(!this.executor.closed){\n            this.executor.closed = true\n        }\n        return res\n    }\n\n    async cancelQuery() {\n       if(this.executor){\n          this.executor.killJob()\n       } \n    }\n\n    getAllText = () => {\n        return this.getAceEditor().getValue()\n    }\n\n    getSelection = () => {\n        return this.getEditorOp().getSelection()\n    }\n\n    appendToEditor = (str) => {\n        return this.getEditorOp().insertAfterCursor(str)\n    }\n\n    getEditorOp=()=>{\n        return new EditorOp(this.aceEditorRef.current)\n    }\n\n    getConsoleOp=()=>{\n        return new EditorOp(this.queryApp.messageBox.current) \n    }\n\n    getAceEditor = () => {\n        return this.getEditorOp().editor\n    }\n\n    getMessageBoxAceEditor = () => {\n        return this.getConsoleOp().editor\n    }\n\n    appendLog = (msg) => {\n        return this.getConsoleOp().append(msg)\n    }\n\n    getDashBoard = () => {\n        return this.queryApp.dash.current\n    }\n\n    getDisplay = () => {\n        return this.queryApp.display.current\n    }\n\n    enterLoading = (jobName) => {\n        this.commandGroup.current.setState({loading: true});\n        this.resourceProgressRef.current.enter({jobName: jobName})\n        this.jobProgressRef.enter({jobName: jobName})\n        this.taskProgressRef.current.enter({jobName: jobName})        \n    }\n\n    exitLoading = () => {\n        this.commandGroup.current.setState({loading: false});\n        this.jobProgressRef.exit()\n        this.resourceProgressRef.current.exit()\n        this.taskProgressRef.current.exit()        \n    }\n    etOver = (evt) => {\n        const et = this.queryApp.etRef.current\n        const eventName = et.getData(\"eventName\")\n        const popName = et.getData(\"popName\")\n        const processType = et.getData(\"processType\")\n        const pathAlias = et.getData(\"pathAlias\")\n        const tableHidden = et.getData(\"tableHidden\")\n        const pathHidden = et.getData(\"pathHidden\")\n        const outputTableHidden = et.getData(\"outputTableHidden\")\n        const outputTableAlias = et.getData(\"outputTableAlias\")\n        const tableAlias = et.getData(\"tableAlias\")\n\n        if (processType === \"direct\") {\n            this.appendToEditor(new ButtonToCommand().makeSQL(eventName))\n        } else {\n            et.setState({\n                etPop: true,\n                eventName: eventName,\n                popName: popName,\n                processType: processType,\n                pathAlias: pathAlias,\n                tableHidden: tableHidden,\n                pathHidden: pathHidden,\n                outputTableHidden: outputTableHidden,\n                outputTableAlias: outputTableAlias,\n                tableAlias: tableAlias\n            })\n        }\n\n    }\n\n    render() {\n        const self = this\n        return (\n            <div className=\"mlsql-editor-area\">\n\n                <div onDragOver={(evt) => evt.preventDefault()} onDrop={this.etOver}>\n                    <Resizable defaultSize={{height: \"500px\"}} onResize={()=>{this.aceEditorRef.current.editor.resize();}}><AceEditor\n                        ref={this.aceEditorRef}\n                        mode={this.language}\n                        theme=\"github\"\n                        width={\"100%\"}\n                        height={\"100%\"}\n                        onChange={this.onChange}\n                        name=\"mlsql_editor\"\n                        fontSize={16}\n                        showPrintMargin={true}\n                        showGutter={true}\n                        highlightActiveLine={true}\n                        editorProps={{\n                            $blockScrolling: Infinity\n                        }}\n                        setOptions={{\n                            enableBasicAutocompletion: true,\n                            enableLiveAutocompletion: true,\n                            enableSnippets: false,\n                            showLineNumbers: true,\n                            tabSize: 2,\n                            autoScrollEditorIntoView: true\n                        }}\n                    /></Resizable>\n                </div>\n\n                <CommandGroup ref={this.commandGroup} parent={this}/>            \n                <JobProgress ref={(et)=>{this.jobProgressRef=et}} parent={this}></JobProgress>\n                <TaskProgress ref={this.taskProgressRef} parent={this}></TaskProgress>                \n            </div>\n        )\n    }\n\n}\n\nclass CommandGroup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {loading: false, timeout: \"-1\"}\n        this.parent = props.parent\n    }\n\n    onChange = (value) => {\n        this.setState({timeout: value})\n    }\n\n    render() {\n        return (\n            <div className=\"mslql-editor-buttons\">\n                <Button onClick={this.parent.executeQuery}\n                        loading={this.state.loading}>Run</Button>\n                <Button onClick={this.parent.cancelQuery}>Cancel</Button>      \n                <Button onClick={this.parent.executeSave}>Save</Button>                \n                Job Timeout:<Select\n                onChange={this.onChange}\n                style={{width: \"120px\"}}\n            >\n                <Option value=\"10000\">10s</Option>\n                <Option value=\"30000\">30s</Option>\n                <Option value=\"60000\">60s</Option>\n                <Option value=\"1800000\">30m</Option>\n                <Option value=\"7200000\">2h</Option>\n                <Option value=\"28800000\">8h</Option>\n                <Option value=\"-1\">unlimited</Option>\n            </Select>\n            <Divider type=\"vertical\"/>\n            Engine:<EngineSelectComp useEngine={(engine)=>{\n                this.engineName = engine\n            }}/>\n            </div>\n        )\n    }\n\n}\n\n\nclass TaskProgress extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {loading: false, percent: 0, successPercent: 0, mark: false}\n        this.parent = props.parent\n    }\n\n    enter = (params) => {\n        const self = this\n        this.setState({mark: true})\n\n        setTimeout(() => {\n            if (self.state.mark) {\n                self.setState({loading: true})\n                self.intervalTimer = setInterval(() => {\n\n                        if (self.taskCompute === \"loading\") {\n                            return\n                        }\n                        self.taskCompute = \"loading\"\n                        const api = new MLSQLAPI(BackendConfig.RUN_SCRIPT)\n                        assert(params.hasOwnProperty(\"jobName\"), \"jobName is required\")\n                        const jobName = params[\"jobName\"]\n                        api.runScript({}, `load _mlsql_.\\`jobs/${jobName}\\` as output;`, (jsonArray) => {\n                            self.taskCompute = \"loaded\"\n                            const _jsonObj = jsonArray[0]\n                            const jsonObj = {\n                                numTasks: 0,\n                                numActiveTasks: 0,\n                                numCompletedTasks: 0\n                            }\n                            _jsonObj[\"activeJobs\"].forEach((item) => {\n                                jsonObj[\"numTasks\"] += item[\"numTasks\"]\n                                jsonObj[\"numActiveTasks\"] += item[\"numActiveTasks\"]\n                                jsonObj[\"numCompletedTasks\"] += item[\"numCompletedTasks\"]\n                            })\n                            self.setState({\n                                percent: jsonObj.numActiveTasks / jsonObj.numTasks * 100,\n                                successPercent: jsonObj.numCompletedTasks / jsonObj.numTasks * 100,\n                                title: `Tasks (for all stages): Succeeded/Total:\\n${jsonObj.numCompletedTasks}/${jsonObj.numTasks}(${jsonObj.numActiveTasks} running)`\n                            })\n                        }, (str) => {\n                            self.taskCompute = \"loaded\"\n                            try {\n                                self.parent.appendLog(str)\n                            } catch (e) {\n                                console.log(e)\n                            }\n                        })\n\n                    }\n                    , 1000)\n            }\n\n        }, 1000)\n\n    }\n\n    exit = () => {\n        this.taskCompute = \"loaded\"\n        this.resourceCompute = \"loaded\"\n        this.setState({loading: false, percent: 0, successPercent: 0, mark: false})\n        if (this.intervalTimer) {\n            clearInterval(this.intervalTimer);\n        }\n    }\n\n    render() {\n        if (!this.state.loading) return <div></div>\n        return (\n            <div>{this.state.title}\n                <Progress percent={this.state.percent} successPercent={this.state.successPercent}/>\n            </div>\n        )\n    }\n\n}\n\nexport default MLSQLAceEditor\n\n","export const assert = (condition, message) => {\n    if (!condition) {\n        message = message || \"Assertion failed\";\n        if (typeof Error !== \"undefined\") {\n            throw new Error(message);\n        }\n        throw message; // Fallback\n    }\n}\n","import * as React from \"react\";\nimport {Table,Modal} from 'antd';\n\n\nconst ReactMarkdown = require('react-markdown')\n\nexport class MLSQLQueryDisplay extends React.Component {\n    constructor(props) {\n        super(props)\n        this.tableStyle = props.style || {}\n        this.state = {columns: [], rows: [], view: {enabled: false}}\n        this.config = {}\n    }\n\n    setRender = (keyColumn, data) => {\n\n        const value = data[0][keyColumn.key]\n\n        if (this.config && this.config[\"render\"]) {\n            const render = this.config[\"render\"][keyColumn.key]\n            if (render) {\n                keyColumn[\"render\"] = render\n            }\n            return\n        }\n\n        try {\n            if (React.Component.isPrototypeOf(value.type)) {\n                keyColumn[\"render\"] = value => <span>{value}</span>\n                return\n            }\n        }\n        catch (e) {\n        }\n\n        if (keyColumn.key == \"html\") {            \n            keyColumn[\"render\"] = value => <pre>{value.substring(0,300)}</pre>\n            return\n        }\n\n        if ((typeof value) === 'object') {\n            keyColumn[\"render\"] = value => <span>{                \n                    JSON.stringify(value).substring(0, 300) \n                }</span>\n            return\n        }\n        if ((typeof value) === 'array') {\n            keyColumn[\"render\"] = value => <span>{value.join(\",\").substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'boolean') {\n            keyColumn[\"render\"] = value => <span>{value.toString()}</span>\n            return\n        }\n        if (keyColumn.key == \"fileSystem\" || keyColumn.key == \"message\" || keyColumn.key == \"info\") {\n            keyColumn[\"render\"] = value => <pre>{value.toString()}</pre>\n            return\n        }\n\n\n    }\n\n    update = (data, config) => {\n        // e.g. [{\"a\":1}]\n        this.config=config\n        let keys = []\n        let basket = {}\n        let rows = []\n        const self = this\n        //collect all keys\n        data.forEach(function (item) {\n            for (let key in item) {\n                if (!basket[key]) {\n                    const keyColumn = {\n                        title: key,\n                        dataIndex: key,\n                        key: key,\n                    }\n                    self.setRender(keyColumn, data)\n                    keys.push(keyColumn)\n                    basket[key] = true\n                }\n            }\n        })\n\n        // collect data\n        data.forEach(function (item, index) {\n            let new_item = {}\n            keys.forEach(function (key) {\n                new_item[key.key] = item[key.key]\n            })\n            new_item[\"key\"] = index\n            rows.push(new_item)\n        })\n\n        this.setState({columns: keys, data: rows})\n    }\n\n    rowDoubleClick = (row, index, event) => {\n        if (row.name === \"codeExample\" || row.name === \"doc\") {\n            this.setState({\n                view: {\n                    enabled: true,\n                    content: row.value\n                }\n            })\n        }\n    }\n\n    disablePreview = () => {\n        this.setState({\n            view: {\n                enabled: false\n            }\n        })\n    }\n\n    render() {\n        const self = this\n        return (<div style={this.tableStyle}>\n                <Table\n                    onRow={(row, index) => {\n                        return {\n                            onDoubleClick: (event) => {\n                                self.rowDoubleClick(row, index, event)\n\n                            }\n                        }\n                    }\n                    }\n\n                    columns={this.state.columns}\n                    dataSource={this.state.data}/>\n                <Modal\n                    title={\"View\"}\n                    visible={this.state.view.enabled}\n                    onCancel={this.disablePreview}\n                    onOk={this.disablePreview}\n                    cancelText=\"Cancel\"\n                    OkText=\"Ok\"\n                >\n                    <ReactMarkdown source={this.state.view.content || \"\"}/>\n                </Modal>\n            </div>\n        )\n    }\n\n}","import React from 'react'\nimport Dropzone from 'react-dropzone'\nimport {fromEvent} from 'file-selector';\nimport request from \"superagent\";\nimport {FILE_UPLOAD} from '../../service/BackendConfig'\nimport * as HTTP from \"../../service/HTTPMethod\";\n\nconst baseStyle = {\n    width: 200,\n    height: 200,\n    borderWidth: 2,\n    borderColor: '#666',\n    borderStyle: 'dashed',\n    borderRadius: 5\n};\nconst activeStyle = {\n    borderStyle: 'solid',\n    borderColor: '#6c6',\n    backgroundColor: '#eee'\n};\nconst rejectStyle = {\n    borderStyle: 'solid',\n    borderColor: '#c66',\n    backgroundColor: '#eee'\n};\n\nconst fileListStyle = {\n    display: 'flex'\n}\n\n\nexport class UploadDropzone extends React.Component {\n\n    constructor() {\n        super()\n        this.state = {\n            files: []\n        }\n\n    }\n\n    onDrop = (files) => {\n        this.setState({files})\n        const req = request.post(FILE_UPLOAD);\n        req.set('Access-Token', sessionStorage.getItem(HTTP.AccessToken.name) || '')\n        files.forEach(file => {\n            req.attach(file.path, file);\n        });\n\n        req.end((err, res) => {\n            this.setState({files: []})\n            if (!err) {\n                if (res.ok) {\n                    this.setState({msg: \"total files:\" + files.length + \" are uploaded. \\n You can check the files with command: !hdfs -ls /tmp/upload; \"})\n                }\n            } else {\n                console.log(err)\n                this.setState({msg: err.toString() + \"\\n Sometimes this caused by your upload space is not enough or backend fails\"})\n            }\n        })\n    }\n\n\n    render() {\n\n        const files = this.state.files.map(f => (\n            <li key={f.name}>\n                {f.path} - {f.size} bytes\n            </li>\n        ))\n\n        return (\n            <section style={fileListStyle}>\n                <div>\n                    <Dropzone onDrop={this.onDrop}\n                              getDataTransferItems={evt => fromEvent(evt)}\n                    >\n                        {({getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject, acceptedFiles, rejectedFiles}) => {\n                            let styles = {...baseStyle}\n                            styles = isDragActive ? {...styles, ...activeStyle} : styles\n                            styles = isDragReject ? {...styles, ...rejectStyle} : styles\n\n                            return (\n                                <div\n                                    {...getRootProps()}\n                                    style={styles}\n                                >\n                                    <input {...getInputProps()} />\n                                    <div>\n                                        {isDragAccept ? 'Drop' : 'Drag'} files here...\n                                    </div>\n                                    {isDragReject && <div>Unsupported file type...</div>}\n                                </div>\n                            )\n                        }}\n                    </Dropzone>\n                </div>\n                <aside>\n                    <h4>{files.length === 0 ? \"\" : \"Files\"}</h4>\n                    <ul>{files}</ul>\n                </aside>\n                <div>{this.state.msg ? this.state.msg : \"\"}</div>\n            </section>\n        );\n    }\n}","import React, {PureComponent} from 'react';\nimport {\n    ScatterChart, Scatter, XAxis, YAxis, ZAxis, CartesianGrid, Tooltip, Legend,\n} from 'recharts';\n\nconst randomColor = require('randomcolor');\nconst generateColor = () => {\n    let color = randomColor()\n    if (color === \"#000000\") {\n        color = \"#8884d8\"\n    }\n    return color\n}\n\nexport default class MLSQLThreeDimScatterChart {\n\n\n    static basicCheck = (data, fun) => {\n        if (data.length < 1) {\n            return false\n        }\n\n        try {\n            return fun(data[0])\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n    static isShouldRender = (data) => {\n        return MLSQLThreeDimScatterChart.basicCheck(data, (item) => {\n\n            return item.hasOwnProperty(\"x\") && item.hasOwnProperty(\"y\") && (item.hasOwnProperty(\"_dash_config\") || item.hasOwnProperty(\"dash\")) && (\n                item[\"dash\"] === \"scatter\" || (item[\"_dash_config\"] || {})[\"dash\"] === \"scatter\"\n            )\n        })\n    }\n\n    static render(data) {\n        let haveZ = data[0].hasOwnProperty(\"z\")\n        if (!data.hasOwnProperty(\"dataType\")) {\n            data.forEach((item) => {\n                item[\"dataType\"] = \"default\"\n                if (!haveZ) {\n                    item[\"z\"] = 0\n                }\n            })\n        }\n        const dataTypeToItems = data.reduce((map, item) => {\n            const {x, y, z, dataType} = item\n            const prev = map.get(dataType)\n            if (prev) {\n                prev.push(item)\n            } else {\n                map.set(dataType, [item])\n            }\n            return map\n        }, new Map())\n\n        const item = data[0]\n        const _config = item[\"_dash_config\"] || {}\n\n        const scatters = [...dataTypeToItems.keys()].map((key) => {\n            const dataTypeConfig = Object.assign({fill: generateColor(), shape: \"triangle\"}, (_config[key] || {}))\n            return <Scatter key={key} name={key} data={dataTypeToItems.get(key)} {...dataTypeConfig}/>\n        })\n\n\n        const xConfig = Object.assign({type: \"number\", dataKey: \"x\"}, (_config[\"x\"] || {}))\n        const yConfig = Object.assign({type: \"number\", dataKey: \"y\"}, (_config[\"y\"] || {}))\n        const zConfig = Object.assign({type: \"number\", dataKey: \"z\"}, (_config[\"z\"] || {}))\n\n\n        return (\n            <ScatterChart\n                width={400}\n                height={400}\n                margin={{\n                    top: 20, right: 20, bottom: 20, left: 20,\n                }}\n            >\n                <CartesianGrid/>\n                <XAxis {...xConfig}/>\n                <YAxis {...yConfig}/>\n                {haveZ ? <ZAxis {...zConfig}/> : \"\"}\n                <Tooltip cursor={{strokeDasharray: '3 3'}}/>\n                <Legend/>\n                {scatters}\n            </ScatterChart>\n        );\n    }\n\n}\n\n","import React, {PureComponent} from 'react';\nimport {\n    XAxis,\n    YAxis,\n    LineChart,\n    CartesianGrid,\n    Legend,\n    Line,\n    Tooltip as JTooltip,\n    Bar as JBar,\n    BarChart,\n} from 'recharts';\n\nconst randomColor = require('randomcolor');\nconst generateColor = () => {\n    let color = randomColor()\n    if (color === \"#000000\") {\n        color = \"#8884d8\"\n    }\n    return color\n}\n\nexport default class MLSQLLineChart {\n\n\n    static basicCheck = (data, fun) => {\n        if (data.length < 1) {\n            return false\n        }\n\n        try {\n            return fun(data[0])\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n    static isShouldRender = (data) => {\n        return MLSQLLineChart.basicCheck(data, (item) => {\n            return item.hasOwnProperty(\"x\") && (item.hasOwnProperty(\"dash\") || item.hasOwnProperty(\"_dash_config\"))\n        })\n    }\n\n    static render(data) {\n        const item = data[0]\n        const ys = []\n        const _config = item[\"_dash_config\"] || {}\n        if (item[\"dash\"] === \"line\" || _config[\"dash\"] === \"line\") {\n            Object.keys(item).forEach((key) => {\n                if ((typeof item[key]) === \"number\") {\n                    const dataTypeConfig = Object.assign({stroke: generateColor()}, (_config[key] || {}))\n                    ys.push(<Line key={key} type=\"monotone\" dataKey={key} {...dataTypeConfig}/>)\n                }\n            })\n            return <LineChart\n                width={500}\n                height={300}\n                data={data}\n                margin={{\n                    top: 5, right: 30, left: 20, bottom: 5,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\"/>\n                <XAxis dataKey=\"x\"/>\n                <YAxis/>\n                <JTooltip/>\n                <Legend/>\n                {ys}\n            </LineChart>\n        }\n\n\n        if (item[\"dash\"] === \"bar\" || _config[\"dash\"] === \"bar\") {\n            Object.keys(item).forEach((key) => {\n                if ((typeof item[key]) === \"number\") {\n                    const dataTypeConfig = Object.assign({fill: generateColor()}, (_config[key] || {}))\n                    ys.push(<JBar key={key} dataKey={key} {...dataTypeConfig}/>)\n                }\n            })\n            return <BarChart\n                width={500}\n                height={300}\n                data={data}\n                margin={{\n                    top: 5, right: 30, left: 20, bottom: 5,\n                }}\n            >\n                <CartesianGrid strokeDasharray=\"3 3\"/>\n                <XAxis dataKey=\"x\"/>\n                <YAxis/>\n                <JTooltip/>\n                <Legend/>\n                {ys}\n            </BarChart>\n        }\n    }\n\n}","import React, {Component} from 'react';\nimport {LineChart, Line, CartesianGrid, XAxis, YAxis, Legend} from 'recharts';\nimport moment from \"moment\";\n\n\nexport default class MLSQLStream extends Component {\n\n    constructor(props) {\n        super(props);\n        this.queryApp = props.parent.parent\n        this.state = {data: props.data, dataForRender: [], titleMap: {}}\n\n    }\n\n    componentDidMount() {\n        this.renderStream()\n    }\n\n    static isStream = (data) => {\n        if (data.length < 1) {\n            return false\n        }\n        try {\n            const item = JSON.parse(data[0][\"value\"])\n            if (!item[\"runId\"]) {\n                return false\n            }\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n    static isShouldRender = (data) => {\n        return MLSQLStream.isStream(data)\n    }\n\n    renderStream = () => {\n        const data = this.state.data\n        const dataForRender = []\n        const dataForRender2 = []\n\n        data.forEach((item) => {\n            const jsonItem = JSON.parse(item[\"value\"])\n            const x = moment.utc(jsonItem.timestamp).format('DD,h:mm:ss')\n            dataForRender.push({\n                x: x,\n                inputRowsPerSecond: jsonItem.inputRowsPerSecond,\n                processedRowsPerSecond: jsonItem.processedRowsPerSecond\n            })\n\n            dataForRender2.push({\n                x: x,\n                numInputRows: jsonItem.numInputRows\n            })\n        })\n        this.setState({\n            dataForRender: dataForRender,\n            dataForRender2: dataForRender2\n        })\n    }\n\n    static renderRawData = (data) => {\n        if (!MLSQLStream.isShouldRender(data)) return \"\"\n        const dataForRender = []\n        data.forEach((item) => {\n            const jsonItem = JSON.parse(item[\"value\"])\n            dataForRender.push(JSON.stringify(jsonItem, null, 2))\n        })\n        return dataForRender.join(\"\\n\")\n    }\n\n    render() {\n        if (this.state.dataForRender.length === 0) return null\n        return <div>\n\n            <LineChart width={800} height={300} data={this.state.dataForRender}>\n                <Line type=\"monotone\" dataKey=\"inputRowsPerSecond\" stroke=\"#8884d8\"/>\n                <Line type=\"monotone\" dataKey=\"processedRowsPerSecond\" stroke=\"#82ca9d\"/>\n                <CartesianGrid stroke=\"#ccc\"/>\n                <XAxis dataKey=\"x\"/>\n                <YAxis/>\n                <Legend/>\n            </LineChart>\n\n            <LineChart width={800} height={300} data={this.state.dataForRender2}>\n                <Line type=\"monotone\" dataKey=\"numInputRows\" stroke=\"#8884d8\"/>\n                <CartesianGrid stroke=\"#ccc\"/>\n                <XAxis dataKey=\"x\"/>\n                <YAxis/>\n                <Legend/>\n            </LineChart>\n        </div>\n    }\n\n}\n\n","import React from 'react';\nimport {Resizable} from \"re-resizable\";\n\n\nexport default class MLSQLHTML {\n\n\n    static basicCheck = (data, fun) => {\n        if (data.length < 1) {\n            return false\n        }\n\n        try {\n            return fun(data[0])\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n    static isShouldRender = (data) => {\n        return MLSQLHTML.basicCheck(data, (item) => {\n            return item.hasOwnProperty(\"html\") && (item.hasOwnProperty(\"dash\") || item.hasOwnProperty(\"_dash_config\"))\n        })\n    }\n\n    static render(data) {        \n        const item = data[0]    \n        return <MLSQLHTMLPanel data={item}></MLSQLHTMLPanel>\n    }\n\n}\n\nexport class MLSQLHTMLPanel extends React.Component {\n\n\n    constructor(props) {\n        super(props)\n        this.state = {data: this.props.data}\n    }\n\n    refresh = (data) => {\n        this.setState({data: data})\n    }\n\n    render() {        \n        return (\n            <div style={{width:\"100%\"}}>\n                <Resizable defaultSize={{height: \"500px\"}}>\n                    <iframe\n                        sandbox=\"allow-scripts\"\n                        style={{width: '100%', height: \"100%\"}}\n                        srcDoc={this.state.data[\"html\"]}\n                        frameBorder=\"0\"\n                        scrolling=\"yes\"\n                        ref={(f) => {\n                            this.ifr = f;\n                        }}\n\n                    />\n                </Resizable>\n            </div>\n        );\n        \n    }\n\n\n}","import React from 'react';\nimport { ActionProxy } from \"../../backend_service/ActionProxy\"\nimport RemoteAction from '../../backend_service/RemoteAction';\nimport { MLSQLQueryDisplay } from '../../components/MLSQLQueryDisplay';\nimport { Button, Modal } from 'antd';\nimport EditorOp from '../comp_op/EditorOp'\nimport AceEditor from 'react-ace';\nimport EngineService from '../service/EngineService';\n\nexport default class QueryHistory extends React.Component {\n    constructor(props){\n      super(props)\n      // here the queryApp is actually MLSQLACEEditor\n      this.queryApp = props.parent.queryApp      \n      this.client = new ActionProxy()\n      this.state = {showDetail:false,executeAgainStatus:{}}\n      \n\n      let defaultRender =  (value,record)=>{\n        return <Button type=\"link\" onClick={async (evt)=>{\n          // target button\n          // parentNode th\n          // parentNode tr\n          // the second th is jobName\n          // <tr><th>...</th></tr>\n          const currentTH = evt.target.parentNode\n          // another way get row index and column index\n          // console.log(`${currentTH.parentElement.rowIndex}:${currentTH.cellIndex} `)\n          // const domTree = evt.target.parentNode.parentNode      \n          // const jobName = domTree.children[1].innerText\n          // const num = [].slice.call(domTree.children).indexOf(currentTH)\n          const num = currentTH.parentNode.cellIndex\n          let field = \"\"\n          switch (num){\n            case 2: field= \"content\";break;\n            case 4: field= \"reason\";break;\n            case 7: field= \"response\";break;\n          } \n          console.log(num)         \n          await this.showDetail(record.name,field)\n          \n        }} ><span style={{whiteSpace:\"normal\",wordWrap:\"break-word\",width:\"100px\"}}>{value}</span></Button>\n      }\n      \n      let statusRender = (value)=>{\n        let t = \"\"\n        let cssStyle = {}\n        switch (value) {\n          case \"fail\": t = \"danger\"; break;\n          case \"killed\": t = \"danger\"; break;\n          case \"success\": t = \"primary\"; cssStyle ={backgroundColor:\"green\"}; break;\n          case \"running\": t = \"primary\";break;\n        }\n        \n        return <Button type={t} style={cssStyle}>{value}</Button>\n      }\n\n      let killJobRender = (value,record)=>{  \n        const jobName = record.name\n        if(record.status!==\"running\"){\n            return <Button type=\"primary\" key={jobName} loading={this.state.executeAgainStatus[jobName]} onClick={async (evt)=>{  \n               this.state.executeAgainStatus[jobName] = true \n               this.setState(this.state.executeAgainStatus)\n               await EngineService.runJob(record.content)\n               this.reload()\n            }}>Execute again</Button>\n        }\n        return <Button key={jobName} onClick={async (evt)=>{           \n           const res = await EngineService.killJob(jobName)\n           this.reload()\n         }}>Kill</Button>\n      }\n\n      let showTableRender = (value,record)=>{\n        return <Button type=\"link\" onClick={async (evt)=>{               \n          await this.showResponse(record.name)\n        }}><span style={{whiteSpace:\"normal\",wordWrap:\"break-word\",width:\"100px\"}}>{value}</span></Button>      \n      }\n\n      this.renderConfig = {\n        render:{\n          content: defaultRender,\n          response: showTableRender,\n          reason: defaultRender,\n          status: statusRender,\n          \"__command__\": killJobRender\n        }\n      }      \n    }\n\n    async reload(){\n      this.setState({executeAgainStatus:{}})\n      const res = await this.client.get(RemoteAction.JOB_LIST,{}) \n      if(res.status == 200){\n        if(this.display){\n            this.display.update(\n              this.processData(res.content),\n              this.renderConfig)\n        }  \n      }\n    }\n\n    processData(data){\n       return data.map(item=>{\n         const jobName = item[\"status\"]===\"running\" ? item[\"jobName\"] : \"\"\n         return Object.assign(item,{\"__command__\":jobName})\n       })\n    }\n\n    async showDetail(jobName,field){  \n      const res = await this.client.get(RemoteAction.JOB_DETAIL,{jobName:jobName})      \n      this.setState({        \n        showDetail: true,\n        detailConsoleMessage:res.content[field] \n      })           \n    }\n\n    async showResponse(jobName){  \n      const res = await this.client.get(RemoteAction.JOB_DETAIL,{jobName:jobName})\n      this.setState({        \n        showResponse: true\n      })            \n      if(this.respDisplay){                         \n        this.respDisplay.update(JSON.parse(res.content.response))\n      }      \n    }\n\n    toggleDetail = ()=>{      \n      this.setState({showDetail:!this.state.showDetail})\n    }\n    toggleResponse = ()=>{      \n      this.setState({showResponse:!this.state.showResponse})\n    }\n\n   async componentDidMount(){\n       await this.reload()\n    }\n\n    render(){\n      return <div className=\"mlsql-query-display\"> \n        <Modal  \n                    title={\"View\"}\n                    visible={this.state.showDetail}\n                    onCancel={this.toggleDetail}\n                    onOk={this.toggleDetail}\n                    cancelText=\"Cancel\" \n                    width=\"70%\"                   \n                    OkText=\"Ok\">                    \n         <AceEditor height={\"300px\"}\n                        width={\"100%\"}                        \n                        mode=\"text\"\n                        theme=\"github\"\n                        name=\"detail_box\"\n                        value={this.state.detailConsoleMessage||\"\"}\n        ></AceEditor>\n        </Modal> \n        <Modal  \n                    title={\"View\"}\n                    visible={this.state.showResponse}\n                    onCancel={this.toggleResponse}\n                    onOk={this.toggleResponse}\n                    cancelText=\"Cancel\" \n                    width=\"70%\"\n                    OkText=\"Ok\">                    \n        <MLSQLQueryDisplay style={{overflow:\"scroll\"}} ref={(_display)=>{this.respDisplay = _display}} parent={this}/>\n        </Modal> \n        <div style={{ marginBottom: 16 }}>\n          <Button type=\"primary\" onClick={()=>{this.reload()}}>\n            Reload\n          </Button>          \n        </div>     \n        <MLSQLQueryDisplay ref={(_display)=>{this.display = _display}} parent={this}/>\n      </div>\n    }\n}","import React, {Component, PureComponent} from 'react';\nimport {Collapse,Tabs} from 'antd';\nimport {UploadDropzone} from '../upload/UploadDropZone'\nimport MLSQLThreeDimScatterChart from \"../dash/MLSQLScatterChart\";\nimport MLSQLLineChart from \"../dash/MLSQLLineChart\";\nimport MLSQLStream from \"../dash/MLSQLStream\";\nimport MLSQLHTML from \"../dash/MLSQLHTML\";\nimport QueryHistory from \"../../v1/async_execute/QueryHistory\"\nimport ResourceProgress from '../../v1/async_execute/ResourceProgress';\nimport {\n    BarChart, Bar, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend,\n  } from 'recharts';\n\n\nconst Panel = Collapse.Panel;\nconst TabPane = Tabs.TabPane;\n\nfunction callback(key) {\n    \n}\n\nexport class MLSQLDash extends PureComponent {\n    constructor(props) {\n        super(props);\n        this.queryApp = props.parent\n        this.state = {data: [], dataForRender: [], titleMap: {}}\n    }\n\n\n    static basicCheck = (data, fun) => {\n        if (data.length < 1) {\n            return false\n        }\n\n        try {\n            return fun(data[0])\n        } catch (e) {\n            return false\n        }\n\n        return true\n    }\n\n\n    isNormalXY = (data) => {\n        return MLSQLDash.basicCheck(data, (item) => {\n            return item.hasOwnProperty(\"x\") && item.hasOwnProperty(\"y\") && ((typeof item[\"y\"]) === \"number\")\n        })\n    }\n\n\n    xYRender = (data) => {\n        return <Bar\n            height={200}\n            title=\"Bar\"\n            data={data}\n        />\n    }\n\n\n    renderDash = () => {\n        const data = this.state.data        \n        if (MLSQLStream.isShouldRender(data)) {\n            return <MLSQLStream data={data} parent={this}/>\n        }\n\n        if (MLSQLThreeDimScatterChart.isShouldRender(data)) {\n            return MLSQLThreeDimScatterChart.render(data)\n        }\n\n        if (this.isNormalXY(data)) {\n            return this.xYRender(data)\n        }\n\n        if (MLSQLLineChart.isShouldRender(data)) {\n            return MLSQLLineChart.render(data)\n        }\n\n        if (MLSQLHTML.isShouldRender(data)) {\n            return MLSQLHTML.render(data)\n        }\n\n        return <div></div>\n\n    }\n\n    refresh() {\n        try {\n            const data = this.queryApp.queryResData || []\n            this.setState({data: data})\n        } catch (e) {\n\n        }\n\n    }\n\n\n    render() {\n        return (<Collapse onChange={callback}>\n            <Panel header=\"Tools/Dashboard\" key=\"0\">\n                <Tabs defaultActiveKey=\"0\" onChange={callback} onTabClick={(key)=>{\n                        if(key===\"0\"){                            \n                            this.resourceProgressRef.reload()\n                        }                        \n                    }}>\n                    <TabPane tab=\"Cluster Info\" key=\"0\">\n                     <ResourceProgress ref={(et)=>this.resourceProgressRef=et} parent={this}></ResourceProgress>\n                    </TabPane>\n                    <TabPane tab=\"Upload\" key=\"1\">\n                        <UploadDropzone/>\n                    </TabPane>\n                    <TabPane tab=\"Dashboard\" key=\"2\">{this.renderDash()}</TabPane>\n                    <TabPane tab=\"RawData\" key=\"3\">\n                        <pre>{MLSQLStream.renderRawData(this.state.data)}</pre>\n                    </TabPane>\n                    <TabPane tab=\"History\" key=\"4\">\n                        <QueryHistory ref={(et)=>this.queryHistory=et} parent={this}/>\n                    </TabPane>\n\n                    {/* <TabPane tab=\"Running jobs\" key=\"5\">\n                        <QueryHistory ref={(et)=>this.queryHistory=et}/>\n                    </TabPane> */}\n                </Tabs>\n            </Panel>\n        </Collapse>)\n    }\n\n}","import React from 'react'\nimport AceEditor from \"react-ace\";\n\n/**\n * onLoad(editor){\n  // Your editor options comes here\n   editor.on('change', (arg, activeEditor) => {\n      const aceEditor = activeEditor;\n      const newHeight = aceEditor.getSession().getScreenLength() *\n        (aceEditor.renderer.lineHeight + aceEditor.renderer.scrollBar.getWidth());\n       aceEditor.container.style.height = `${newHeight}px`;\n      aceEditor.resize();\n    });\n}\n */\nexport default class CodeBlock extends React.Component {\n\n    constructor(props) {\n        super(props)\n    }\n\n    originalEditor = () => {\n        return this.editor.editor\n    }\n\n    componentDidMount() {\n        this.originalEditor().container.style.lineHeight = 3\n    }\n\n    render() {\n        return (\n            <AceEditor\n                maxLines={Infinity}\n                width={\"100%\"}\n                ref={et => {\n                    this.editor = et\n                }}\n                value={this.props.initialCode}\n                mode=\"sql\"\n                theme=\"github\"\n\n            />\n        )\n    }\n}","import React from 'react'\nimport { Icon } from '@ant-design/compatible';\n\nexport default class CommandGroup extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {isExecute: false, executeUnit: props.executeUnit}\n    }\n\n    evtExecute = () => {\n        this.setState({isExecute: true})\n        this.state.executeUnit.execute()\n    }\n\n    cancelExecute = () => {\n        this.setState({isExecute: false})\n    }\n\n    render() {\n        return <div>\n            {\n                this.state.isExecute ? <span onClick={this.cancelExecute}><Icon type=\"sync\" spin/></span> :\n                    <span onClick={this.evtExecute}><Icon type=\"caret-right\"/></span>\n            }\n        </div>\n    }\n}","import {MLSQLAPI} from \"../../../service/MLSQLAPI\";\nimport * as BackendConfig from \"../../../service/BackendConfig\";\nimport * as HTTP from \"../../../service/HTTPMethod\";\n\nconst uuidv4 = require('uuid/v4');\n\nexport default class Engine {\n\n    /**\n     * @param {Number} timeout\n     */\n    constructor(timeout) {\n        this.timeout = timeout\n    }\n\n    /**\n     * @param {string} sql\n     * @param {(msg)=>{}} show_result\n     */\n    run = (sql, show_result, fail_result) => {\n        const jobName = uuidv4()\n        const api = new MLSQLAPI(BackendConfig.RUN_SCRIPT)\n\n        api.newRunScript({\n            jobName: jobName,\n            timeout: this.timeout\n        }, sql, show_result, fail_result)\n\n\n    }\n\n    /**\n     * @param {string} code\n     * @param {string} scriptId\n     * @param {(msg)=>{}} show_result\n     */\n    saveFile = (code, scriptId, show_result) => {\n        const api = new MLSQLAPI(BackendConfig.CREATE_SCRIPT_FILE)\n        api.request(HTTP.Method.POST, {\n            id: scriptId,\n            content: code\n        }, (ok) => {\n            if (ok.status != 200) {\n                ok.json((wow) => {\n                    show_result(wow[\"msg\"])\n                }, (jsonErr) => {\n                    show_result(jsonErr)\n                })\n            } else {\n                show_result(\"saved\")\n            }\n\n        }, (fail) => {\n            show_result(fail)\n        })\n    }\n}","import * as React from \"react\";\nimport {Table, Modal} from 'antd';\n\nconst ReactMarkdown = require('react-markdown')\n\n\nexport default class DataTable extends React.Component {\n\n    constructor(props) {\n        super(props)\n        const [keys, rows] = this.parseData(props.data || [], props.config || {})\n        this.state = {columns: keys, rows: rows, view: {enabled: false}}\n    }\n\n    setRender = (keyColumn, data, config) => {\n\n        const value = data[0][keyColumn.key]\n\n        if (config && config[\"render\"]) {\n            const render = this.state.config[\"render\"][keyColumn.key]\n            if (render) {\n                keyColumn[\"render\"] = render\n            }\n            return\n        }\n\n        try {\n            if (React.Component.isPrototypeOf(value.type)) {\n                keyColumn[\"render\"] = value => <span>{value}</span>\n                return\n            }\n        }\n        catch (e) {\n        }\n\n        if ((typeof value) === 'object') {\n            keyColumn[\"render\"] = value => <span>{JSON.stringify(value).substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'array') {\n            keyColumn[\"render\"] = value => <span>{value.join(\",\").substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'boolean') {\n            keyColumn[\"render\"] = value => <span>{value.toString()}</span>\n            return\n        }\n        if (keyColumn.key == \"fileSystem\" || keyColumn.key == \"message\" || keyColumn.key == \"info\") {\n            keyColumn[\"render\"] = value => <pre>{value.toString()}</pre>\n            return\n        }\n\n\n    }\n\n    parseData = (data, config) => {\n        let keys = []\n        let basket = {}\n        let rows = []\n        const self = this\n        //collect all keys\n        data.forEach(function (item) {\n            for (let key in item) {\n                if (!basket[key]) {\n                    const keyColumn = {\n                        title: key,\n                        dataIndex: key,\n                        key: key,\n                    }\n                    self.setRender(keyColumn, data)\n                    keys.push(keyColumn)\n                    basket[key] = true\n                }\n            }\n        })\n\n        // collect data\n        data.forEach(function (item, index) {\n            let new_item = {}\n            keys.forEach(function (key) {\n                new_item[key.key] = item[key.key]\n            })\n            new_item[\"key\"] = index\n            rows.push(new_item)\n        })\n        return [keys, rows]\n    }\n\n    refresh = (data, config) => {\n        // e.g. [{\"a\":1}]\n        const [keys, rows] = this.parseData(data, config)\n        this.setState({columns: keys, rows: rows, config: config})\n    }\n\n    rowDoubleClick = (row, index, event) => {\n        if (row.name === \"codeExample\" || row.name === \"doc\") {\n            this.setState({\n                view: {\n                    enabled: true,\n                    content: row.value\n                }\n            })\n        }\n    }\n\n    disablePreview = () => {\n        this.setState({\n            view: {\n                enabled: false\n            }\n        })\n    }\n\n    render() {\n        const self = this\n        return (<div>\n                <Table\n                    onRow={(row, index) => {\n                        return {\n                            onDoubleClick: (event) => {\n                                self.rowDoubleClick(row, index, event)\n\n                            }\n                        }\n                    }\n                    }\n\n                    columns={self.state.columns}\n                    dataSource={self.state.rows}/>\n                <Modal\n                    title={\"View\"}\n                    visible={self.state.view.enabled}\n                    onCancel={self.disablePreview}\n                    onOk={self.disablePreview}\n                    cancelText=\"Cancel\"\n                    OkText=\"Ok\"\n                >\n                    <ReactMarkdown source={self.state.view.content || \"\"}/>\n                </Modal>\n            </div>\n        )\n    }\n\n}","import React from 'react'\nimport DataTable from \"./DataTable\";\nimport MLSQLHTML, {MLSQLHTMLPanel} from \"../dash/MLSQLHTML\";\nimport AceEditor from \"react-ace\";\n\nexport default class DisplayGroup extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {errorMsg: \"\"}\n    }\n\n\n    refresh = (displayData) => {\n        this.setState({displayData: displayData, errorMsg: \"\"})\n        if (this.displayTableRef) {\n            this.displayTableRef.refresh(this.state.displayData, {})\n        }\n\n        if (this.displayDashRef) {\n            const item = this.state.displayData[0]\n            this.displayDashRef.refresh(item)\n        }\n\n    }\n\n    fail = (msg) => {\n        this.setState({errorMsg: msg})\n        if (this.editor) {\n            this.editor.editor.setValue(msg)\n        }\n    }\n\n    displayDash = () => {\n        if (this.state.displayData && MLSQLHTML.isShouldRender(this.state.displayData)) {\n            const item = this.state.displayData[0]\n            return <MLSQLHTMLPanel data={item} ref={(et) => this.displayDashRef = et}></MLSQLHTMLPanel>\n        } else {\n            return <div></div>\n        }\n\n    }\n\n    displayError = () => {\n        if (this.state.errorMsg) {\n            return <div><AceEditor\n                maxLines={Infinity}\n                width={\"100%\"}\n                ref={et => {\n                    this.editor = et\n                }}\n                value={this.state.errorMsg}\n                mode=\"text\"\n                theme=\"ace/theme/textmate\"\n\n            /></div>\n        } else {\n            return <div></div>\n        }\n    }\n\n    displayTable = () => {\n        if (this.state.displayData) {\n            return <DataTable data={this.state.displayData} ref={(et) => this.displayTableRef = et}></DataTable>\n        } else {\n            return <div></div>\n        }\n\n    }\n\n    render() {\n        return <div>\n            {this.displayError()}\n            {\n                this.displayTable()\n            }{this.displayDash()}</div>\n\n    }\n}","import React from 'react'\nimport CodeBlock from \"./CodeBlock\";\nimport CommandGroup from \"./CommandGroup\";\nimport Engine from \"./service/Engine\";\nimport DisplayGroup from \"./DisplayGroup\";\n\n\nexport default class ExecuteUnit extends React.Component {\n    constructor(props) {\n        super(props)\n        this.notebook = props.parent\n    }\n\n    execute = () => {\n        const sql = this.codeBlock.originalEditor().getValue()\n        const engine = new Engine(5 * 60 * 1000)\n        engine.run(sql, (msg) => {\n            this.displayGroup.refresh(msg)\n            this.commandGroup.setState({isExecute: false})\n            this.notebook.nextExecuteUnit()\n        }, msg => {\n            this.displayGroup.fail(msg)\n            this.commandGroup.setState({isExecute: false})\n        })\n    }\n\n    codeBlockIsEmpty = () => {\n        return this.getCodeStr() === \"\"\n    }\n\n    getCodeStr = () => {\n        return this.codeBlock.originalEditor().getValue()\n    }\n\n\n    render() {\n        return <div>\n            <CodeBlock initialCode={this.props.initialCode} ref={et => {\n                this.codeBlock = et\n            }} executeUnit={this}/>\n            <CommandGroup ref={et => {\n                this.commandGroup = et\n            }} executeUnit={this}/>\n            <DisplayGroup ref={et => this.displayGroup = et}/>\n\n        </div>\n    }\n}\n\n","import React from 'react'\nimport ExecuteUnit from \"./ExecuteUnit\";\nimport Engine from \"./service/Engine\";\n\nconst CODE_SPLITTER = \"set notebooksplitter='notebooksplitter';\"\n\nexport default class NodeBook extends React.Component {\n    constructor(props) {\n        super(props)\n        this.executeUnitRefs = []\n        this.executeUnits = [this.createNewExecuteUnit(\"\")]\n        this.state = {executeUnits: this.executeUnits}\n        this.engine = new Engine(5 * 60 * 1000)\n    }\n\n    createNewExecuteUnit = (initialCode) => {\n        return <ExecuteUnit parent={this} initialCode={initialCode} ref={et => this.addRef(et)}/>\n    }\n\n    addRef = (instance) => {\n        if (instance) {\n            this.executeUnitRefs.push(instance)\n        }\n    }\n\n    nextExecuteUnit = () => {\n        const isLastEmpty = () => {\n            return this.executeUnitRefs.slice(-1)[0].codeBlockIsEmpty()\n        }\n        if (!isLastEmpty()) {\n            this.executeUnits.push(this.createNewExecuteUnit())\n            this.setState({executeUnits: this.executeUnits})\n        }\n        this.saveNoteBook()\n    }\n\n    saveNoteBook = () => {\n        const value = this.executeUnitRefs.map((instance) => {\n            return instance.getCodeStr()\n        }).join(CODE_SPLITTER)\n\n        this.engine.saveFile(value, this.scriptId, (msg) => {\n        })\n    }\n\n    componentDidMount() {\n        if (this.props.parentCallback) {\n            this.props.parentCallback(this)\n        }\n    }\n\n    text = (value, scriptId) => {\n        this.scriptId = scriptId\n        this.initialCode = value\n        if (value && value !== \"undefined\") {\n            this.executeUnitRefs = []\n            this.executeUnits = this.initialCode.split(CODE_SPLITTER).map((initialCode) => {\n                return this.createNewExecuteUnit(initialCode)\n            })\n            this.setState({executeUnits: this.executeUnits})\n        }\n    }\n\n    render() {\n        return <div>\n            {\n                this.state.executeUnits\n            }\n        </div>\n    }\n}","import {ActionProxy} from '../backend_service/ActionProxy'\nconst uuidv4 = require('uuid/v4');\n\nexport class LogMonitor {\n    constructor(appendLog) {\n        this.appendLog = appendLog\n        this.log = {}\n    }\n    async cancelQueryLog() {\n        if (this.intervalTimer) {\n            clearInterval(this.intervalTimer)\n            this.intervalTimer = null\n        }\n    }\n\n    async queryLog() {\n        this.cancelQueryLog()\n        this.intervalTimer = setInterval(async () => {\n            const jobName = uuidv4()\n            const api = new ActionProxy()            \n            const res = await api.runScript(`load _mlsql_.\\`log/${this.log['offset'] || -1}\\` where filePath=\"engine_log\" as output;`, jobName, {})\n            const jsonObj = res.content[0]\n            if (jsonObj['value'].length > 0) {\n                this.appendLog(jsonObj['value'].map(item => {\n                    return item.split(\"__MMMMMM__\")[1]\n                }).join(\"\\n\"))\n            }\n            this.log['offset'] = jsonObj[\"offset\"]\n        }, 2000)\n    }\n}","import * as React from \"react\";\nimport brace from 'brace';\nimport 'brace/ext/searchbox';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/sql';\nimport 'brace/theme/github';\nimport 'brace/ext/language_tools';\n\nimport '../MLSQLAceEditor.scss'\nimport { Button, Tooltip, Progress } from 'antd';\nimport { MLSQLAPI } from \"../../service/MLSQLAPI\";\nimport * as BackendConfig from \"../../service/BackendConfig\";\nimport * as HTTP from \"../../service/HTTPMethod\";\nimport { Select } from 'antd';\nimport { Resizable } from \"re-resizable\";\nimport {ActionProxy} from '../../backend_service/ActionProxy'\nimport { LogMonitor } from \"../../common/LogMonitor\";\n\nconst { Option } = Select;\n\nconst uuidv4 = require('uuid/v4');\n\n\nclass PythonACE extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.language = this.props.language || \"sql\"\n        this.queryApp = this.props.parent.queryApp\n\n        this.state = { value: \"\", loading: false }\n        \n        this.executeQuery = this.executeQuery.bind(this)\n        this.cancelQuery = this.cancelQuery.bind(this)\n        \n        this.logMonitor = new LogMonitor(this.appendLog)        \n        \n        this.log = {}\n    }\n\n    text = (value, scriptId) => {\n        this.setState({ value: value, scriptId: scriptId }, () => {\n            this.aceEditorRef.editor.setValue(value, 1)\n        })\n\n    }\n\n    componentDidMount() {\n        if (this.props.parentCallback) {\n            this.props.parentCallback(this)\n        }\n    }\n\n    onChange(newValue) {\n\n    }\n\n    executeSave = () => {\n        const api = new MLSQLAPI(BackendConfig.CREATE_SCRIPT_FILE)\n        const self = this\n\n        const messageBox = this.getMessageBoxAceEditor()\n\n        if (!self.state.scriptId) {\n            messageBox.setValue(\"no file are opened, cannot executeSave\")\n            return\n        }\n\n        api.request(HTTP.Method.POST, {\n            id: self.state.scriptId,\n            content: self.getAceEditor().getValue()\n        }, (ok) => {\n            if (ok.status != 200) {\n                ok.json((wow) => {\n                    self.appendLog(wow[\"msg\"])\n                }, (jsonErr) => {\n                    self.appendLog(jsonErr)\n                })\n            } else {\n                self.appendLog(\"saved\")\n            }\n\n        }, (fail) => {\n            self.appendLog(fail)\n        })\n\n    }\n\n    async executeQuery() {\n        this.commandGroup.setState({loading:true})\n        this.jobName = uuidv4()        \n        const api = new ActionProxy()\n        const self = this\n        self.getMessageBoxAceEditor().setValue(\"\")\n        self.getDisplay().update(JSON.parse(\"[]\"))\n\n        const select = self.getSelection()\n        let finalSQL = self.getAllText()\n\n\n        if (select !== '') {\n            finalSQL = select\n        }\n\n        const scriptId = self.state.scriptId\n        this.logMonitor.queryLog()\n        const res = await api.runScript(finalSQL, this.jobName, {\n            scriptId: scriptId,\n            runMode: \"python\",\n            executeMode: \"python\"\n        })        \n        if (res.status !== 200) {\n            this.logMonitor.cancelQueryLog()            \n            this.appendLog(res.content) \n            this.commandGroup.setState({loading:false})           \n            return\n        }\n        try {            \n            this.appendLog(res.content.join(\"\\n\"))\n        }catch(ex){\n            this.appendLog(res.content[\"msg\"])\n        }\n        this.logMonitor.cancelQueryLog()\n        this.commandGroup.setState({loading:false})\n    }\n\n    async cancelQuery() {\n        if (!this.jobName) return\n        const jobName = uuidv4()\n        const api = new ActionProxy()\n        const res = await api.runScript(\"!kill \" + this.jobName+\";\", jobName, {})                        \n        try {\n            this.appendLog(res.content[0]['description'])                \n        }catch(e){\n            this.appendLog(res.content)\n        }\n        \n        this.jobName = null\n        this.logMonitor.cancelQueryLog()\n    }\n\n    getAllText = () => {\n        return this.getAceEditor().getValue()\n    }\n\n    getSelection = () => {\n        let selectionRange = this.getAceEditor().getSelectionRange()\n        let content = this.getAceEditor().session.getTextRange(selectionRange);\n        return content\n    }\n\n    appendToEditor = (str) => {\n        const editor = this.getAceEditor()\n        const p = editor.getCursorPosition()\n        editor.session.insert(p, str)\n        editor.focus();\n    }\n\n    getAceEditor = () => {\n        return this.aceEditorRef.editor\n    }\n\n    getMessageBoxAceEditor = () => {\n        return this.queryApp.messageBox.current.editor\n    }\n\n    appendLog = (msg) => {\n        const editor = this.getMessageBoxAceEditor()\n        const session = editor.session\n        session.insert({\n            row: session.getLength(),\n            column: 0\n        }, \"\\n\" + msg)\n    }\n\n    getDashBoard = () => {\n        return this.queryApp.dash.current\n    }\n\n    getDisplay = () => {\n        return this.queryApp.display.current\n    }\n\n    render() {\n        const self = this\n        return (\n            <div className=\"mlsql-editor-area\">\n\n                <div onDragOver={(evt) => evt.preventDefault()} onDrop={this.etOver}>\n                    <Resizable defaultSize={{ height: \"500px\" }} onResize={() => { this.aceEditorRef.current.editor.resize(); }}><AceEditor\n                        ref={item => this.aceEditorRef=item}\n                        mode={this.language}\n                        theme=\"github\"\n                        width={\"100%\"}\n                        height={\"100%\"}\n                        onChange={this.onChange}\n                        name=\"mlsql_editor\"\n                        fontSize={16}\n                        showPrintMargin={true}\n                        showGutter={true}\n                        highlightActiveLine={true}\n                        editorProps={{\n                            $blockScrolling: Infinity\n                        }}\n                        setOptions={{\n                            enableBasicAutocompletion: true,\n                            enableLiveAutocompletion: true,\n                            enableSnippets: false,\n                            showLineNumbers: true,\n                            tabSize: 2,\n                            autoScrollEditorIntoView: true\n                        }}\n                    /></Resizable>\n                </div>\n\n                <CommandGroup ref={item => this.commandGroup=item} parent={this} />\n            </div>\n        )\n    }\n\n}\n\nclass CommandGroup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = { loading: false, timeout: \"-1\" }\n        this.parent = props.parent\n    }\n\n    onChange = (value) => {\n        this.setState({ timeout: value })\n    }\n    \n\n    render() {\n        return (\n            <div className=\"mslql-editor-buttons\">\n                <Button onClick={this.parent.executeQuery}\n                    loading={this.state.loading}>Run</Button>\n                <Button onClick={this.parent.cancelQuery}>Cancel</Button>\n                <Button onClick={this.parent.executeSave}>Save</Button>\n\n            </div>\n        )\n    }\n\n}\n\n\nexport default PythonACE\n\n","import React from 'react'\nimport PythonACE from './PythonACE';\n\n\nexport default class PythonEditor extends React.Component {\n    constructor(props) {\n        super(props)    \n        this.queryApp = this.props.parent\n    }\n\n    addRef = (instance) => {  \n        if(instance){\n            this.editor = instance\n        }      \n    }\n    \n\n    componentDidMount() {\n        if (this.props.parentCallback) {\n            this.props.parentCallback(this)\n        }\n    }    \n\n    text = (value, scriptId) => {        \n        this.editor.text(value, scriptId)     \n    }\n    \n\n    render() {\n        return <div>\n            <PythonACE parent={this} ref={et => this.addRef(et)} language=\"python\"></PythonACE>\n        </div>\n    }\n}","import * as React from \"react\"\nimport {Tabs} from 'antd';\nimport MLSQLAceEditor from \"../MLSQLAceEditor\";\nimport NodeBook from \"../notebook/NoteBook\";\nimport PythonEditor from \"../python/PythonEditor\";\n\nconst TabPane = Tabs.TabPane;\n\nexport class TabEditor extends React.Component {\n    constructor(props) {\n        super(props);\n        this.parent = props.parent\n        this.myRefs = []\n        this.newTabIndex = 0;\n        const panes = [\n            {\n                title: 'MLSQL 1',\n                content: <MLSQLAceEditor parent={this.parent} parentCallback={(ref) => {\n                    this.pushRef({ref: ref, activeKey: \"newTab0\"})\n                }} activeKey='newTab0'/>,\n                key: 'newTab0'\n            },\n        ];\n        this.state = {\n            activeKey: panes[0].key,\n            panes,\n        };\n        this.newTabIndex++\n    }\n\n    pushRef = (ref) => {\n        this.myRefs.push(ref)\n    }\n\n    getCurrentEditor = () => {\n        const activeKey = this.state.activeKey;\n        let currentItem = null\n        this.myRefs.forEach(item => {\n            if (item.activeKey === activeKey) {\n                currentItem = item\n            }\n        })\n        return currentItem\n    }\n\n    onChange = (activeKey) => {\n\n        let currentItem = null\n\n        this.state.panes.forEach(item => {\n            if (item.key === activeKey) {\n                currentItem = item\n            }\n        })\n\n        if (currentItem && !currentItem.title.endsWith(\".mlsql\")) {\n            this.parent.setState({displayEditor: \"normal\"})\n        } else if(currentItem && !currentItem.title.endsWith(\".nb\")) {\n            this.parent.setState({displayEditor: \"notebook\"})\n        }else {\n            this.parent.setState({displayEditor: \"pythoneditor\"})\n        }\n\n        this.setState({activeKey});\n    }\n\n    onEdit = (targetKey, action) => {        \n        this[action](targetKey);\n    }\n\n    addFull = (tabName, callback) => {    \n        const editor = (activeKey) => {\n            if (tabName.endsWith(\".mlsql\")) {\n                return <MLSQLAceEditor parent={this.parent} parentCallback={(ref) => {\n                    this.pushRef({ref: ref, activeKey: activeKey})\n                    if (callback) {\n                        callback({ref: ref, activeKey: activeKey})\n                    }\n                }} activeKey={activeKey}/>\n            } else if(tabName.endsWith(\".nb\")) {\n                return <NodeBook parent={this.parent} parentCallback={(ref) => {\n                    this.pushRef({ref: ref, activeKey: activeKey})\n                    if (callback) {\n                        callback({ref: ref, activeKey: activeKey})\n                    }\n                }} activeKey={activeKey}/>\n            }else if(tabName.endsWith(\".py\")) {\n                return <PythonEditor parent={this.parent} parentCallback={(ref) => {\n                    this.pushRef({ref: ref, activeKey: activeKey})\n                    if (callback) {\n                        callback({ref: ref, activeKey: activeKey})\n                    }\n                }} activeKey={activeKey}/>\n            }\n        }\n\n        const panes = this.state.panes;\n        const activeKey = `newTab${this.newTabIndex++}`;\n        panes.push({\n            title: tabName || 'MLSQL ' + this.newTabIndex,\n            content: editor(activeKey),\n            key: activeKey\n        });\n        this.setState({panes, activeKey});\n    }\n\n    add = () => {\n        this.addFull('MLSQL ' + (this.newTabIndex+1),(params)=>{})\n    }\n\n    getPaneIndexByActiveKey = (targetKey) => {\n        let lastIndex;\n        this.state.panes.forEach((pane, i) => {\n            if (pane.key === targetKey) {\n                lastIndex = i - 1;\n            }\n        });\n        return lastIndex\n    }\n\n    remove = (targetKey) => {\n        let activeKey = this.state.activeKey;\n        let lastIndex = this.getPaneIndexByActiveKey(targetKey)\n\n        const panes = this.state.panes.filter(pane => pane.key !== targetKey);\n        if (panes.length && activeKey === targetKey) {\n            if (lastIndex >= 0) {\n                activeKey = panes[lastIndex].key;\n            } else {\n                activeKey = panes[0].key;\n            }\n        }\n        const editorRefList = this.myRefs.filter((item) => item.activeKey === targetKey)\n        this.myRefs = this.myRefs.filter((item) => item.activeKey !== targetKey)\n        this.parent.closeEditor(editorRefList[0])\n\n        this.setState({panes, activeKey});\n    }\n\n    render() {\n        return (\n            <Tabs\n                onChange={this.onChange}\n                activeKey={this.state.activeKey}\n                type=\"editable-card\"\n                onEdit={this.onEdit}\n            >\n                {this.state.panes.map(pane => <TabPane tab={pane.title} key={pane.key}\n                                                       closable={pane.closable}>{pane.content}</TabPane>)}\n            </Tabs>\n        );\n    }\n}","import * as React from \"react\";\nimport {Input} from \"antd\";\n\nconst InputGroup = Input.Group;\n\nexport class ETLoadParams extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etPopLoad = props.parent\n        this.state = {}\n    }\n\n    render() {\n        return <div>\n            <span>parameters:</span>\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n        </div>\n    }\n}","const uuidv4 = require(\"uuid/v4\")\nexport default class Tools {\n    static getTempTableName = () => {\n        return (uuidv4() + \"\").replace(/-/g, \"\")\n    }\n    static getJobName = () => {\n        return uuidv4() + \"\"\n    }\n\n    static escapeQuote = (str)=>{\n        if(!str) return str\n        return str.replace(/[\\\"\"]/g, '\\\\\"')\n    }\n\n    static unQuote = (str) => {\n        if (str.startsWith(\"\\\"\") && str.endsWith(\"\\\"\")) {\n            return str.slice(1, str.length - 1)\n        }\n        if (str.startsWith(\"'\") && str.endsWith(\"'\")) {\n            return str.slice(1, str.length - 1)\n        }\n        if (str.startsWith(\"'''\") && str.endsWith(\"'''\")) {\n            return str.slice(3, str.length - 3)\n        }\n        return str\n    }\n\n    static visitDown = (tree, visit) => {\n        visit(tree)\n        if (tree.children) {\n            tree.children.map(item => {\n                Tools.visitDown(item, visit)\n            })\n        }\n    }\n    static visitUp = (tree, visit) => {\n        if (tree.children) {\n            tree.children.map(item => {\n                Tools.visitUp(item, visit)\n            })\n        }\n        visit(tree)\n    }\n\n    static robotFetchParam = () => {\n        return {\n            queryType: \"robot\",\n            fetchType: \"take\",\n            includeSchema: true\n        }\n    }\n\n    static robotFetchParamWithCollect = () => {\n        return {\n            queryType: \"robot\",\n            includeSchema: true\n        }\n    }\n\n    static getField = (v) => {\n        if (v.startsWith(\"`\") && v.endsWith(\"`\")) return v\n        return `\\`${v}\\``\n    }\n\n    static distinct = (arrays, field) => {\n        if(!field){\n         return [...new Set(arrays)]\n        }\n        const tempF = {}\n        return arrays.filter(item => {\n            if (item[field] in tempF) {\n                return false\n            } else {\n                tempF[item[field]] = item[field]\n                return true\n            }\n        })\n    }\n    static fastCompareObject = (x, y) => {\n        return JSON.stringify(x) === JSON.stringify(y)\n    }\n    static deepCompareObject = (arg1, arg2) => {\n        var i, l, leftChain, rightChain;\n\n        function compare2Objects(x, y) {\n            var p;\n\n            // remember that NaN === NaN returns false\n            // and isNaN(undefined) returns true\n            if (isNaN(x) && isNaN(y) && typeof x === 'number' && typeof y === 'number') {\n                return true;\n            }\n\n            // Compare primitives and functions.     \n            // Check if both arguments link to the same object.\n            // Especially useful on the step where we compare prototypes\n            if (x === y) {\n                return true;\n            }\n\n            // Works in case when functions are created in constructor.\n            // Comparing dates is a common scenario. Another built-ins?\n            // We can even handle functions passed across iframes\n            if ((typeof x === 'function' && typeof y === 'function') ||\n                (x instanceof Date && y instanceof Date) ||\n                (x instanceof RegExp && y instanceof RegExp) ||\n                (x instanceof String && y instanceof String) ||\n                (x instanceof Number && y instanceof Number)) {\n                return x.toString() === y.toString();\n            }\n\n            // At last checking prototypes as good as we can\n            if (!(x instanceof Object && y instanceof Object)) {\n                return false;\n            }\n\n            if (x.isPrototypeOf(y) || y.isPrototypeOf(x)) {\n                return false;\n            }\n\n            if (x.constructor !== y.constructor) {\n                return false;\n            }\n\n            if (x.prototype !== y.prototype) {\n                return false;\n            }\n\n            // Check for infinitive linking loops\n            if (leftChain.indexOf(x) > -1 || rightChain.indexOf(y) > -1) {\n                return false;\n            }\n\n            // Quick checking of one object being a subset of another.\n            // todo: cache the structure of arguments[0] for performance\n            for (p in y) {\n                if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                    return false;\n                }\n                else if (typeof y[p] !== typeof x[p]) {\n                    return false;\n                }\n            }\n\n            for (p in x) {\n                if (y.hasOwnProperty(p) !== x.hasOwnProperty(p)) {\n                    return false;\n                }\n                else if (typeof y[p] !== typeof x[p]) {\n                    return false;\n                }\n\n                switch (typeof (x[p])) {\n                    case 'object':\n                    case 'function':\n\n                        leftChain.push(x);\n                        rightChain.push(y);\n\n                        if (!compare2Objects(x[p], y[p])) {\n                            return false;\n                        }\n\n                        leftChain.pop();\n                        rightChain.pop();\n                        break;\n\n                    default:\n                        if (x[p] !== y[p]) {\n                            return false;\n                        }\n                        break;\n                }\n            }\n\n            return true;\n        }\n\n        return compare2Objects(arg1, arg2)\n    }\n}","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport {ETLoadParams} from \"./ETLoadParams\";\nimport { ActionProxy } from \"../../backend_service/ActionProxy\";\nimport Tools from \"../../common/Tools\";\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETPopLoad extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.data = {params:{}}\n        this.state = {datasourcesRender: []}\n        this.loadParamsRef = React.createRef()\n    }\n\n\n    componentDidMount = async () => {\n        const self = this\n        const client = new ActionProxy()\n        const res = await client.runScript(\"load _mlsql_.`datasources` as output;\",Tools.getJobName(),Tools.robotFetchParamWithCollect())\n        const data = Tools.distinct(res.content.data,\"name\")\n        const datasourcesRender = []\n        data.forEach(item => {\n            datasourcesRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n        })\n        this.setState({datasourcesRender: datasourcesRender})\n    }\n\n    params = (evt) => {\n        this.data.params[evt.target.getAttribute(\"name\")] = evt.target.value\n    }\n\n\n    sourceType = (value, evt) => {\n        this.data.sourceTypeV = value\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n        api.runScript({}, `load _mlsql_.\\`datasources/params/${value}\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                dataForRender.push(<Row key={`row-${item.param}`}>\n                    <Col>\n                        <Input key={`input-${item.param}`} style={{marginBottom: \"10px\"}} name={item.param} onChange={self.params} type=\"text\"\n                               addonBefore={item.param}\n                               placeholder={item.description}/>\n                    </Col>\n                </Row>)\n            })\n            self.loadParamsRef.current.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            if(v){\n                let rv = \"\\\"\" + v + \"\\\"\"\n                if (k === \"code\" || k === \"fitParam.[group].code\") {\n                    rv = \"'''\" + v + \"'''\"\n                }\n                paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + rv)\n            }            \n        }\n\n        let whereStr = \"\"\n        if (paramsArray.length > 0) {\n            whereStr = \"where\"\n        }\n        return `load ${self.data.sourceTypeV}.\\`${self.data.pathV}\\` ${whereStr} ${paramsArray.join(\"and\\\\n \")} as ${self.data.tableNameV};`\n    }\n\n    render() {\n        return <div>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        soureType:<Select\n                        onChange={this.sourceType}\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Choose DataSource type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >{this.state.datasourcesRender}\n                    </Select>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            {this.props.ignorePath? <div></div> : <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" label=\"Path\" addonBefore=\"Path\"\n                               placeholder=\"File path or tableName\"/>\n                    </Col>\n                </Row>\n            </InputGroup>}\n            <br/>\n             {\n                 this.props.ignoreTableName? <div></div>: <InputGroup compact={true}>\n                 <Row>\n                     <Col>\n                         <Input type=\"text\" onChange={this.tableName} label=\"tableName\" addonBefore=\"tableName\"\n                                placeholder=\"tableName\"/>\n                     </Col>\n                 </Row>\n             </InputGroup>\n             }\n            <br/>\n            <ETLoadParams parent={this} ref={this.loadParamsRef}/>\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\nconst {TextArea} = Input;\n\n\nexport class ETPopAlgorithm extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {dataForRender: []}\n    }\n\n    renderParam = (item) => {\n        if (item.param === \"keepVersion\" && item.param === \"evaluateTable\") {\n            return null\n        }\n        if (item.param === \"code\" || item.param === \"fitParam.[group].code\") {\n            return <Row><Col>{item.param}:<TextArea style={{marginBottom: \"10px\"}} name={item.param}\n                                                    onChange={this.params}\n                                                    type=\"text\" rows={10}/></Col></Row>\n        }\n        return <Row>\n            <Col>\n                <Input style={{marginBottom: \"10px\"}} name={item.param} onChange={this.params} type=\"text\"\n                       addonBefore={item.param}\n                       placeholder={item.description}/>\n            </Col>\n        </Row>\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load modelParams.\\`${self.name}\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                const temp = this.renderParam(item)\n                if (temp !== null) {\n                    dataForRender.push(temp)\n                    dataForRender.push(<br/>)\n                }\n\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    params = (evt) => {\n        this.data.params[evt.target.getAttribute(\"name\")] = evt.target.value\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + \"\\\"\" + v + \"\\\"\")\n        }\n\n        if (paramsArray.length == 0) {\n            paramsArray.push(\"keepVersion=\\\"true\\\"\")\n        }\n\n        return `train ${this.data.tableNameV} as ${this.name}.\\`${this.data.pathV}\\` where \n${paramsArray.join(\" and\\n \")};`\n    }\n\n    render() {\n        return <div>\n            <span>Training data and model path:</span>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} size={\"large\"} addonBefore=\"tableName\"\n                               placeholder=\"the table of training data\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" size={\"large\"} addonBefore=\"Model save path\"\n                               placeholder=\"the location you save you model\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <span>Algorithm parameters:</span>\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETPopSave extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.data = {}\n        this.state = {datasourcesRender: []}\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, \"load _mlsql_.`datasources` as output;\", (data) => {\n            const datasourcesRender = []\n            data.forEach(item => {\n                datasourcesRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({datasourcesRender: datasourcesRender})\n        }, fail => {\n\n        })\n    }\n\n    sourceType = (value, evt) => {\n        this.data.sourceTypeV = value\n    }\n\n    saveMode = (value, evt) => {\n        this.data.saveModeV = value\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    partitionBy = (evt) => {\n        this.data.partitionByV = evt.target.value\n    }\n\n    fileNum = (evt) => {\n        this.data.fileNumV = evt.target.value\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let partitionByStr = \"\"\n        if (this.data.partitionByV) {\n            partitionByStr = \"partitionBy \" + this.data.partitionByV\n        }\n\n        let fileNumStr = `key=\"value\"`\n        if (this.data.fileNumV) {\n            fileNumStr = `fileNum=\"${this.data.fileNumV }\"`\n        }\n\n        return `save ${self.data.saveModeV} ${self.data.tableNameV} as ${self.data.sourceTypeV}.\\`${self.data.pathV}\\` \\n where ${fileNumStr} ${partitionByStr};`\n    }\n\n    render() {\n        return <div>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        soureType:<Select\n                        onChange={this.sourceType}\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Choose DataSource type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >{this.state.datasourcesRender}\n                    </Select>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        SaveMode:<Select\n                        onChange={this.saveMode}\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Choose save mode type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >\n                        <Option key={\"overwrite\"} value={\"overwrite\"}>overwrite</Option>\n                        <Option key={\"append\"} value={\"append\"}>append</Option>\n                        <Option key={\"errorIfExists\"} value={\"errorIfExists\"}>errorIfExists</Option>\n                        <Option key={\"ignore\"} value={\"ignore\"}>ignore</Option>\n                    </Select>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} label=\"tableName\" addonBefore=\"tableName\"\n                               placeholder=\"the tableName will be saved\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" addonBefore=\"Target Path\"\n                               placeholder=\"File path or tableName\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.partitionBy} addonBefore=\"partitionBy\"\n                               placeholder=\"partitionBy\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.fileNum} addonBefore=\"fileNum\"\n                               placeholder=\"fileNum\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\nconst {TextArea} = Input;\n\n\nexport default class ETBaseTool extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {\n            dataForRender: [],\n            tableHidden: props.tableHidden,\n            pathAlias: props.pathAlias,\n            pathHidden: props.pathHidden,\n            outputTableHidden: props.outputTableHidden,\n            outputTableAlias: props.outputTableAlias,\n            tableAlias: props.tableAlias\n        }\n    }\n\n    renderParam = (item) => {\n        if (item.param === \"keepVersion\" || item.param === \"evaluateTable\") {\n            return null\n        }\n        if (item.param === \"code\" || item.param === \"fitParam.[group].code\") {\n            return <Row><Col>{item.param}:<TextArea style={{marginBottom: \"10px\"}} name={item.param}\n                                                    onChange={this.params}\n                                                    type=\"text\" rows={10}/></Col></Row>\n        }\n        return <Row key={item.param}>\n            <Col>\n                <Input style={{marginBottom: \"10px\"}} name={item.param} onChange={this.params} type=\"text\"\n                       addonBefore={item.param}\n                       placeholder={item.description}/>\n            </Col>\n        </Row>\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load modelParams.\\`${self.name}\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                const temp = this.renderParam(item)\n                if (temp !== null) {\n                    dataForRender.push(temp)\n                    dataForRender.push(<br/>)\n                }\n\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    params = (evt) => {\n        this.data.params[evt.target.getAttribute(\"name\")] = evt.target.value\n    }\n\n    path = (evt) => {\n        this.data.pathV = evt.target.value\n    }\n\n    tableName = (evt) => {\n        this.data.tableNameV = evt.target.value\n    }\n\n    outputTableName = (evt) => {\n        this.data.outputTableNameV = evt.target.value\n    }\n\n    _makeMLSQL() {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            let rv = \"\\\"\" + v + \"\\\"\"\n            if (k === \"code\" || k === \"fitParam.[group].code\") {\n                rv = \"'''\" + v + \"'''\"\n            }\n            paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + rv)\n        }\n\n        let whereStr = \"\"\n        if (paramsArray.length > 0) {\n            whereStr = \"where\"\n        }\n\n        let asStr = \"\"\n\n        if (this.data.outputTableNameV) {\n            asStr = `as ${this.data.outputTableNameV}`\n        }\n\n        //run command as DownloadExt.`` where from=\"test2\" and to=\"/tmp/jack\";\n        return `run ${this.data.tableNameV || \"command\"} as ${this.name}.\\`${this.data.pathV || \"\"}\\` ${whereStr} ${paramsArray.join(\"and\\n \")} ${asStr};`\n    }\n\n    showTableName = () => {\n        if (this.state.tableHidden !== \"true\") {\n            return <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.tableName} size={\"large\"}\n                               addonBefore={this.state.tableAlias ? this.state.tableAlias : \"Input table\"}\n                               placeholder=\"\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n        }\n        return null\n    }\n\n    showOutputTableName = () => {\n        if (this.state.outputTableHidden !== \"true\") {\n            return <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input type=\"text\" onChange={this.outputTableName} size={\"large\"}\n                               addonBefore={this.state.outputTableAlias ? this.state.outputTableAlias : \"Output table\"}\n                               placeholder=\"\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n        }\n        return null\n    }\n\n    pathNameForRender = () => {\n        if (this.state.pathAlias) {\n            return this.state.pathAlias\n        } else {\n            return \"Save path\"\n        }\n    }\n    showPathName = () => {\n        if (this.state.pathHidden !== \"true\") {\n            return <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.path} type=\"text\" size={\"large\"} addonBefore={this.pathNameForRender()}\n                               placeholder=\"\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n        }\n        return \"\"\n    }\n\n    _render() {\n        return <div>\n            {this.showTableName()}\n            <br/>\n            {this.showOutputTableName()}\n            <br/>\n            {this.showPathName()}\n            <br/>\n            {this.state.dataForRender.length == 0 ? \"\" : <span>Parameters:</span>}\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport ETBaseTool from \"./ETBaseTool\";\n\n\nexport class ETPopTool extends ETBaseTool {\n    constructor(props) {\n        super(props)\n    }\n\n\n    makeMLSQL = () => {\n        return super._makeMLSQL()\n    }\n\n\n    render() {\n        return super._render()\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport {ETPopTool} from \"./ETPopTool\";\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETPopDownload extends ETPopTool {\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        for (let k in this.data.params) {\n            let v = this.data.params[k]\n            paramsArray.push(k.replace(/\\[group\\]/g, '0') + \"=\" + \"\\\"\" + v + \"\\\"\")\n        }\n\n        if (paramsArray.length == 0) {\n            paramsArray.push(\"keepVersion=\\\"true\\\"\")\n        }\n        //run command as DownloadExt.`` where from=\"test2\" and to=\"/tmp/jack\";\n        return `run command as ${this.name}.\\`\\` where \n${paramsArray.join(\" and\\n \")};`\n    }\n\n    render() {\n        return <div>\n\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport brace from 'brace';\nimport 'brace/ext/searchbox';\nimport AceEditor from 'react-ace';\nimport 'brace/mode/scala';\nimport 'brace/mode/python';\nimport 'brace/mode/java';\nimport 'brace/theme/github';\nimport 'brace/ext/language_tools'\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport Switch from \"../../../node_modules/antd/lib/switch\";\n\nconst Option = Select.Option;\nconst {TextArea} = Input;\n\nexport class ETPopScriptUDF extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {dataForRender: []}\n        this.codeRef = React.createRef()\n        this.codeCheckRef = React.createRef()\n    }\n\n    udfName = (evt) => {\n        this.data.udfNameV = evt.target.value\n    }\n\n    dataType = (evt) => {\n        this.data.dataTypeV = evt.target.value\n    }\n\n    udfType = (value) => {\n        this.udfTypeV = value\n    }\n\n    code = (newValue) => {\n        this.codeV = newValue\n    }\n\n\n    componentDidMount() {\n\n    }\n\n    langSelect = (value) => {\n        this.lang = value\n        this.codeCheckRef.current.checked = false\n        this.setState({dataType: false})\n        if (this.lang === \"python\") {\n            this.setState({dataType: true})\n        }\n        this.setState({codeLang: value})\n\n\n    }\n\n    setCodeExample = (checked) => {\n        if (checked) {\n            this.codeRef.current.editor.setValue(this.codeExample())\n        } else {\n            this.codeRef.current.editor.setValue(\"\")\n        }\n\n    }\n\n    codeExample = () => {\n        const lang = this.state.codeLang || \"scala\"\n        if (lang === \"scala\") {\n            return `def apply(a:Double,b:Double)={\n   a + b\n}`\n        }\n\n        if (lang === \"python\") {\n            return `def apply(self,m):\n    return m`\n        }\n\n        if (lang === \"java\") {\n            return `import java.util.HashMap;\nimport java.util.Map;\npublic class UDF {\n  public Map<String, Integer[]> apply(String s) {\n    Map<String, Integer[]> m = new HashMap<>();\n    Integer[] arr = {1};\n    m.put(s, arr);\n    return m;\n  }\n}`\n        }\n        return null\n    }\n\n    showDataType = () => {\n        if (this.state.dataType) {\n            return <Row>\n                <Col>\n                    dataType:<TextArea style={{marginBottom: \"10px\"}} name={\"dataType\"} rows={10}\n                                       onChange={this.dataType}\n                                       type=\"text\"\n                                       addonBefore={\"dataType\"}\n                                       placeholder={`This is not required when lang is scala\nAs we know python is not strongly typed language, so\nwe should manually spcify the return type.\nmap(string,string) means a map with key is string type,value also is string type.\narray(string) means a array with string type element.\nnested is support e.g. array(array(map(string,array(string))))\n\n`}/>\n                </Col>\n            </Row>\n\n        }\n        return null\n    }\n\n    showCode = () => {\n        return <div><Row>\n            <Col>\n                code:<AceEditor ref={this.codeRef}\n                                mode={this.state.codeLang || \"scala\"}\n                                theme=\"github\"\n                                width={\"400px\"}\n                                height={\"300px\"}\n                                name=\"code\"\n                                fontSize={16}\n                                showPrintMargin={true}\n                                showGutter={true}\n                                highlightActiveLine={true}\n                                onChange={this.code}\n                                editorProps={{\n                                    $blockScrolling: Infinity\n                                }}\n                                setOptions={{\n                                    enableBasicAutocompletion: true,\n                                    enableLiveAutocompletion: true,\n                                    enableSnippets: false,\n                                    showLineNumbers: true,\n                                    tabSize: 2,\n                                }}\n            />\n            </Col>\n        </Row>\n            <Row>\n                <Col>\n                    <Col span={8}>\n                        Show CodeExample:<Switch ref={this.codeCheckRef} onChange={this.setCodeExample}/>\n                    </Col>\n                </Col>\n            </Row></div>\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        let paramsArray = []\n        paramsArray.push(`lang=\"${this.lang}\"`)\n        paramsArray.push(`code='''${this.codeV}'''`)\n        paramsArray.push(`udfType=\"${this.udfTypeV}\"`)\n        if (this.dataTypeV) {\n            paramsArray.push(`dataType='''${this.dataTypeV}'''`)\n        }\n        return `register ScriptUDF.\\`\\` as ${this.data.udfNameV} where \n${paramsArray.join(\"\\nand \")};`\n    }\n\n    render() {\n        return <div>\n\n            <Row>\n                <Col>\n                    <Input onChange={this.udfName} type=\"text\" size={\"large\"} addonBefore=\"UDF Name\"\n                           placeholder=\"the name of udf\"/>\n                </Col>\n            </Row>\n            <br/>\n\n            <Row>\n                <Col span={4}>\n                    <span>udfType:</span>\n                </Col>\n                <Col span={20}>\n                    <Select\n                        showSearch\n                        onChange={this.udfType}\n                        style={{width: 200}}\n                        placeholder=\"Select udf type\"\n                        optionFilterProp=\"children\"\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >\n                        <Option value=\"udf\">udf</Option>\n                        <Option value=\"udaf\">udaf</Option>\n                    </Select>\n                </Col>\n            </Row>\n            <br/>\n            <Row>\n                <Col span={4}>\n                    <span>Lang:</span>\n                </Col>\n                <Col span={20}>\n                    <Select\n                        showSearch\n                        style={{width: 200}}\n                        placeholder=\"Select language type\"\n                        optionFilterProp=\"children\"\n                        onChange={this.langSelect}\n                        filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                    >\n                        <Option value=\"java\">java</Option>\n                        <Option value=\"scala\">scala</Option>\n                        <Option value=\"python\">python</Option>\n                    </Select>\n                </Col>\n            </Row>\n            <br/>\n            {this.showDataType()}\n            <br/>\n            {this.showCode()}\n            <br/>\n            <Row>\n                <Col>\n                    <Input style={{marginBottom: \"10px\"}} name={\"methodName\"} onChange={this.params} type=\"text\"\n                           addonBefore={\"methodName\"}\n                           placeholder={\"methodName\"}/>\n                </Col>\n            </Row>\n\n\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETExample extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {\n            dataForRender: [],\n            tableHidden: props.tableHidden,\n            pathAlias: props.pathAlias,\n            pathHidden: props.pathHidden\n        }\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load model.\\`list\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                dataForRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    etName = (value) => {\n        this.etName = value\n    }\n    makeMLSQL = () => {\n        return `load modelExample.\\`${this.etName}\\` as output;`\n    }\n\n    render() {\n        return <div>\n            <Row>\n                <Col>\n                    ET:<Select\n                    onChange={this.etName}\n                    showSearch\n                    style={{width: 200}}\n                    placeholder=\"Choose DataSource type\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                >{this.state.dataForRender}\n                </Select>\n                </Col>\n            </Row>\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\nimport {ETLoadParams} from \"./ETLoadParams\";\nimport {ETPopTool} from \"./ETPopTool\";\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETRegister extends ETPopTool {\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load model.\\`list\\` as output;`, (data) => {\n            const dataForRender = []\n            data.forEach(item => {\n                dataForRender.push(<Option key={item.name} value={item.name}>{item.name}</Option>)\n            })\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    makeMLSQL = () => {\n        const self = this\n        return `register ${self.data.sourceTypeV}.\\`${self.data.pathV}\\` as ${self.data.outputTableNameV};`\n    }\n\n    etName = (value) => {\n        this.data.sourceTypeV = value\n    }\n\n    render() {\n        return <div>\n            {this.showTableName()}\n            <br/>\n            {this.showOutputTableName()}\n            <br/>\n            {this.showPathName()}\n            <br/>\n            <Row>\n                <Col>\n                    ET:<Select\n                    onChange={this.etName}\n                    showSearch\n                    style={{width: 200}}\n                    placeholder=\"Choose DataSource type\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                >{this.state.dataForRender}\n                </Select>\n                </Col>\n            </Row>\n\n        </div>\n    }\n\n\n}\n","import * as React from \"react\";\nimport {Col, Input, Row, Select} from \"antd\";\nimport ETBaseTool from \"./ETBaseTool\";\n\nconst InputGroup = Input.Group;\n\nexport default class ETStringIndex extends ETBaseTool {\n\n    constructor(props) {\n        super(props)\n    }\n\n    makeMLSQL = () => {\n\n        let asStr = \"\"\n\n        if (this.data.outputTableNameV) {\n            asStr = `as ${this.data.outputTableNameV}`\n        }\n\n        const sqlTrain = super._makeMLSQL().replace(asStr, \"\")\n\n        const sqlBatchPredict = `predict ${this.data.tableNameV} as ${this.name}.\\`${this.data.pathV || \"\"}\\` ${asStr};`\n\n        return (`${sqlTrain}\n        ${sqlBatchPredict}\n        register ${this.name}.\\`${this.data.pathV || \"\"}\\` as ${this.data.functionNameV}; \n        `).stripMargin()\n    }\n\n    functionName = (evt) => {\n        this.data.functionNameV = evt.target.value\n    }\n\n    render() {\n        return <div>\n            {this.showTableName()}\n            <br/>\n\n            {this.showOutputTableName()}\n            <br/>\n            {this.showPathName()}\n            <br/>\n            <InputGroup compact={true}>\n                <Row>\n                    <Col>\n                        <Input onChange={this.functionName} type=\"text\" size={\"large\"} addonBefore={\"functionName\"}\n                               placeholder=\"A function you can use to convert String to number or number to String\"/>\n                    </Col>\n                </Row>\n            </InputGroup>\n            <br/>\n            {this.state.dataForRender.length == 0 ? \"\" : <span>Parameters:</span>}\n            <InputGroup compact={true}>\n                {this.state.dataForRender}\n            </InputGroup>\n\n        </div>\n    }\n}","import ETBaseTool from \"./ETBaseTool\";\nimport * as React from \"react\";\n\nexport class ETDownloadFile extends ETBaseTool {\n\n    constructor(props) {\n        super(props)\n    }\n\n    makeMLSQL = () => {\n        const url = `/api_v1/public/file/download?fileName=${encodeURIComponent(this.data.pathV)}`\n        const link = document.createElement('a');\n        link.href = url;\n        link.target = \"_blank\"\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n        return \"\"\n    }\n\n    componentDidMount() {\n    }\n\n    render() {\n        return super._render()\n    }\n}","import * as React from \"react\";\nimport {MLSQLAPI} from \"../../service/MLSQLAPI\";\nimport {RUN_SCRIPT} from \"../../service/BackendConfig\";\nimport {\n    Select, Form, Icon, Input, Button, Checkbox, Col, Row\n} from 'antd';\n\nconst InputGroup = Input.Group;\nconst Option = Select.Option;\n\n\nexport class ETStreamProgress extends React.Component {\n    constructor(props) {\n        super(props)\n        this.etpop = props.parent\n        this.name = props.name\n        this.data = {params: {}}\n        this.state = {\n            dataForRender: [],\n            tableHidden: props.tableHidden,\n            pathAlias: props.pathAlias,\n            pathHidden: props.pathHidden\n        }\n    }\n\n    componentDidMount() {\n        const self = this\n        const api = new MLSQLAPI(RUN_SCRIPT)\n\n        api.runScript({}, `load _mlsql_.\\`jobs\\` as output;`, (data) => {\n\n            const dataForRender = data.filter(item => {\n                return item.jobType === \"stream\"\n            }).map(item => {\n                return <Option key={item.jobName} value={item.jobName}>{item.jobName}</Option>\n            })\n\n            self.setState({dataForRender: dataForRender})\n        }, fail => {\n\n        })\n    }\n\n    etName = (value) => {\n        this.etName = value\n    }\n    makeMLSQL = () => {\n        return `load _mlsql_.\\`progress/${this.etName}\\` as output;`\n    }\n\n    render() {\n        return <div>\n            <Row>\n                <Col>\n                    Stream Jobs:<Select\n                    onChange={this.etName}\n                    showSearch\n                    style={{width: 200}}\n                    placeholder=\"Choose Stream Name\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) => option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0}\n                >{this.state.dataForRender}\n                </Select>\n                </Col>\n            </Row>\n        </div>\n    }\n}\n","import * as React from \"react\";\nimport Modal from \"../../../node_modules/antd/lib/modal/Modal\";\nimport {ETPopLoad} from \"./ETPopLoad\";\nimport {ETPopAlgorithm} from \"./ETPopAlgorithm\";\nimport {ETPopSave} from \"./ETPopSave\";\nimport {ETPopTool} from \"./ETPopTool\";\nimport {ETPopDownload} from \"./ETPopDownload\";\nimport {ETPopScriptUDF} from \"./ETPopScriptUDF\";\nimport {ETExample} from \"./ETExample\";\nimport {ETRegister} from \"./ETRegister\";\nimport ETStringIndex from \"./ETStringIndex\";\nimport {ETDownloadFile} from \"./ETDownloadFile\";\nimport {ETStreamProgress} from \"./ETStreamProgress\";\n\nexport class ETPop extends React.Component {\n    constructor(props) {\n        super(props)\n        this.et = props.parent\n        this.popChild = React.createRef()\n        this.state = {etModalVisible: true, title: props.title}\n        this.data = {}\n    }\n\n    disableEtModalVisible = () => {\n        this.et.setState({etPop: false, etModalVisible: false})\n    }\n    enableEtModalVisible = () => {\n        const sql = this.popChild.current.makeMLSQL()\n        this.et.makeMLSQL(sql)\n        this.et.setState({etPop: false, etModalVisible: false})\n    }\n\n    renderContent = () => {\n        if (this.et.state.eventName === \"load\") {\n            return <ETPopLoad parent={this} ref={this.popChild}/>\n        }\n        if (this.et.state.eventName === \"save\") {\n            return <ETPopSave name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"DownloadExt\") {\n            return <ETPopDownload name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"StringIndex\") {\n            return <ETStringIndex name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"DownloadFile\") {\n            return <ETDownloadFile name={this.et.state.eventName} ref={this.popChild} {...this.et.state}/>\n        }\n\n        if (this.et.state.eventName === \"ETExample\") {\n            return <ETExample name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"ETStreamProgress\") {\n            return <ETStreamProgress name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"ScriptUDF\") {\n            return <ETPopScriptUDF name={this.et.state.eventName} ref={this.popChild}/>\n        }\n\n        if (this.et.state.eventName === \"register\") {\n            return <ETRegister name={this.et.state.eventName} ref={this.popChild} {...this.et.state}/>\n        }\n\n        if (this.et.state.processType === \"tool\") {\n            return <ETPopTool name={this.et.state.eventName} ref={this.popChild} {...this.et.state}/>\n        }\n\n        return <ETPopAlgorithm name={this.et.state.eventName} ref={this.popChild}/>\n    }\n\n\n    render() {\n        return (\n            <div>\n                <Modal\n                    title={this.state.title}\n                    visible={this.state.etModalVisible}\n                    onCancel={this.disableEtModalVisible}\n                    onOk={this.enableEtModalVisible}\n                    okText=\"Ok\"\n                    cancelText=\"Cancel\"\n                >\n                    {this.renderContent()}\n                </Modal>\n            </div>\n        )\n    }\n}","import * as React from \"react\";\nimport {Collapse, Tabs} from 'antd';\nimport {Card, Col, Row} from 'antd';\nimport {ETPop} from \"./ETPop\";\nimport Tag from \"../../../node_modules/antd/lib/tag\";\n\n\nconst Panel = Collapse.Panel;\nconst TabPane = Tabs.TabPane;\n\nexport class MLSQLETQuick extends React.Component {\n    constructor(props) {\n        super(props)\n        this.queryApp = props.parent\n        this.state = {}\n        this.itemData = {}\n    }\n\n    componentDidMount() {\n\n    }\n\n    setData = (k, v) => {\n        this.itemData[k] = v\n    }\n\n    getData = (k) => {\n        return this.itemData[k]\n    }\n\n    onDragStart = (evt) => {\n        const processType = evt.target.getAttribute(\"processtype\")\n        this.setData(\"eventName\", evt.target.getAttribute(\"name\"));\n        this.setData(\"popName\", evt.target.getAttribute(\"help\"));\n        this.setData(\"processType\", processType);\n        this.setData(\"pathAlias\", evt.target.getAttribute(\"pathalias\") || \"\");\n        this.setData(\"outputTableAlias\", evt.target.getAttribute(\"outputtablealias\") || \"\");\n        this.setData(\"tableAlias\", evt.target.getAttribute(\"tablealias\") || \"\");\n        this.setData(\"tableHidden\", evt.target.getAttribute(\"tablehidden\") || false);\n        this.setData(\"pathHidden\", evt.target.getAttribute(\"pathhidden\") || false);\n        this.setData(\"outputTableHidden\", evt.target.getAttribute(\"outputtablehidden\") || false);\n\n\n    }\n\n    makeMLSQL = (sql) => {\n        this.queryApp.getCurrentEditor().ref.appendToEditor(sql)\n    }\n\n\n    renderPop = () => {\n        if (this.state.etPop) {\n            return <ETPop parent={this} title={this.state.popName}/>\n        }\n        return null\n    }\n\n\n    etDoubleClick = (evt) => {\n        this.onDragStart(evt)\n        this.queryApp.getCurrentEditor().ref.etOver(evt)\n    }\n\n    render() {\n        return (\n            <div>\n                <Collapse style={{margin: \"0px 0px\", padding: \"0px 0px\"}}>\n                    <Panel header=\"Quick Menu\" key=\"1\">\n                        <Row gutter={16}>\n                            <Col span={8}>\n                                <Card title={\"Load/Save Data\"}>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} title=\"Load/Save Data\"\n                                         onDragStart={this.onDragStart} name={\"load\"}\n                                         help={\"Load file/db as table\"}\n                                         draggable={true} color=\"magenta\" onDoubleClick={this.etDoubleClick}>Load\n                                        data</Tag>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} title=\"Save Data\" onDragStart={this.onDragStart}\n                                         name={\"save\"}\n                                         help={\"Save table into file/db \"}\n                                         draggable={true} color=\"magenta\" onDoubleClick={this.etDoubleClick}>Save data</Tag>\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card title=\"Algorithms\">\n                                    <Tag tyle={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"TfIdfInPlace\"}\n                                         help={\"Use TfIdfInPlace vectorize text\"}\n                                         draggable={true} color=\"magenta\" onDoubleClick={this.etDoubleClick}>TfIdf</Tag>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} onDragStart={this.onDragStart}\n                                         name={\"Word2VecInPlace\"}\n                                         help={\"Use Word2VecInPlace vectorize text\"}\n                                         draggable={true} color=\"magenta\" onDoubleClick={this.etDoubleClick}>Word2vec</Tag>\n\n                                    <Tag tyle={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"RandomForest\"}\n                                         help={\"Use RandomForest to train a model\"}\n                                         draggable={true} color=\"magenta\">RandomForest</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"PythonAlg\"}\n                                         help={\"Run python lib to train\"}\n                                         draggable={true} color=\"magenta\">Python Algorithm</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"BigDLClassifyExt\"}\n                                         help={\"Use BigDL to develop deep learning algorithm\"}\n                                         draggable={true} color=\"magenta\">Deep Learning</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"NaiveBayes\"}\n                                         help={\"Use NaiveBayes\"}\n                                         draggable={true} color=\"magenta\">NaiveBayes</Tag>\n                                </Card>\n                            </Col>\n\n                            <Col span={8}>\n                                <Card title=\"Python\">\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"PythonEnvExt\"} processtype={\"tool\"}\n                                         help={\"Create Python Env\"}\n                                         pathalias={\"Temp directory\"} tablehidden={\"true\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Create Python Env</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"PythonParallelExt\"} processtype={\"tool\"}\n                                         help={\"Run python project\"}\n                                         pathalias={\"Temp directory\"} tablehidden={\"true\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Run python project</Tag>\n                                </Card>\n                            </Col>\n\n                        </Row>\n                        <br/>\n                        <Row gutter={16}>\n                            <Col span={8}>\n                                <Card title=\"Register model as Function\">\n                                    <Tag onDragStart={this.onDragStart} name={\"ScriptUDF\"} processtype={\"tool\"} onDoubleClick={this.etDoubleClick}\n                                         help={\"Use ScriptUDF create udf\"}\n                                         draggable={true} color=\"magenta\">Create UDF</Tag>\n\n                                    <Tag onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"register\"}\n                                         help={\"Register model to function \"}\n                                         pathalias={\"Model saved path\"}\n                                         outputtablealias={\"Function name\"}\n                                         tablealias={\"Function name\"}\n                                         tablehidden={\"true\"}\n                                         pathhidden={\"false\"}\n                                         outputtablehidden={\"false\"}\n                                         draggable={true} color=\"magenta\">Register Model As Function</Tag>\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card title=\"Jobs\">\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} name={\"JobList\"} onDoubleClick={this.etDoubleClick}\n                                         processtype={\"direct\"}\n                                         draggable={true} color=\"magenta\">Show jobs</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} name={\"Kill\"} onDoubleClick={this.etDoubleClick}\n                                         processtype={\"tool\"}\n                                         pathalias={\"groupId or jobName\"} tablehidden={\"true\"}\n                                         help={\"Kill your job\"}\n                                         draggable={true} color=\"magenta\">Kill job</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ETStreamProgress\"} processtype={\"\"}\n                                         help={\"Show Progress of Stream\"}\n                                         draggable={true} color=\"magenta\">Show Stream Job Progress</Tag>\n                                </Card>\n                            </Col>\n                            <Col span={8}>\n                                <Card title=\"Tools\">\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"DownloadExt\"} processtype={\"tool\"}\n                                         help={\"Use DownloadExt to download files you have uploaded\"}\n                                         draggable={true} color=\"magenta\">Download uploaded file</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ImageLoaderExt\"} processtype={\"tool\"}\n                                         help={\"Use ImageLoaderExt to load images\"}\n                                         pathalias={\"\"} tablehidden={\"true\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"false\"}\n                                         draggable={true} color=\"magenta\">Load images</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ConnectMySQL\"} processtype={\"direct\"}\n                                         help={\"\"}\n                                         draggable={true} color=\"magenta\">Connect MySQL</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick} name={\"JDBC\"}\n                                         processtype={\"tool\"}\n                                         pathalias={\"DB name in connect\"} tablehidden={\"false\"}\n                                         help={\"Run DLL on MySQL\"}\n                                         draggable={true} color=\"magenta\">MySQL DDL</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"TreeBuildExt\"} processtype={\"tool\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         help={\"Build tree from parent-child\"}\n                                         draggable={true} color=\"magenta\">Parent-Child</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ETExample\"} processtype={\"\"}\n                                         help={\"Show Example of ET\"}\n                                         draggable={true} color=\"magenta\">Show ET Example</Tag>\n\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"RepartitionExt\"} processtype={\"tool\"}\n                                         help={\"Change Table Partition Num\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"false\"}\n                                         draggable={true} color=\"magenta\">Repartition table</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"SendMessage\"} processtype={\"tool\"}\n                                         help={\"Send email\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Send Mail</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"CacheExt\"} processtype={\"tool\"}\n                                         help={\"Cache table\"}\n                                         pathalias={\"\"} tablehidden={\"false\"} pathhidden={\"true\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Cache Table</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"StringIndex\"} processtype={\"tool\"}\n                                         help={\"Convert String to number\"}\n                                         pathalias={\"Mapping path\"} tablehidden={\"false\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Convert String to number</Tag>\n\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"DownloadFile\"} processtype={\"tool\"}\n                                         help={\"Download File\"}\n                                         pathalias={\"Target file\"} tablehidden={\"true\"} pathhidden={\"false\"}\n                                         outputtablehidden={\"true\"}\n                                         draggable={true} color=\"magenta\">Download File to computer</Tag>\n                                    <Tag style={{marginBottom: \"10px\"}} onDragStart={this.onDragStart} onDoubleClick={this.etDoubleClick}\n                                         name={\"ShowResource\"}\n                                         processtype={\"direct\"}\n                                         draggable={true} color=\"magenta\">Cluster Resource</Tag>\n\n\n                                </Card>\n                            </Col>\n                        </Row>\n                    </Panel>\n                </Collapse>\n                {this.renderPop()}\n            </div>\n\n        )\n    }\n}\n","import * as React from \"react\";\nimport { Tree ,Spin} from 'antd';\nimport EngineService from \"../service/EngineService\";\nimport {TableOutlined} from '@ant-design/icons'\n\nconst { TreeNode, DirectoryTree } = Tree;\nexport default class DeltaLakeTree extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state={dbs:{},loading:false} \n        \n    }\n\n    async reload(){\n      this.setState({loading:true})\n      const res = await EngineService.tablesInDeltaLake()\n      if(res.status===200){\n           const dbs = {}\n           res.content.forEach(item => {\n              if(!dbs[item.database]){\n                dbs[item.database] = [item.table] \n              }else {\n                dbs[item.database].push(item.table)  \n              }\n           })\n           this.setState({dbs})\n       }\n       this.setState({loading:false})\n    }\n\n    show(){    \n        return Object.entries(this.state.dbs).map(([key,value])=>{                   \n            return <TreeNode title={key} key={key}>\n               {value.map(item=>{                   \n                   return <TreeNode icon={<TableOutlined />} title={item} key={`${key}.${item}`} isLeaf />\n               })} \n            </TreeNode>\n        })\n    }\n\n    async componentDidMount(){\n       await this.reload()\n    }\n    \n    render(){\n      return (\n        <Spin tip=\"Loading...\" spinning={this.state.loading}>\n        <DirectoryTree  >\n        {this.show()}\n        </DirectoryTree>\n     </Spin>\n        \n        \n      )\n    }\n} ","import * as React from \"react\";\nimport { Tree ,Spin} from 'antd';\nimport EngineService from \"../service/EngineService\";\n\nconst { TreeNode, DirectoryTree } = Tree;\nexport default class FileSystemTree extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state={root:[],loading:false} \n        \n    }\n\n    getFileList = async(path)=> {\n      const res = await EngineService.ls(path)        \n      if(res.status===200 && !res.content[0]._corrupt_record){           \n           const root = res.content.map(item => {               \n               item[\"is_dir\"] = this.isDir(item)\n               item[\"key\"] = item.path\n               item[\"title\"] = item.path.split(\"/\").slice(-1)[0]\n               item[\"isLeaf\"] = !item.is_dir\n               return item\n           })\n           return root\n       }\n       return []\n    }\n    \n    isDir=(item)=>{\n      return item.permission.startsWith(\"d\")\n    }\n    \n     onLoadData = async (treeNode)=> {\n      treeNode.props.dataRef.children = await this.getFileList(treeNode.props.dataRef.path)\n      this.setState({root:[...this.state.root]})\n    }\n\n    renderTreeNodes = data =>{\n      return data.map(item=>{\n        if(item.children){\n          return <TreeNode title={item.title} key={item.key} isLeaf={item.isLeaf}  dataRef={item}>\n            {this.renderTreeNodes(item.children)}\n          </TreeNode>\n        }\n        return <TreeNode title={item.title} key={item.key} isLeaf={item.isLeaf} dataRef={item} />;\n      })\n    }\n\n    async reload(){      \n       this.setState({loading:true})\n       const root = await this.getFileList(\"/\")\n       this.setState({loading:false,root})\n    }\n\n    async componentDidMount(){\n       await this.reload()\n    }\n    \n    render(){\n      return (\n        <div>\n          <Spin tip=\"Loading...\" spinning={this.state.loading}>\n         <DirectoryTree loadData={this.onLoadData} >\n            {this.renderTreeNodes(this.state.root)}\n        </DirectoryTree>\n        </Spin>\n        </div>\n        \n        \n      )\n    }\n} ","const { SetStateActionHandler, SetStateAction } = require(\"../../app_console/admin/actions/SetStateAction\");\n\nconst CommonHandlers = {\n    setState: SetStateActionHandler,        \n}\nconst CommonActions = {\n    setState: SetStateAction,        \n}\n\nexport  {CommonHandlers,CommonActions}","import ActionMaker from \"../../ActionMaker\"\nimport { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\n\nexport const {handler:OpenScriptFileActionHandler,action:OpenScriptFileAction} = ActionMaker.buildHandler(async (action)=>{\n    const client = new ActionProxy()\n    const {node,consoleApp} = action.data\n    if(!node.isDir){\n        const res =  await client.get(RemoteAction.SCRIPT_FILE_GET,{id:node.id})\n        if(res.status!==200){\n            return {data:{\n                error: `Fail to get file ${node.label}. Reason: ${res.content}`                \n            }}\n        }\n        const scriptFile = res.content\n        consoleApp.openExistsOrNewEditor({id: node.id, content: scriptFile.content, name: scriptFile.name})\n      }\n    return {data:{}}\n})","import ActionMaker from \"../../ActionMaker\"\nimport { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\nimport Tools from \"../../../common/Tools\"\n\nexport const { handler: CreateFileActionHandler, action: CreateFileAction } = ActionMaker.buildHandler(async (action) => {\n    const client = new ActionProxy()\n    const { createType, consoleApp,form,scriptContent=\"\"} = action.data\n    const {fileName} = form.getFieldValue()\n    \n    if(!fileName){\n        return {data:{\n            createFileError: \"Please input the file name\"\n        }}\n    }\n\n    const { node } = action.__state\n    \n    let isDir = false\n    switch (createType) {\n        case \"file\": \n            isDir = false\n            if(!fileName.endsWith(\".mlsql\") \n            && !fileName.endsWith(\".nb\") \n            && !fileName.endsWith(\".py\")){\n                return {\n                    data: {                        \n                        createFileError: \"fileName should end with .mlsql or .nb or .py\"\n                    }\n                }\n            }\n            break;\n        case \"folder\":\n            isDir = true\n            break;\n    }\n\n    const saveParams = {\n        fileName: fileName,\n        isDir: isDir,\n        content: scriptContent,        \n        parentId: node.id\n    }\n\n    const res = await client.post(RemoteAction.SAVE_SCRIPT_FILE,saveParams)\n    \n    return {\n        data: {\n            ...action.data,\n            reloading: Tools.getJobName()\n        }\n    }\n})","import { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\nimport ActionMaker from \"../../ActionMaker\"\n\nexport const {handler:ExpandActionHandler,action:ExpandAction} = ActionMaker.buildHandler(async (action)=>{\n    const {expandedKeys} = action.data\n    const {expandedKeys:oldExpandedKeys} = action.__state\n    const newExpanedKeys = expandedKeys.filter(item=>!oldExpandedKeys.includes(item))\n    const newNoExpanedKeys = oldExpandedKeys.filter(item=>!expandedKeys.includes(item))\n    const client = new ActionProxy()    \n    newExpanedKeys.forEach(async element => {    \n        await client.post(RemoteAction.SAVE_SCRIPT_FILE,{\n            id: element,isExpanded:true \n        })\n    });\n\n    newNoExpanedKeys.forEach(async element => {        \n        await client.post(RemoteAction.SAVE_SCRIPT_FILE,{\n            id: element,isExpanded:false \n        })\n    });\n\n    return {        \n        data: {\n            expandedKeys\n        }\n    }\n})","import ActionMaker from \"../../ActionMaker\"\nimport { ActionProxy } from \"../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../backend_service/RemoteAction\"\nimport Tools from \"../../../common/Tools\"\n\nexport const { handler: DeleteFileActionHandler, action: DeleteFileAction } = ActionMaker.buildHandler(async (action) => {\n    const { node } = action.data\n    await ActionProxy.client.post(RemoteAction.SCRIPT_FILE_REMOVE, {\n        id: node.id\n    })\n    return {\n        data: {\n            ...action.data,\n            reloading: Tools.getTempTableName()\n        }\n    }\n})","import { CommonHandlers,CommonActions} from '../../analysis/common/CommonHandlers'\nimport { OpenScriptFileActionHandler, OpenScriptFileAction } from './OpenScriptFileAction'\nimport { CreateFileActionHandler, CreateFileAction } from './CreateFileAction'\nimport { ExpandAction, ExpandActionHandler } from './ExpandAction'\nimport { DeleteFileActionHandler, DeleteFileAction } from './DeleteFileAction'\nclass ScriptTreeActionNames {\n    static openScriptFile=\"openScriptFile\"\n    static createScriptFile=\"createScriptFile\"\n    static deleteScriptFile=\"deleteScriptFile\"\n    static expand=\"expand\"\n}\nconst ScriptTreeHandlers = {\n    ...CommonHandlers,\n    [ScriptTreeActionNames.openScriptFile]:OpenScriptFileActionHandler,\n    [ScriptTreeActionNames.createScriptFile]:CreateFileActionHandler,\n    [ScriptTreeActionNames.expand]:ExpandActionHandler,\n    [ScriptTreeActionNames.deleteScriptFile]:DeleteFileActionHandler\n}\nconst ScriptTreeActions = {\n    ...CommonActions,\n    [ScriptTreeActionNames.openScriptFile]:OpenScriptFileAction,\n    [ScriptTreeActionNames.createScriptFile]:CreateFileAction,\n    [ScriptTreeActionNames.expand]:ExpandAction,\n    [ScriptTreeActionNames.deleteScriptFile]:DeleteFileAction\n}\n\nfunction ScriptTreeReducer(state, action) {\nreturn ScriptTreeActions[action.type](state, action.data)    \n}\nexport { ScriptTreeActionNames, ScriptTreeReducer, ScriptTreeHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Tree, Spin,Menu,Dropdown } from 'antd';\nimport { DownOutlined, FileOutlined, FolderOutlined } from '@ant-design/icons';\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nclass MLSQLTreeNodeBuilder {\n\n    /**\n     *\n     * Usage:\n     *\n     * convert flat array to tree structure\n     *\n     * input data\n     * [{\"id\":1,\"icon\":null,\"label\":null,\"parentId\":0},\n     * {\"id\":2,\"icon\":\"document\",\"label\":\"jack\",\"parentId\":0},\n     * {\"id\":3,\"icon\":\"document\",\"label\":\"dafe\",\"parentId\":0}\n     * ]\n     *\n     * output:\n     *\n     * @param {[{id:number,icon:string,label:string,parentId:number,childNodes:[]}]} list\n     */\n    build = (list) => {\n\n        let tempMap = {}, node, roots = [], i;\n        for (i = 0; i < list.length; i += 1) {\n            tempMap[list[i].id] = i;\n            list[i].childNodes = [];\n        }\n        for (i = 0; i < list.length; i += 1) {\n            node = list[i];\n            if (node.parentId !== 0) {\n                try {\n                    list[tempMap[node.parentId]].childNodes.push(node);\n                } catch (e) {\n                    console.log(\"------------\")\n                    console.log(node)\n                    console.log(tempMap[node.parentId])\n                }\n\n            } else {\n                roots.push(node);\n            }\n        }\n        return roots;\n    }\n    convert = (item) => {                \n        if (item[\"childNodes\"] && item[\"childNodes\"].length > 0) {\n            item[\"children\"] = item[\"childNodes\"]\n            item[\"children\"].map((cn) => {\n                return this.convert(cn)\n            })\n        }\n        item[\"id\"] = String(item[\"id\"])\n        item[\"key\"] = item[\"id\"]\n        // item[\"title\"] = <span className=\"react-contextmenu-trigger\"><ContextMenuTrigger  id=\"scriptTreeContextMenu\">{item.label}</ContextMenuTrigger></span>\n        item[\"title\"] = <span>{item.label}</span>\n        item[\"isLeaf\"] = !item[\"isDir\"]\n        if (item[\"isDir\"]) {\n            item[\"icon\"] = <FolderOutlined />\n        } else {\n            item[\"icon\"] = <FileOutlined />\n        }\n\n        return item\n    }\n\n\n}\n\nexport default MLSQLTreeNodeBuilder","import React, { useState, useCallback, useEffect } from 'react';\n\nimport styled from 'styled-components'\nimport { Spin } from 'antd';\n\nconst SpinBoxW = styled.div`\n  width: 100%; \n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 30px 30px;\n`\nfunction SpinBox(){\n    return <SpinBoxW>\n        <Spin tip=\"Loading....\"/>\n    </SpinBoxW>\n}\n\nexport default SpinBox","import React, { useState, useCallback, useEffect } from 'react';\n\nconst useContextMenu = ({contextMenuRef,dispacher,onRender})=>{ \n    \n    const [rightClickNodeTreeItem, setRightClickNodeTreeItem] = useState(undefined)    \n    \n    const onRightClick = useCallback((params) => {        \n        const { event, node } = params\n        \n        let clickX =  event.clientX\n        let clickY = event.clientY                                      \n        const click = (evt) => {  \n            if(!contextMenuRef.current) return\n            const wasOutside =  !contextMenuRef.current.contains(evt.target)            \n            if (wasOutside) {\n                setRightClickNodeTreeItem(undefined)                \n            }\n        }\n        document.addEventListener('click', click);\n    \n        const scroll = () => {\n            setRightClickNodeTreeItem(undefined) \n        }\n        document.addEventListener('scroll', scroll);\n    \n        setRightClickNodeTreeItem({\n            pageX: clickX,\n            pageY: clickY,\n            id: node.id\n        })\n        return () => {\n            document.removeEventListener('click',click);\n            document.removeEventListener('scroll',scroll);\n        }\n    },[setRightClickNodeTreeItem])\n\n    const ui = useCallback(()=>{\n        if (!rightClickNodeTreeItem) {\n            return \n        }\n        const { pageX, pageY, id } = { ...rightClickNodeTreeItem };    \n        const tmpStyle = {\n            zIndex: 10000,\n            position: \"fixed\",\n            left: `${pageX}px`,\n            top: `${pageY}px`,\n            borderRadius: \"3px\",\n            boxShadow: \"0 0 0 1px rgba(16, 22, 26, 0.1), 0 2px 4px rgba(16, 22, 26, 0.2), 0 8px 24px rgba(16, 22, 26, 0.2)\"\n        };               \n        return <div ref={contextMenuRef} style={tmpStyle}>{onRender({rightClickNodeTreeItem,setRightClickNodeTreeItem,dispacher})}</div>\n    },[rightClickNodeTreeItem])\n    return {onRightClick,ui}\n}\n\nexport {useContextMenu}","import React, { useRef, useCallback, useEffect } from 'react';\nimport { Tree, Modal, Menu, Form, Input } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { DownOutlined, FileOutlined, FolderOutlined, DeleteOutlined, FileAddOutlined, FolderAddOutlined } from '@ant-design/icons';\nimport { ScriptTreeReducer, ScriptTreeHandlers, ScriptTreeActionNames } from './actions/ScriptTreeReducer';\nimport { ActionProxy } from '../../backend_service/ActionProxy';\nimport RemoteAction from '../../backend_service/RemoteAction';\nimport MLSQLTreeNodeBuilder from '../../service/MLSQLTreeBuilder';\nimport SpinBox from '../SpinBox'\nimport { useContextMenuCallback, useContextMenu } from './pages/ContextMenu';\nimport Tools from '../../common/Tools';\nimport AlertBox from '../AlertBox'\n\nconst { DirectoryTree } = Tree\n\n\nconst initState = {\n    nodes: [],\n    error: undefined,\n    createFileError: undefined,\n    createType: undefined,\n    createTitle: undefined,\n    operateModal: false,\n    reloading: undefined,\n    loading: true,\n    expandedKeys: []\n\n}\n\nconst ScriptTreeContext = React.createContext()\n\nfunction ScriptTree(props) {\n    const { consoleApp } = props\n    const [state, dispacher] = useReducerAsync(ScriptTreeReducer, initState, ScriptTreeHandlers)\n    const { loading,\n        nodes,\n        error, createFileError,\n        createType,\n        operateModal,\n        createTitle,\n        reloading,\n        expandedKeys\n    } = state\n    const client = new ActionProxy()\n    const contextMenuRef = useRef()\n    const [form] = Form.useForm()\n\n    useEffect(() => {\n        const getList = async () => {\n            const res = await client.get(RemoteAction.SCRIPT_FILE_LIST, {})\n            if (res.status !== 200) {\n                return\n            }\n\n            const builder = new MLSQLTreeNodeBuilder()\n            const treeRes = builder.build(res.content).sort((a, b) => {\n                return a.id - b.id\n            })\n\n\n            const treeData = treeRes.map(item => {\n                return builder.convert(item)\n            })\n\n            Tools.visitDown(treeData[0], (item) => {\n                if (item.isExpanded) {\n                    expandedKeys.push(item.id)\n                }\n            })\n\n            dispacher({\n                type: \"setState\",\n                data: {\n                    nodes: treeData,\n                    loading: false,\n                    expandedKeys\n                }\n            })\n        }\n        getList()\n    }, [reloading])\n\n    const onRender = ({rightClickNodeTreeItem, setRightClickNodeTreeItem, dispacher}) => {\n        const { id } = rightClickNodeTreeItem\n        let target = undefined\n\n        Tools.visitDown(nodes[0], (item) => {\n            if (item.id === id) {\n                target = item\n            }\n        })\n        if (id === nodes[0].id) {\n            return <Menu >\n                <Menu.Item icon={<FolderAddOutlined />} onClick={\n                    () => {\n                        dispacher({\n                            type: \"setState\",\n                            data: {\n                                node: target,\n                                createType: \"folder\",\n                                createTitle: \"Create Project\",\n                                operateModal: true\n                            }\n                        })\n                    }\n                }>Create Project</Menu.Item>\n            </Menu>\n        }\n\n        if (!target.isDir) {\n            return <Menu >\n                <Menu.Item onClick={() => {                    \n                    dispacher({\n                        type: ScriptTreeActionNames.deleteScriptFile,\n                        data: {\n                            node: target\n                        }\n                    })\n                    setRightClickNodeTreeItem(undefined)\n                }} key={1}>Delete</Menu.Item>\n            </Menu>\n        }\n\n        return <Menu >\n            <Menu.Item icon={<FileAddOutlined />} onClick={() => {\n                dispacher({\n                    type: \"setState\",\n                    data: {\n                        node: target,\n                        createType: \"file\",\n                        createTitle: \"Create File\",\n                        operateModal: true\n                    }\n                })\n                setRightClickNodeTreeItem(undefined)\n            }} key={1}>Create Script</Menu.Item>\n            <Menu.Item icon={<FolderAddOutlined />} onClick={() => {\n                dispacher({\n                    type: \"setState\",\n                    data: {\n                        node: target,\n                        createType: \"folder\",\n                        createTitle: \"Create Folder\",\n                        operateModal: true\n                    }\n                })\n                setRightClickNodeTreeItem(undefined)\n            }} key={2}>Create Folder</Menu.Item>\n            <Menu.Item icon={<DeleteOutlined />} onClick={() => {\n                dispacher({\n                    type: ScriptTreeActionNames.deleteScriptFile,\n                    data: {\n                        node: target,\n                    }\n                })\n                setRightClickNodeTreeItem(undefined)\n            }} key={3}>Delete</Menu.Item>\n        </Menu>\n    }\n    const { onRightClick: popContextMenu, ui: contextMenu } = useContextMenu({ contextMenuRef, dispacher, onRender })\n\n\n    return (\n        <ScriptTreeContext.Provider value={{ dispacher }}>\n            {contextMenu()}\n            <Modal\n                title={createTitle}\n                visible={operateModal}\n                onCancel={() => {\n                    dispacher({\n                        type: \"setState\",\n                        data: { operateModal: false }\n                    })\n                }}\n                onOk={() => {\n                    dispacher({\n                        type: ScriptTreeActionNames.createScriptFile,\n                        data: {\n                            operateModal: false,\n                            consoleApp, createType,\n                            form\n                        }\n                    })\n                }}\n                cancelText=\"Cancel\"\n                OkText=\"Ok\"\n            >\n                {\n                    createFileError && <AlertBox message={createFileError}></AlertBox>\n                }\n                <Form form={form}>\n                    <Form.Item name=\"fileName\" label=\"File Name\">\n                        <Input />\n                    </Form.Item>\n                </Form>\n            </Modal>\n            {error && <AlertBox message={error}></AlertBox>}\n            {loading && <SpinBox></SpinBox>}\n            {!loading &&\n                <DirectoryTree\n                    onExpand={(expandedKeys) => {                        \n                        dispacher({\n                            type: ScriptTreeActionNames.expand,\n                            data: { expandedKeys }\n                        })\n                    }}\n                    autoExpandParent={true}\n                    expandedKeys={\n                        expandedKeys\n                    }\n                    onDoubleClick={(evt, node) => {\n                        dispacher({\n                            type: ScriptTreeActionNames.openScriptFile,\n                            data: { consoleApp, node }\n                        })\n                    }}\n                    expandAction=\"click\"\n                    onRightClick={popContextMenu}\n                    switcherIcon={<DownOutlined />}\n                    treeData={nodes}></DirectoryTree>}\n                    \n        </ScriptTreeContext.Provider>\n    )\n}\nexport { ScriptTree, ScriptTreeContext }","import * as React from \"react\";\nimport { Tabs } from 'antd';\nimport DeltaLakeTree from \"../detla_lake/DeltaLakeTree\";\nimport FileSystemTree from \"../file_system/FileSystemTree\";\nimport \"../../v1/analysis/leftview.scss\"\nimport { ScriptTree } from \"../script_console/ScriptTree\";\nconst { TabPane } = Tabs;\nexport default class LeftTreePane extends React.Component {\n    constructor(props){\n        super(props)\n        this.queryApp = props.parent\n    }\n    render(){\n       return <Tabs defaultActiveKey=\"1\" style={{maxWidth:\"350px\"}} onTabClick={(key)=>{\n        if(key===\"2\"){                            \n            if(this.deltaLakeTreeRef){\n                this.deltaLakeTreeRef.reload()\n            }\n        }                        \n        }}>\n        <TabPane tab=\"Script\" key=\"1\">\n       <div className=\"leftview-box\">\n           <ScriptTree consoleApp = {this.queryApp}></ScriptTree> \n       </div>\n       </TabPane>       \n       <TabPane tab=\"DeltaLake\" key=\"2\">\n       <div className=\"leftview-box\">\n           <DeltaLakeTree ref={(et)=> this.deltaLakeTreeRef = et} ></DeltaLakeTree>\n       </div>\n       </TabPane>\n       <TabPane tab=\"FileSystem\" key=\"3\">\n       <div className=\"leftview-box\">\n           <FileSystemTree ref={(et)=> this.fileSystemTreeRef = et}></FileSystemTree>\n       </div>\n       </TabPane> \n         \n     </Tabs>\n    }\n}","import React, {Component} from 'react';\nimport MLSQLAceEditor from './MLSQLAceEditor'\nimport './MLSQLQueryApp.scss'\nimport AceEditor from \"react-ace\";\nimport {MLSQLQueryDisplay} from \"./MLSQLQueryDisplay\";\nimport {MLSQLDash} from \"./query/MLSQLDash\";\nimport {TabEditor} from \"./editor/TabEditor\";\nimport {MLSQLETQuick} from \"./et/MLSQLETQuick\";\nimport {Resizable} from \"re-resizable\";\nimport ExecuteUnit from \"./notebook/ExecuteUnit\";\nimport LeftTreePane from '../v1/async_execute/LeftTreePane';\nimport '../v1/analysis/workshop.scss'\n\nclass MLSQLQueryApp extends Component {\n\n    constructor(props) {\n        super(props);\n        // create a ref to store the textInput DOM element\n        this.state = {sqlContent: \"\", displayEditor: \"normal\"}\n        \n        this.editorGroup = React.createRef()\n        this.messageBox = React.createRef()\n        this.display = React.createRef()\n        this.dash = React.createRef()\n        this.etRef = React.createRef()\n\n        // key is script id\n        // value is editor ref\n        this.fileToEditorMap = {}\n\n    }\n\n    openExistsOrNewEditor = (script) => {\n        const self = this\n\n        if (this.fileToEditorMap.hasOwnProperty(script.id)) {\n            const editorRef = this.fileToEditorMap[script.id]\n            editorRef.ref.text(script.content, script.id)\n            this.editorGroup.current.onChange(editorRef.activeKey)\n\n        } else {\n            this.editorGroup.current.addFull(script.name, (editorRef) => {\n                editorRef.ref.text(script.content, script.id)\n                self.fileToEditorMap[script.id] = editorRef\n            })\n\n        }\n\n        if (script.name.endsWith(\".nb\")) {\n            self.setState({displayEditor: \"notebook\"})\n        }else if (script.name.endsWith(\".py\")) {\n            self.setState({displayEditor: \"pythoneditor\"})\n        } else {\n            self.setState({displayEditor: \"normal\"})\n        }\n    }\n\n    closeEditor = (editorRef) => {\n        const tempFileToEditorMap = Object.keys(this.fileToEditorMap).filter(key => {\n            return this.fileToEditorMap[key].activeKey !== editorRef.activeKey\n        }).reduce((pre, key) => {\n            pre[key] = this.fileToEditorMap[key]\n            return pre\n        }, {})\n        this.fileToEditorMap = tempFileToEditorMap\n    }\n\n    getCurrentEditor = () => {\n        return this.editorGroup.current.getCurrentEditor()\n    }\n\n\n    setData = (data) => {\n        this.queryResData = data\n        this.dash.current.refresh()\n    }\n\n    tableAndDash = () => {\n        if (this.state.displayEditor !== \"notebook\" || this.state.displayEditor !== \"pythoneditor\") {\n            return <div>\n                <Resizable defaultSize={{height: \"300px\"}} onResize={() => {\n                    this.messageBox.current.editor.resize();\n                }}>\n                    <AceEditor\n                        height={\"100%\"}\n                        width={\"100%\"}\n                        ref={this.messageBox}\n                        mode=\"text\"\n                        theme=\"github\"\n                        name=\"message_box\"\n                    />\n                </Resizable>\n\n                <div>\n                    <MLSQLDash ref={this.dash} parent={this}/>\n                </div>\n                <div className=\"mlsql-query-display\">\n                    <MLSQLQueryDisplay ref={this.display} parent={this}/></div>\n            </div>\n        }\n\n    }\n\n\n    render() {\n        return (\n            <div className=\"ws-app\">\n\n               <div className=\"ws-left-pane\">\n               <Resizable  style={{ paddingRight: \"30px\", borderRight: \"solid\" }}>\n                <LeftTreePane  ref={(et)=>this.leftTreePaneRef = et} parent={this}></LeftTreePane>\n               </Resizable>\n                   \n               </div>\n                <div className=\"ws-right-pane\">\n                    <div style={{marginBottom: \"10px\"}}>\n                        <MLSQLETQuick ref={this.etRef} parent={this}/>\n                    </div>\n                    <TabEditor ref={this.editorGroup} parent={this}/>\n                    {this.tableAndDash()}\n                </div>\n\n            </div>\n        )\n    }\n}\n\nexport default MLSQLQueryApp","let mix = (superclass) => new MixinBuilder(superclass);\n\nclass MixinBuilder {\n  constructor(superclass) {\n    this.superclass = superclass;\n  }\n\n  with(...mixins) { \n    return mixins.reduce((c, mixin) => mixin(c), this.superclass);\n  }\n}\n\nexport default mix\n","import AnalysisWorkshop from \"./workshop\"\n\nexport const NewSessionOp = superclass=> class extends(superclass){\n      \n      toggleNewSession = ()=>{\n        this.setState({showNewSession:!this.state.showNewSession})\n      }\n      \n      showNewSession = (evt)=>{\n        if(!evt.node.props['table']){\n          return\n        }\n        const currentTable = {table: evt.node.props['table'],db: evt.node.props['db']}\n        this.setState({showNewSession:true,currentTable})\n      }\n    \n      currentTableName = ()=>{\n          if(!this.state.currentTable){\n              return \"\"\n          }\n        return this.state.currentTable.db + \".\" + this.state.currentTable.table\n      }\n    \n      showTable = async (prefix)=>{      \n          this.setState({showNewSession:false})           \n          const {db,table} = this.state.currentTable\n          AnalysisWorkshop.workshop.newSession(prefix,db,table)\n          this.workshop.newSession(prefix,db,table)                   \n      }\n}","import * as React from \"react\";\nimport { Form, Spin, Input, Modal,Tree } from 'antd';\nimport FileSystemTree from \"../file_system/FileSystemTree\";\nimport mix from \"../../common/mixin\"\nimport { NewSessionOp } from \"./NewSessionOp\";\nimport { ETPopLoad } from \"../../components/et/ETPopLoad\";\nconst { TreeNode, DirectoryTree } = Tree;\n\nexport default class AFileSystemTree extends mix(FileSystemTree).with(NewSessionOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop        \n    }\n    \n    showNewSession = (evt)=>{\n        const currentTable = {table: evt.node.props.dataRef['path'],db: \"\"}\n        this.setState({showNewSession:true,currentTable})\n    }\n\n    showTable = async (prefix,tp,options)=>{\n        this.setState({showNewSession:false})        \n        const {db,table} = this.state.currentTable\n        this.workshop.newSession(prefix,tp,table,options)        \n    }\n\n    render = () => {\n        return <div>\n            <Modal\n                title={`Open Table: [${this.currentTableName()}]?`}\n                visible={this.state.showNewSession}\n                onCancel={this.toggleNewSession}\n                onOk={() => { this.showTable(\"file\",this.loadPopRef.data.sourceTypeV,this.loadPopRef.data.params) }}\n                cancelText=\"Cancel\"\n                OkText=\"Ok\">\n                    <ETPopLoad key={this.currentTableName()} ignorePath={true} ignoreTableName={true} ref={et=>this.loadPopRef=et}  parent={this}></ETPopLoad>\n                 </Modal>\n            <Spin tip=\"Loading...\" spinning={this.state.loading}>\n                <DirectoryTree loadData={this.onLoadData} expandAction=\"doubleClick\" onRightClick={this.showNewSession}>\n                    {this.renderTreeNodes(this.state.root)}\n                </DirectoryTree>\n            </Spin>\n        </div>\n    }\n}","import * as React from \"react\";\nimport { Tree, Spin, Menu, Modal } from 'antd';\nimport {TableOutlined} from '@ant-design/icons'\nimport DeltaLakeTree from \"../detla_lake/DeltaLakeTree\";\nimport mix from \"../../common/mixin\"\nimport { NewSessionOp } from \"./NewSessionOp\";\nconst { TreeNode, DirectoryTree } = Tree;\nexport default class ADeltaLakeTree extends mix(DeltaLakeTree).with(NewSessionOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop        \n    }\n    tableClick = (evt) => {\n        this.setState({\n            rightClickNodeTreeItem: {\n                pageX: evt.event.pageX,\n                pageY: evt.event.pageY,\n                table: evt.node.props['table'],\n                db: evt.node.props['db']\n            }\n        })\n    }\n    show() {\n        return Object.entries(this.state.dbs).map(([key, value]) => {\n            return <TreeNode title={key} key={key}>\n                {value.map(item => {\n                    return <TreeNode icon={<TableOutlined />} title={item} table={item} db={key} key={`${key}.${item}`} isLeaf />\n                })}\n            </TreeNode>\n        })\n    }        \n\n    render() {\n\n        return (\n            <div>\n                 <Modal  \n                    title={`Open Table`}\n                    visible={this.state.showNewSession}\n                    onCancel={this.toggleNewSession}\n                    onOk={()=>{this.showTable(\"delta\")}}\n                    cancelText=\"Cancel\"                     \n                    OkText=\"Ok\">                    \n                   {`Open  ${this.currentTableName()}]?`}\n                 </Modal>                \n                <Spin tip=\"Loading...\" spinning={this.state.loading}>\n                    <DirectoryTree onRightClick={this.showNewSession}>\n                        {this.show()}\n                    </DirectoryTree>\n                </Spin>\n            </div>\n\n\n        )\n    }\n}","import ActionMaker from \"../../../ActionMaker\"\nimport EngineService from \"../../../service/EngineService\"\n\nexport const { handler: LoadActionHandler, action: LoadAction } = ActionMaker.buildHandler(async (action) => {\n    const res = await EngineService.tablesInWorkshop()\n    if (res.status === 200) {\n        const dbs = {}\n        res.content.forEach(item => {\n            if (!dbs[item.sessionId]) {\n                dbs[item.sessionId] = [item.tableName]\n            } else {\n                dbs[item.sessionId].push(item.tableName)\n            }\n        })\n        return {\n            data: {\n                dbs,...action.data\n            }\n        }\n    }\n\n    return {\n        data: {...action.data}\n    }\n})","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:OpenActionHandler,action:OpenAction} = ActionMaker.buildHandler(async (action)=>{\n    const {openTable,workshop} = action.data    \n    workshop.newSession(\"temp\",\"\",openTable)                     \n    return {        \n        data: {}\n    }\n})","import ActionMaker from \"../../../ActionMaker\"\nimport { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../../backend_service/RemoteAction\"\nimport Tools from \"../../../../common/Tools\"\n\nexport const {handler:DeleteActionHandler,action:DeleteAction} = ActionMaker.buildHandler(async (action)=>{\n    const {id} = action.data\n    const proxy = new ActionProxy()\n    await proxy.get(RemoteAction.ANALYSIS_TABLE_DELETE,{tableName:id})\n    return {        \n        data: {\n            reloading: Tools.getJobName()           \n        }\n    }\n})","import { CommonHandlers,CommonActions} from '../../common/CommonHandlers'\nimport { LoadActionHandler, LoadAction } from './LoadAction'\nimport { OpenActionHandler, OpenAction } from './OpenAction'\nimport { DeleteActionHandler, DeleteAction } from './DeleteAction'\nclass WorkshopTablesActionNames {\n    static LOAD = \"load\"\n    static OPEN = \"open\"\n    static DELETE = \"delete\"\n}\nconst WorkshopTablesHandlers = {\n    ...CommonHandlers,\n    [WorkshopTablesActionNames.LOAD]:LoadActionHandler,\n    [WorkshopTablesActionNames.OPEN]:OpenActionHandler,\n    [WorkshopTablesActionNames.DELETE]:DeleteActionHandler,\n\n}\nconst WorkshopTablesActions = {\n    ...CommonActions,\n    [WorkshopTablesActionNames.LOAD]:LoadAction,\n    [WorkshopTablesActionNames.OPEN]:OpenAction,\n    [WorkshopTablesActionNames.DELETE]:DeleteAction,\n}\n\nfunction WorkshopTablesReducer(state, action) {\nreturn WorkshopTablesActions[action.type](state, action.data)    \n}\nexport { WorkshopTablesActionNames, WorkshopTablesReducer, WorkshopTablesHandlers }","import React, { useState, useRef, useEffect } from 'react';\nimport { Tree, Spin, Menu, Icon, Modal } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { WorkshopTablesReducer, WorkshopTablesHandlers, WorkshopTablesActionNames } from './actions/WorkshopTablesReducer';\nimport { TableOutlined, DeleteOutlined ,FolderOpenOutlined} from '@ant-design/icons'\nimport { useContextMenu } from '../../script_console/pages/ContextMenu';\nconst { TreeNode, DirectoryTree } = Tree;\n\nconst initState = {\n    dbs: {},\n    loading: false,\n    openTable: undefined,\n    confirm: false,\n    reloading: undefined\n}\n\nconst WorkshopTablesContext = React.createContext()\n\nfunction WorkshopTables(props) {\n    const {workshop,reload:externalReload} = props\n    const [state, dispacher] = useReducerAsync(WorkshopTablesReducer, initState, WorkshopTablesHandlers)\n    const { dbs, loading ,openTable,confirm,reloading} = state\n    const contextMenuRef = useRef()\n\n    const onRender = ({ rightClickNodeTreeItem, setRightClickNodeTreeItem, dispacher }) => {\n        const { id } = rightClickNodeTreeItem\n             \n        return <Menu >\n            <Menu.Item icon={<FolderOpenOutlined />} onClick={() => {\n                dispacher({\n                    type: WorkshopTablesActionNames.OPEN,\n                    data: {\n                        openTable:id,\n                        workshop                        \n                    }\n                })\n                dispacher({\n                    type: \"setState\",\n                    data: {\n                        confirm:false\n                    }\n                })\n                setRightClickNodeTreeItem(undefined)\n            }} key={1}>Open Table</Menu.Item>\n            <Menu.Item onClick={() => {\n                dispacher({\n                    type: WorkshopTablesActionNames.DELETE,\n                    data: {\n                        id\n                    }\n                })\n                setRightClickNodeTreeItem(undefined)\n            }} key={2} icon={<DeleteOutlined />}>Delete</Menu.Item>\n        </Menu>\n    }\n    const { onRightClick: popContextMenu, ui: contextMenu } = useContextMenu({ contextMenuRef, dispacher, onRender })\n\n    useEffect(() => {\n        dispacher({\n            type: \"setState\",\n            data: { loading: true }\n        })\n        dispacher({\n            type: WorkshopTablesActionNames.LOAD,\n            data: {\n                loading: false\n            }\n        })\n    }, [reloading,externalReload])\n    return (\n        <WorkshopTablesContext.Provider value={{ dispacher }}>\n            <Modal\n                title={`Open Table`}\n                visible={confirm}\n                onCancel={() => { \n                    dispacher({\n                        type: \"setState\",\n                        data: {                            \n                            confirm: false\n                        }\n                    }) \n                }}\n                onOk={() => { \n                    dispacher({\n                        type: \"dispatch\",\n                        data: {openTable}\n                    })\n                }}\n                cancelText=\"Cancel\"\n                OkText=\"Ok\">\n                {`Open ${openTable}?`}\n            </Modal>\n            <Spin tip=\"Loading...\" spinning={loading}>\n                {contextMenu()}\n                <DirectoryTree onDoubleClick={(evt,node)=>{\n                    dispacher({\n                        type: WorkshopTablesActionNames.OPEN,\n                        data: {\n                            openTable:node.id,\n                            workshop                        \n                        }\n                    })\n                    dispacher({\n                        type: \"setState\",\n                        data: {\n                            confirm:false\n                        }\n                    })\n                }} onRightClick={popContextMenu}>\n                    {\n                        Object.entries(dbs).flatMap(([key, value]) => {\n                            return value.map(item => {\n                                return <TreeNode icon={<TableOutlined />} id={item} table={item} db={key} title={item} key={item} isLeaf />\n                            })\n                        })\n                    }\n                </DirectoryTree>\n            </Spin>\n        </WorkshopTablesContext.Provider>\n    )\n}\nexport { WorkshopTables, WorkshopTablesContext }","import * as React from \"react\";\nimport ActionMaker from \"../../../ActionMaker\"\nimport { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport Tools from \"../../../../common/Tools\"\nimport { TableOutlined } from '@ant-design/icons'\n\nexport const { handler: LoadActionHandler, action: LoadAction } = ActionMaker.buildHandler(async (action) => {\n    const {dbName,node} = action.data\n    const proxy = new ActionProxy()\n    if(!dbName){        \n        let res = await proxy.runScript(`!profiler sql \"show databases\";`,Tools.getJobName(),Tools.robotFetchParam())                      \n        if (res.status === 200) {        \n            const dbs  = res.content.data.map(item=>{                \n                item[\"key\"] = item.databaseName || item.namespace\n                item[\"title\"] = item.key\n                item[\"isLeaf\"] = false\n                item[\"children\"] = []\n                return item\n            })\n            return {\n                data: {\n                    dbs,...action.data\n                }\n            }\n        }\n    }\n\n    if(dbName){\n        await proxy.runScript(`!profiler sql \"use ${dbName}\";`,Tools.getJobName(),Tools.robotFetchParam())    \n        let res = await proxy.runScript(`!profiler sql \"show tables\";`,Tools.getJobName(),Tools.robotFetchParam())                             \n        if (res.status === 200) {        \n            const tables  = res.content.data.filter(item=>{\n                const db = item.database || item.namespace\n                return db === dbName\n            }).map(item=>{\n                item[\"key\"] = `${dbName}.${item.tableName}`\n                item[\"title\"] = item.tableName\n                item[\"isLeaf\"] = true\n                item[\"icon\"]=<TableOutlined />\n                return item\n            }) \n            const {dbs} = action.__state\n            const newdbs = dbs.map(db => {\n                if(db.key===dbName){\n                    db.children = tables\n                }\n                return db\n            });            \n            return {\n                data: {...action.data,dbs:newdbs}\n            }\n        }\n    }\n    \n\n    return {\n        data: {...action.data}\n    }\n})","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:OpenActionHandler,action:OpenAction} = ActionMaker.buildHandler(async (action)=>{\n    const {openTable,workshop} = action.data \n    const [db,table] = openTable.split(\".\")\n    workshop.newSession(\"hive\",db,table)                     \n    return {        \n        data: {}\n    }\n})","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport ActionMaker from \"../../../ActionMaker\"\nimport Tools from '../../../../common/Tools';\n\nconst loop = (data, searchValue) =>\n    data.map(item => {\n        const index = item.title.indexOf(searchValue);\n        const beforeStr = item.title.substr(0, index);\n        const afterStr = item.title.substr(index + searchValue.length);\n        const title =\n            index > -1 ? (\n                <span>\n                    {beforeStr}\n                    <span className=\"site-tree-search-value\">{searchValue}</span>\n                    {afterStr}\n                </span>\n            ) : (\n                    <span>{item.title}</span>\n                );\n\n        if (item.children) {\n            return { ...item, title, children: loop(item.children, searchValue) }\n        }\n\n        return { ...item, title }\n    });\n\nexport const { handler: SearchActionHandler, action: SearchAction } = ActionMaker.buildHandler(async (action) => {\n    const { dbs } = action.__state\n    const { searchValue } = action.data\n    if (!searchValue) {\n        return {\n            data: {\n                expandedKeys: [], search_dbs: dbs\n            }\n        }\n    }\n\n    let showKeys = []\n    let expandedKeys = dbs\n        .flatMap(item => {            \n            const wow = item.children?.map(sub => {\n                if (sub.title.indexOf(searchValue) > -1) {\n                    return item.key\n                }\n                return null\n            }).filter(item => item) || []\n\n            if(item.title.indexOf(searchValue) > -1){                  \n                showKeys.push(item.key)\n            }\n            return wow\n        })\n   \n    expandedKeys = Tools.distinct(expandedKeys)    \n    const search_dbs = loop(dbs, searchValue).filter(item => {\n        return expandedKeys.includes(item.key) || showKeys.includes(item.key)\n    })\n    return {\n        data: {\n            expandedKeys, search_dbs\n        }\n    }\n})","import { CommonHandlers,CommonActions} from '../../common/CommonHandlers'\nimport { LoadActionHandler,LoadAction } from './LoadAction'\nimport { OpenAction, OpenActionHandler } from './OpenAction'\nimport { SearchAction, SearchActionHandler } from './SearchAction'\nclass HiveTablesActionNames {\n    static LOAD = \"load\"\n    static OPEN = \"open\"\n    static SEARCH = \"search\"\n}\nconst HiveTablesHandlers = {\n    ...CommonHandlers,\n    [HiveTablesActionNames.LOAD]:LoadActionHandler,\n    [HiveTablesActionNames.OPEN]: OpenActionHandler,\n    [HiveTablesActionNames.SEARCH]: SearchActionHandler\n}\nconst HiveTablesActions = {\n    ...CommonActions,\n    [HiveTablesActionNames.LOAD]:LoadAction,\n    [HiveTablesActionNames.OPEN]: OpenAction,\n    [HiveTablesActionNames.SEARCH]: SearchAction\n}\n\nfunction HiveTablesReducer(state, action) {\nreturn HiveTablesActions[action.type](state, action.data)    \n}\nexport { HiveTablesActionNames, HiveTablesReducer, HiveTablesHandlers }","import React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { Tree, Spin, Menu, Input, Modal } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { HiveTablesReducer, HiveTablesHandlers, HiveTablesActionNames } from './actions/HiveTablesReducer';\nimport { TableOutlined, DeleteOutlined, FolderOpenOutlined } from '@ant-design/icons'\nimport { useContextMenu } from '../../script_console/pages/ContextMenu';\nimport AnalysisWorkshop from '../workshop';\nimport Tools from '../../../common/Tools';\nconst { TreeNode, DirectoryTree } = Tree;\n\nconst initState = {\n    dbs: [],\n    loading: false,\n    openTable: undefined,\n    confirm: false,\n    reloading: undefined,\n    expandedKeys:[]\n}\n\nconst HiveTablesContext = React.createContext()\n\nfunction HiveTables(props) {\n    const workshop = AnalysisWorkshop.workshop\n    const { reload: externalReload } = props\n    const [state, dispacher] = useReducerAsync(HiveTablesReducer, initState, HiveTablesHandlers)\n    const { dbs, loading, openTable, confirm, reloading ,\n        search_dbs,expandedKeys\n    } = state\n    const contextMenuRef = useRef()\n\n    const onRender = ({ rightClickNodeTreeItem, setRightClickNodeTreeItem, dispacher }) => {\n        const { id } = rightClickNodeTreeItem\n\n        return <Menu >\n            <Menu.Item icon={<FolderOpenOutlined />} onClick={() => {\n                dispacher({\n                    type: HiveTablesActionNames.OPEN,\n                    data: {\n                        openTable: id,\n                        workshop\n                    }\n                })\n                dispacher({\n                    type: \"setState\",\n                    data: {\n                        confirm: false\n                    }\n                })\n                setRightClickNodeTreeItem(undefined)\n            }} key={1}>Open Table</Menu.Item>\n        </Menu>\n    }\n    const { onRightClick: popContextMenu, ui: contextMenu } = useContextMenu({ contextMenuRef, dispacher, onRender })\n\n    useEffect(() => {\n        dispacher({\n            type: \"setState\",\n            data: { loading: true }\n        })\n        dispacher({\n            type: HiveTablesActionNames.LOAD,\n            data: {\n                loading: false\n            }\n        })\n    }, [reloading, externalReload])\n\n    return (\n        <HiveTablesContext.Provider value={{ dispacher }}>\n            <Modal\n                title={`Open Table`}\n                visible={confirm}\n                onCancel={() => {\n                    dispacher({\n                        type: \"setState\",\n                        data: {\n                            confirm: false\n                        }\n                    })\n                }}\n                onOk={() => {\n                    dispacher({\n                        type: \"dispatch\",\n                        data: {\n                            openTable: openTable,\n                            workshop\n                        }\n                    })\n                }}\n                cancelText=\"Cancel\"\n                OkText=\"Ok\">\n                {`Open ${openTable}?`}\n            </Modal>\n            <Spin tip=\"Loading...\" spinning={loading}>\n                {contextMenu()}\n                <Input style={{ marginBottom: 8 }} placeholder=\"Search\" onChange={\n                    (e) => {\n                        dispacher({\n                            type: HiveTablesActionNames.SEARCH,\n                            data: { searchValue: e.target.value }\n                        })\n                    }\n                } />\n                <DirectoryTree                 \n                expandedKeys = {expandedKeys}                \n                treeData={search_dbs || dbs} \n                loadData={\n                    async (node) => {\n                        dispacher({\n                            type: \"setState\",\n                            data: { loading: true }\n                        })\n                        dispacher({\n                            type: HiveTablesActionNames.LOAD,\n                            data: { dbName: node.key, node, loading: false }\n                        })\n                    }\n                } expandAction=\"click\" onExpand={(expandedKeys)=>{\n                    dispacher({                        \n                        type:\"setState\",\n                        data: {expandedKeys}\n                    })\n                }} onDoubleClick={(evt, node) => {\n                    if (!node.isLeaf) {\n                        return\n                    }\n                    dispacher({\n                        type: HiveTablesActionNames.OPEN,\n                        data: {\n                            openTable: node.key,\n                            workshop\n                        }\n                    })\n                    dispacher({\n                        type: \"setState\",\n                        data: {\n                            confirm: false\n                        }\n                    })\n                }} onRightClick={({event,node}) => {                    \n                    if (node.isLeaf) {\n                        popContextMenu({event,node})\n                    }\n                }}>\n                </DirectoryTree>\n            </Spin>\n        </HiveTablesContext.Provider>\n    )\n}\nexport { HiveTables, HiveTablesContext }","import * as React from \"react\";\nimport { Tabs } from 'antd';\nimport AFileSystemTree from \"./AFileSystemTree\";\nimport ADeltaLakeTree from \"./ADeltaLakeTree\";\nimport \"./leftview.scss\"\nimport { FormattedMessage } from 'react-intl'\nimport { WorkshopTables } from \"./workshop_tables/WorkshopTables\";\nimport { HiveTables } from \"./hive/HiveTables\";\n\nconst { TabPane } = Tabs;\nexport default class LeftView extends React.Component {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent\n        this.state = {\n            reloaWorkshop: undefined\n        }\n    }\n\n\n    render() {\n        return <Tabs defaultActiveKey=\"1\" onTabClick={(key) => {\n            if (key === \"3\") {\n                if (this.deltaLakeTreeRef) {\n                    this.deltaLakeTreeRef.reload()\n                }\n            }\n            if (key === \"4\") {\n                if (this.fileSystemTreeRef) {\n                    this.fileSystemTreeRef.reload()\n                }\n            }\n        }}>\n            <TabPane tab={<FormattedMessage id=\"table_workshop\" />} key=\"1\">\n                <div className=\"leftview-box\" >\n                    <WorkshopTables reload={this.state.reloaWorkshop} workshop={this.workshop}></WorkshopTables>\n                </div>\n            </TabPane>\n\n            <TabPane tab={<FormattedMessage id=\"hive\" />} key=\"2\">\n                <div className=\"leftview-box\" >\n                    <HiveTables/>\n                </div>\n            </TabPane>\n\n            <TabPane tab={<FormattedMessage id=\"delta_lake\" />} key=\"3\">\n                <div className=\"leftview-box\" >\n                    <ADeltaLakeTree ref={(et) => this.deltaLakeTreeRef = et} parent={this}></ADeltaLakeTree>\n                </div>\n            </TabPane>\n            <TabPane tab={<FormattedMessage id=\"file_system\" />} key=\"4\">\n                <div className=\"leftview-box\">\n                    <AFileSystemTree ref={(et) => this.fileSystemTreeRef = et} parent={this}></AFileSystemTree>\n                </div>\n            </TabPane>\n\n        </Tabs>\n    }\n}","import Tools from '../../common/Tools';\nimport EngineService from '../service/EngineService';\n\nconst uuidv4 = require('uuid/v4');\nexport const WorkshopOp = (superclass) => class extends superclass {\n\n    newSession = async (prefix, db, table, options) => {\n        this.showTable(prefix, db, table, options)\n        return this\n    }\n    showTable = async (prefix, db, table, options) => {\n        let tableName = Tools.getTempTableName()\n\n        let dbPrefix = `${db}.`\n\n        if (!db) {\n            dbPrefix = \"\"\n        }\n\n        let sql = `select * from ${dbPrefix}${table} as ${tableName};`\n        if (prefix === \"delta\") {\n            sql = `load delta.\\`${db}.${table}\\` as ${tableName};`\n        }\n\n        if (prefix === \"temp\") {\n            const res = await EngineService.tableInfo(table)\n            const tableInfo = res.content\n            if (tableInfo.status === 2) {\n                sql = `load parquet.\\`/__persisted__/${tableInfo.tableName}\\`  as ${tableInfo.tableName};\n                select * from ${tableInfo.tableName} as ${tableName};`\n            } else {\n                sql = `${tableInfo.content} \n                select * from ${tableInfo.tableName} as ${tableName};`\n            }\n        }\n\n        if (prefix === \"file\") {\n            let whereBlock = \"where \"\n            if (options) {\n                whereBlock = whereBlock + Object.keys(options).map(k => {\n                    const v = options[k]\n                    return `${k.replace(/\\[group\\]/g, '0')}='''${v}'''`\n                }).join(\" and \")\n            } else whereBlock = \"\"\n\n            sql = `load ${db}.\\`${table}\\` ${whereBlock}  as ${tableName};`\n        }\n\n        this.sqls.push({ tableName, sql })\n        this.setState({loadingTable:true})\n        const res = await this.client.runScript(\n            sql,\n            Tools.getJobName(),\n            Tools.robotFetchParam())\n        this.setState({loadingTable:false})\n        if (res.status !== 200) {\n            this.toggleMessage(`Fail to load ${tableName}: ${res.content}`)\n            return\n        }\n        const { schema, data } = res.content\n        this.setCurrentTable(\"\", \"\", tableName, schema, data)\n        this.sessionId = Tools.getJobName()\n        this.setState({ sessionId:this.sessionId })\n    }\n\n    setCurrentTable = (prefix, db, table, schema, data) => {\n        this.currentTable = { prefix, db, table, schema, data }\n        this.updateDisplay(data,schema)\n    }\n\n}","import Tools from \"../../common/Tools\"\nimport RemoteAction from \"../../backend_service/RemoteAction\"\n\nexport const WorkshopAutoSql = (superclass) => class extends superclass {\n   getLastApplyTable = () => {\n      return this.sqls[this.sqls.length - 1]\n   }\n\n   rollback = async (params) => {\n      if (this.sqls.length < 2) {\n         this.toggleMessage(\"No apply to rollback.\")\n         return\n      }\n      const removeTable = this.sqls.pop()\n      const currentTable = this.sqls.pop()\n      const res = await this.client.get(RemoteAction.APPLY_GET, { name: currentTable.tableName })\n      if (res.status === 200) {\n         const { data, schema } = JSON.parse(res.content.response)\n         await this.apply({ ...currentTable, _data: data, _schema: schema })\n      }\n      else {\n         await this.apply(currentTable)\n      }\n\n   }\n\n   runSQLAtCurrentTable = async (sql,params) => {      \n      const view = this.sqls.map(item => item.sql).join(\"\")\n      const res = await this.client.runScript(\n         `${view}\n          ${sql}`,\n         Tools.getJobName(),\n         { ...Tools.robotFetchParam(), ...params })\n      return res\n   }\n\n   /**\n   * generate sql\n   */\n   apply = async (params) => {\n      const { tableName, sql, _data, _schema } = params\n      this.sqls.push(params)\n\n      if (_data && _schema) {\n         this.setCurrentTable(\"\", \"\", tableName, _schema, _data)\n         return 200\n      }\n\n      const view = this.sqls.map(item => item.sql).join(\"\")\n      try {\n         const res = await this.client.runScript(view, Tools.getJobName(), {\n            ...Tools.robotFetchParam(),\n            queryType: \"analysis_workshop_apply_action\",\n            analysis_workshop_table_name: tableName,\n            analysis_workshop_sql: JSON.stringify(this.sqls)\n         })\n         if (res.status !== 200) {\n            this.sqls.pop()\n            this.toggleMessage(res.content)\n            return 500\n         }\n         const { data, schema } = res.content\n         this.setCurrentTable(\"\", \"\", tableName, schema, data)\n         return 200\n      } catch (e) {\n         this.toggleMessage(\"Execute job fail;(Job is killed)\")\n         return 500\n      }\n   }\n\n   save = async (tableName, persist) => {\n      if (this.sqls.length === 0) {\n         this.toggleMessage(\"Sorry, current session have no applies.\")\n         return 500\n      }\n      const sql = `select * from ${this.getLastApplyTable().tableName} as ${tableName};`\n      this.sqls.push({ tableName, sql })\n      const finalSql = this.sqls.map(item => item.sql).join(\"\\n\")\n\n      const persistJobName = Tools.getJobName()\n      let extraParams = { status: 5 }// 5 view\n      if (persist) {\n         const persistSQL = `${finalSql}\n         save overwrite ${tableName} as parquet.\\`/__persisted__/${tableName}\\`;`\n\n         await this.client.runScript(persistSQL, persistJobName, {\n            persistJobName,\n            async: true\n         })\n         extraParams = { jobName: persistJobName, status: 1 }// 1 running\n      }\n\n      const res = await this.client.post(RemoteAction.ANALYSIS_SAVE, Object.assign({\n         tableName,\n         sql: finalSql,\n         sessionId: this.sessionId,\n         schema: JSON.stringify(this.currentTable.schema),\n      }, extraParams))\n\n      return res.status\n   }\n}","import * as React from \"react\";\nimport { Menu, Button, Modal, Form, Input, FuncDesc, Switch } from 'antd';\nimport './ApplyOrSave.scss'\n\nconst { SubMenu } = Menu;\nexport default class ApplyOrSave extends React.Component {\n    constructor(props) {\n        super(props)\n        this.props = props\n        this.state = { applyLoading: false,saveDiagram:false }\n        this.workshop = props.parent.workshop\n    }\n    enter = () => {        \n        this.setState({ applyLoading: true })\n        this.workshop.setState({tableLoading:true})\n    }\n    exit = () => {\n        this.setState({ applyLoading: false })\n        this.workshop.setState({tableLoading:false})\n    }\n\n    showSaveDiagram = ()=>{\n      this.toggle()\n    }\n\n    toggle = () => {\n        this.setState({ saveDiagram: !this.state.saveDiagram })\n    }\n    \n    handleTableInput = ()=>{}\n    handlePersit = ()=>{}\n\n    render() {\n        return <div style={this.props.style} className={this.props.className || \"aos-box\"}>\n            <Modal title={\"View\"}\n                visible={this.state.saveDiagram}\n                onCancel={this.toggle}\n                onOk={this.props.onSave}\n                cancelText=\"Cancel\"\n                width=\"50%\"\n                OkText=\"Ok\">\n                <Form className=\"login-form\">\n                    <Form.Item><Input addonBefore=\"tableName\" onChange={this.props.handleTableInput || this.handleTableInput} placeholder=\"\" /></Form.Item>\n                    <Form.Item label=\"Persist table(take more space):\"><Switch onChange={this.props.handlePersit || this.handlePersit}></Switch></Form.Item>\n                </Form>\n            </Modal>\n            <div className=\"aos-button\"><Button loading={this.state.applyLoading} onClick={this.props.onApply} type=\"primary\">Apply</Button></div>\n            <div className=\"aos-button\"><Button disabled={this.state.applyLoading} onClick={this.toggle} type=\"primary\">Save As</Button></div>\n            <div className=\"aos-button\"><Button disabled={this.state.applyLoading} onClick={this.props.onRollback} >Rollback</Button></div>\n        </div>\n    }\n}","export const StationCommonOp = (superclass) => class extends superclass {\n    onSave = async ()=>{               \n        const status = await this.workshop.save(this.tableNameForSave,this.persistForSave)   \n        if(status===200){\n            this.workshop.refreshOperateStation()\n            this.workshop.refreshTableWorkshop()\n        }\n     }\n\n     onRollback = async ()=>{         \n      this.ApplyOrSaveRef.enter()              \n      const status = await this.workshop.rollback()   \n      if(status===200){\n          this.workshop.refreshOperateStation()\n          this.workshop.refreshTableWorkshop()\n      }\n      this.ApplyOrSaveRef.exit()\n    }\n\n     handleTableInput = (tableName)=>{         \n        this.tableNameForSave = tableName.target.value\n     }\n     handlePersit=(checked)=>{\n        this.persistForSave = checked\n     }\n\n     \n}","import * as React from \"react\";\nimport { Form, Select, Button } from 'antd'\nimport EngineService from \"../../service/EngineService\";\nconst { Option } = Select;\nexport default class SelectJoinField extends React.Component {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.joinStation = props.parent\n        this.currentTable = this.joinStation.joinInfo.currentTable.table\n        this.joinTable = this.joinStation.joinInfo.joinTable\n        this.state = {\n            currentTableFields: [],\n            joinTableFields: []\n        }\n    }\n    reload = async () => {\n        const currentTableSchema = this.joinStation.joinInfo.currentTable.schema\n        const joinTable = await EngineService.tableInfo(this.joinTable)\n        if (joinTable.status === 200) {\n            this.setState({\n                currentTableFields: currentTableSchema.fields,\n                joinTableFields: JSON.parse(joinTable.content.tableSchema).fields\n            })\n        }\n    }\n    componentDidMount = async () => {\n        await this.reload()\n    }\n\n    next = (values) => {\n        this.joinStation.joinInfo = Object.assign(this.joinStation.joinInfo, values)\n        this.joinStation.next()\n    }\n    render = () => {\n        return <Form className=\"login-form\" onFinish={this.next}>\n            <Form.Item name=\"leftField\" rules={[{ required: true, message: 'Please select condition field!' }]}>\n                <Select\n                    label=\"Current Table\"\n                    showSearch\n                    style={{ width: 200 }}\n                    placeholder={this.currentTable}\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    {this.state.currentTableFields.map(item => {\n                        return <Option key={item.name} value={item.name}>{item.name}</Option>\n                    })}\n                </Select>\n            </Form.Item>\n            <Form.Item name=\"rightField\" rules={[{ required: true, message: 'Please select condition field!' }]}>\n                <Select\n                    label=\"Join Table\"\n                    showSearch\n                    style={{ width: 200 }}\n                    placeholder={this.joinTable}\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    {this.state.joinTableFields.map(item => {\n                        return <Option key={item.name} value={item.name}>{item.name}</Option>\n                    })}\n                </Select>\n            </Form.Item>\n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Next\n                </Button>\n            </Form.Item>\n        </Form>\n\n    }\n}","import * as React from \"react\";\nimport { Transfer,Input } from 'antd';\nexport default class SelectFields extends React.Component {\n  constructor(props) {\n    super(props)\n    this.workshop = props.parent.workshop       \n    this.state = this.wow(props)\n  }\n   \n  \n  wow(props){\n    const schemaFields = props.schemaFields.map(item=>{\n      return {\n        title:item.name,\n        key: item.name,                     \n      }\n    })\n    const targetKeys = [];\n    const data = schemaFields; \n    return {data,targetKeys}\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.schemaFields !== prevProps.schemaFields) {\n        this.setState({...this.wow(this.props)})\n    }\n  }\n\n  filterOption = (inputValue, option) => option.title.indexOf(inputValue) > -1;\n\n  handleChange = targetKeys => {\n    this.setState({ targetKeys });\n    if(this.props.handleChange){\n      this.props.handleChange({ targetKeys })\n    }\n  }\n\n  getSelectFields = ()=>{\n    return this.state.targetKeys || []\n  }\n\n \n  render() {\n    return <Transfer\n    dataSource={this.state.data}\n    showSearch\n    filterOption={this.filterOption}\n    targetKeys={this.state.targetKeys}\n    onChange={this.handleChange}\n    // onSearch={this.handleSearch}    \n    render={item => item.title}\n  />\n  }\n}","import * as React from \"react\";\nimport SelectFields from \"../project/SelectFields\"\nimport EngineService from \"../../service/EngineService\";\nimport { Button, Form } from \"antd\";\n\nexport default class SelectProjectFields  extends React.Component{\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop        \n        this.joinStation = props.parent\n        this.currentTable = this.joinStation.joinInfo.currentTable.table        \n        this.joinTable = this.joinStation.joinInfo.joinTable\n        this.state = {\n            currentTableFields:[],\n            joinTableFields:[] \n        }\n    }\n\n    reload = async () => {\n        const currentTableSchema = this.joinStation.joinInfo.currentTable.schema                \n        const joinTable = await EngineService.tableInfo(this.joinTable)    \n        if (joinTable.status === 200) {\n            this.setState({\n                currentTableFields: currentTableSchema.fields,\n                joinTableFields: JSON.parse(joinTable.content.tableSchema).fields\n            })            \n        }\n    }\n\n    componentDidMount = async () => {\n        await this.reload()\n    }\n    \n    handleLeft = (targetKeys)=>{        \n        this.joinStation.joinInfo = Object.assign(this.joinStation.joinInfo, {\n            leftProjectFields: targetKeys.targetKeys\n        })        \n    }\n\n    handleRight = (targetKeys)=>{                \n        this.joinStation.joinInfo = Object.assign(this.joinStation.joinInfo, {\n            rightProjectFields:targetKeys.targetKeys\n        })        \n    }\n\n    reset = ()=>{\n        this.joinStation.parent.reload()\n    } \n\n    render = () => {        \n        return <Form  labelCol={ { span: 6 }}>            \n            <Form.Item name=\"leftProjectFields\" label=\"currentTable\">\n            <SelectFields handleChange={this.handleLeft} schemaFields={this.state.currentTableFields} ref={(et) => this.leftProjectFields = et} parent={this}></SelectFields>\n            </Form.Item>\n                        \n            <Form.Item name=\"rightProjectFields\" label={this.joinTable+\"\"}>\n            <SelectFields  handleChange={this.handleRight}  schemaFields={this.state.joinTableFields} ref={(et) => this.rightProjectFields = et} parent={this}></SelectFields>\n            </Form.Item>\n            \n            <Form.Item>            \n            <Form.Item> <Button danger>Reset</Button></Form.Item>\n            </Form.Item>\n        </Form>\n    }\n}","import * as React from \"react\";\nimport { Form, Select, Button } from 'antd'\nimport EngineService from \"../../service/EngineService\"\n\nconst { Option } = Select;\nexport default class SelectJoinTable extends React.Component {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.joinStation = props.parent\n        this.state = {\n            tables: []\n        }\n    }\n\n    reload = async () => {\n        const res = await EngineService.tablesInWorkshop()\n        let tables = []\n        if (res.status === 200) {\n            tables = res.content.map(item => {\n                return {\n                    name: item.tableName,\n                    value: item.tableName\n                }\n            })\n        }\n        this.setState({ tables })\n    }\n\n    componentDidMount = async () => {\n        await this.reload()\n    }\n\n    next = (values)=>{\n\n        this.joinStation.joinInfo = Object.assign(this.joinStation.joinInfo,values) \n        this.joinStation.next()\n    }\n   \n\n    render = () => {\n        return (<Form className=\"login-form\" onFinish={this.next}>\n            <Form.Item name=\"joinType\" rules={[{ required: true, message: 'Please select join type!' }]}>\n                <Select                    \n                    showSearch\n                    style={{ width: 200 }}\n                    placeholder=\"Select Join Type\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    <Option key=\"inner\" value=\"inner join\">Inner Join</Option>\n                    <Option key=\"left\" value=\"left join\">Left Join</Option>\n                    <Option key=\"right\" value=\"right join\">Right Join</Option>\n                    <Option key=\"full\" value=\"full join\">Full Join</Option>\n                </Select>\n            </Form.Item>\n\n            <Form.Item name=\"joinTable\" rules={[{ required: true, message: 'Please select join table!' }]}>\n                <Select                    \n                    showSearch\n                    style={{ width: 200 }}\n                    placeholder=\"Choose Join Table\"\n                    optionFilterProp=\"children\"\n                    filterOption={(input, option) =>\n                        option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n                    }\n                >\n                    {this.state.tables.map((item) => {\n                        return <Option key={item.name} value={item.value}>{item.name}</Option>\n                    })}\n                </Select>\n            </Form.Item>\n            \n            <Form.Item>\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Next\n                </Button>\n            </Form.Item>\n        </Form>)\n    }\n}","import * as React from \"react\";\nimport mix from \"../../../common/mixin\"\nimport { Form, Select, Steps } from 'antd';\nimport ApplyOrSave from \"../ApplyOrSave\";\n\nimport { StationCommonOp } from \"../commonops/StationCommonOp\";\nimport \"./JoinStation.scss\"\nimport SelectJoinField from \"./SelectJoinField\";\nimport SelectProjectFields from \"./SelectProjectFields\";\nimport SelectJoinTable from \"./SelectJoinTable\"\nimport styled from \"styled-components\"\nimport Tools from \"../../../common/Tools\";\nimport EngineService from \"../../service/EngineService\";\n\nconst { Step } = Steps;\nconst StepContent = styled.div`\nborder: 1px dashed #e9e9e9;\nborder-radius: 6px;\nbackground-color: #fafafa;\nmin-height: 200px;\ntext-align: center;\npadding-top: 80px;\nwidth: 100%;\n`\n\nclass JoinStation extends mix(React.Component).with(\n    StationCommonOp\n) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.joinInfo = { currentTable: this.workshop.currentTable }\n        this.state = {\n            currentStep: 0,\n            steps: [\n                <SelectJoinTable parent={this}></SelectJoinTable>,\n                <SelectJoinField parent={this}></SelectJoinField>,\n                <SelectProjectFields parent={this}></SelectProjectFields>]\n        }\n    }\n\n    onApply = async () => {\n        const currentTableName = this.workshop.currentTable.table\n        const { joinTable, joinType, leftField, rightField, leftProjectFields, rightProjectFields } = this.joinInfo\n         \n        if(!leftProjectFields && !rightProjectFields){ \n            this.workshop.toggleMessage(\"Fields are not selected.\")                                \n            return\n        }\n\n        this.ApplyOrSaveRef.enter()                \n        const tableRes = await EngineService.tableInfo(joinTable)        \n        const joinTableInfo = tableRes.content\n        const leftProjectFieldsStr = leftProjectFields && leftProjectFields.map(item => `${currentTableName}.\\`${item}\\``).join(\",\")\n        const rightProjectFieldsStr = rightProjectFields && rightProjectFields.map(item => `${joinTable}.\\`${item}\\``).join(\",\")\n\n        const leftFieldStr = `${currentTableName}.\\`${leftField}\\``\n        const rightFieldStr = `${joinTable}.\\`${rightField}\\``\n\n        const joinStr = `${joinType} ${joinTable} on ${leftFieldStr} = ${rightFieldStr}`\n\n\n        let projectStr = \"\"\n        if (leftProjectFieldsStr && rightProjectFieldsStr) {\n            projectStr = leftProjectFieldsStr + \",\" + rightProjectFieldsStr\n        }\n\n        if (leftProjectFieldsStr && !rightProjectFieldsStr) {\n            projectStr = leftProjectFieldsStr\n        }\n\n        if (!leftProjectFieldsStr && rightProjectFieldsStr) {\n            projectStr = rightProjectFieldsStr\n        }\n\n        const tableName = Tools.getTempTableName()\n        \n        const sql = `${joinTableInfo.content} \\n select ${projectStr} from ${currentTableName} ${joinStr} as ${tableName};`\n        console.log(sql)\n        await this.workshop.apply({ tableName, sql })\n        this.ApplyOrSaveRef.exit()\n        this.workshop.refreshOperateStation()\n    }\n\n    next = () => {\n        this.setState({ currentStep: this.state.currentStep + 1 })\n    }\n    preview = () => {\n        this.setState({ currentStep: this.state.currentStep - 1 })\n    }\n\n    render() {\n        return <div className=\"join-app\">\n            <div className={\"station-menu\"}>\n                <ApplyOrSave parent={this} onRollback={this.onRollback}\n                    handleTableInput={this.handleTableInput} ref={(et) => this.ApplyOrSaveRef = et}\n                    onSave={this.onSave}\n                    onApply={this.onApply}\n                    style={{ marginBottom: \"30px\" }}></ApplyOrSave>\n            </div>\n            <div>\n                <Steps current={this.state.currentStep}>\n                    <Step key={0} title=\"Table\" description=\"Choose the table you wanna join from workshop\" />\n                    <Step key={1} title=\"Join Condition \" description=\"Choose the join condition in both tables\" />\n                    <Step key={2} title=\"Fields\" description=\"Choose the fields you want from both tables\" />\n                </Steps>\n            </div>\n            <div className=\"join-app-form\"> <StepContent>\n                {this.state.steps[this.state.currentStep]}\n            </StepContent></div>\n        </div>\n    }\n}\n\nexport default  JoinStation\nexport {StepContent}","import * as React from \"react\";\nimport {Table,Modal} from 'antd';\n\n\nconst ReactMarkdown = require('react-markdown')\n\nexport default class ColumnOperate extends React.Component {\n    constructor(props) {\n        super(props)\n        this.tableStyle = props.style || {}\n        this.state = {columns: [], rows: [], view: {enabled: false}}\n        this.config = {}\n        this.workshop = props.parent\n    }\n\n    setRender = (keyColumn, data) => {\n\n        const value = data[0][keyColumn.key]\n\n        if (this.config && this.config[\"render\"]) {            \n            Object.keys(this.config).map(k=>{\n                const v = this.config[k][keyColumn.key] \n                if(v){\n                    keyColumn[k] = v\n                }\n            })\n            return\n        }\n\n        try {\n            if (React.Component.isPrototypeOf(value.type)) {\n                keyColumn[\"render\"] = value => <span>{value}</span>\n                return\n            }\n        }\n        catch (e) {\n        }\n\n        if (keyColumn.key == \"html\") {            \n            keyColumn[\"render\"] = value => <pre>{value.substring(0,300)}</pre>\n            return\n        }\n\n        if ((typeof value) === 'object') {\n            keyColumn[\"render\"] = value => <span>{JSON.stringify(value).substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'array') {\n            keyColumn[\"render\"] = value => <span>{value.join(\",\").substring(0, 300)}</span>\n            return\n        }\n        if ((typeof value) === 'boolean') {\n            keyColumn[\"render\"] = value => <span>{value.toString()}</span>\n            return\n        }\n        if (keyColumn.key == \"fileSystem\" || keyColumn.key == \"message\" || keyColumn.key == \"info\") {\n            keyColumn[\"render\"] = value => <pre>{value.toString()}</pre>\n            return\n        }\n\n\n    }\n\n    update = (data, config) => {\n        // e.g. [{\"a\":1}]\n        this.config=config\n        let keys = []\n        let basket = {}\n        let rows = []\n        const self = this\n        //collect all keys\n        data.forEach(function (item) {\n            for (let key in item) {\n                if (!basket[key]) {\n                    const keyColumn = {\n                        title: key,\n                        dataIndex: key,\n                        key: key,\n                    }\n                    self.setRender(keyColumn, data)\n                    keys.push(keyColumn)\n                    basket[key] = true\n                }\n            }\n        })\n\n        // collect data\n        data.forEach(function (item, index) {\n            let new_item = {}\n            keys.forEach(function (key) {\n                new_item[key.key] = item[key.key]\n            })\n            new_item[\"key\"] = index\n            rows.push(new_item)\n        })\n\n        this.setState({columns: keys, data: rows})\n    }\n\n    rowDoubleClick = (row, index, event) => {\n        if (row.name === \"codeExample\" || row.name === \"doc\") {\n            this.setState({\n                view: {\n                    enabled: true,\n                    content: row.value\n                }\n            })\n        }\n    }\n\n    disablePreview = () => {\n        this.setState({\n            view: {\n                enabled: false\n            }\n        })\n    }\n\n    render() {\n        const self = this\n        return (<div style={this.tableStyle}>\n                <Table    \n                    size ='default'\n                    columns={this.state.columns}\n                    dataSource={this.state.data}\n                    scroll = {{x:true}}                                      \n                    />\n                <Modal\n                    title={\"View\"}\n                    visible={this.state.view.enabled}\n                    onCancel={this.disablePreview}\n                    onOk={this.disablePreview}\n                    cancelText=\"Cancel\"\n                    OkText=\"Ok\"\n                >\n                    <ReactMarkdown source={this.state.view.content || \"\"}/>\n                </Modal>\n            </div>\n        )\n    }\n\n}","import AggStation from \"./AggStation\";\nimport Tools from \"../../../common/Tools\";\nexport const AggStationOp = (superclass) => class extends superclass {\n    enableGroupByField = (checked, record) => {\n        const fieldName = record.field\n        if (checked) {\n            this.groupByFields.push(fieldName)\n        } else {\n            this.groupByFields = this.groupByFields.filter((item) => {\n                return item.name !== fieldName\n            })\n        }\n    }\n    generateProjectField = (name,newName)=>{\n       this.aggFields.push({name,newName})\n    }\n    onApply = async ()=>{\n         this.ApplyOrSaveRef.enter()\n         const tableName = Tools.getTempTableName()\n         \n         let newFields = this.aggFields.map(item=>{\n            return `${item.name} as \\`${item.newName}\\``\n         })\n\n         let groupByFields = \"\"\n         \n         if(this.groupByFields.length !==0 ){\n            groupByFields = `group by ${this.groupByFields.map(item=>`\\`${item}\\``).join(\",\")}`            \n            newFields = this.groupByFields.map(item=>`\\`${item}\\``).concat(newFields)\n         }\n\n         const sql = `select ${newFields.join(\",\")} from ${this.workshop.getLastApplyTable().tableName} ${groupByFields} as ${tableName};`        \n         const status = await this.workshop.apply({tableName,sql})\n         this.ApplyOrSaveRef.exit()\n         if(status === 200){\n            this.workshop.refreshOperateStation()\n         }         \n    }\n    \n    \n}","import * as React from \"react\";\nimport { Select, List, Input } from 'antd';\nconst { Option } = Select;\n\nexport default class FuncDesc extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {...props}\n    }\n    show = (func) => {\n        this.setState({ func })\n    }\n\n    funcValue = () => {\n        return <List.Item key=\"Func\" >\n            <List.Item.Meta title=\"Func\" description={this.state.func.funcValue.extra.zhDoc}>\n            </List.Item.Meta>\n        </List.Item>\n    }\n\n    returnValue = () => {\n        return <List.Item key=\"Return value\" >\n            <List.Item.Meta title=\"Return value\" description={this.state.func.returnValue.extra.zhDoc}>\n            </List.Item.Meta>\n        </List.Item>\n    }\n  \n    parameters = () => {\n        return this.state.func.params.map(item => {\n            return <List.Item key={item.name} >\n                <List.Item.Meta title={item.name} description={item.extra.zhDoc}>                    \n                </List.Item.Meta>\n            </List.Item>\n        })\n    }\n\n    render() {\n        if (this.state.func) {\n            return <List\n                size=\"large\"\n                header={<div>{`Function [${this.state.func.value}] Info`}</div>}\n                footer={<div></div>}\n                bordered\n            >\n                {this.funcValue()}\n                {this.returnValue()}\n                {this.parameters()}\n            </List>\n        } else {\n            return <div></div>\n        }\n    }\n}","import * as React from \"react\";\nimport { Select, Form, Input, Switch } from 'antd';\nimport mix from \"../../common/mixin\"\nimport EngineService from \"../service/EngineService\";\nimport FuncDesc from \"./FuncDesc\";\nimport Tools from \"../../common/Tools\";\nconst { Option } = Select;\n\nexport default class ApplyFuncToField extends React.Component {\n    constructor(props) {\n        super(props)\n        this.parent = props.parent\n        this.operateField = props.operateField\n        this.funcParams = {}\n        this.state = {\n            data: [],\n            value: undefined,\n            funcPopUp: false,\n            func: {},\n            key: Math.random()\n        }\n    }\n\n    handleSearch = async value => {\n        if (value) {\n            const res = await EngineService.showFunctions()\n            const data = res.content.map((item) => {\n                return {\n                    value: item.key.table,\n                    text: item.key.table,\n                    funcValue: item.columns[0],\n                    returnValue: item.columns[1],\n                    params: item.columns.slice(2, item.columns.length)\n                }\n            })\n            this.setState({ data })\n        } else {\n            this.setState({ data: [] })\n        }\n    }\n    handleChange = value => {\n        const currentFunc = this.state.data.filter(item => item.value === value)[0]\n        this.setState({ currentFunc })\n        this.funcDescRef.show(currentFunc)\n    }\n\n    handleOperateInput = evt => {\n        this.manuallyTransform = evt.target.value\n    }\n\n    isAggChecked = checked =>{\n        this.manuallyIsAgg = checked\n    }\n\n    handleNewName = evt => {\n        this.newFuncName = evt.target.value\n    }\n\n    handleField = (evt) => {\n        const name = evt.target.getAttribute(\"name\")\n        this.funcParams[name] = evt.target.value\n    }\n\n    showColumn = (item) => {\n        this.funcParams[item.name] = this.operateField\n        if (item.extra.column === \"yes\") {\n            return this.operateField\n        } else return \"\"\n    }\n\n    getTransform = () => {\n        if(this.manuallyTransform){\n            return {\n                field:this.operateField,\n                isAgg:this.manuallyIsAgg, \n                transformCode: this.manuallyTransform, \n                columnName: this.newFuncName \n            }\n        }\n        const params = []        \n        this.state.currentFunc.params.forEach(item => {\n            const v = this.funcParams[item.name]\n            if (v) {\n                if (item.extra.column === \"yes\") {\n                    params.push(Tools.getField(v))\n                }else if(item.dataType == \"number\" ||item.dataType == \"boolean\" ){\n                    params.push(v)\n                }\n                else {\n                    params.push(`\"${v}\"`)\n                }\n            }\n        })\n        const field = this.operateField\n        const isAgg = this.state.currentFunc.funcValue.extra.agg === \"yes\"\n        return {field,isAgg, transformCode: `${this.state.currentFunc.value}(${params.join(\",\")})`, columnName: this.newFuncName }\n    }\n    reload = () => {\n        this.setState({\n            key: Math.random(),\n            data: [],\n            value: undefined,\n            funcPopUp: false,\n            currentFunc: undefined\n        })\n        this.collect = {}\n    }\n\n    render() {\n        const options = this.state.data.map(d => <Option key={d.value}>{d.text}</Option>)\n        return <Form className=\"login-form\" key={this.state.key}>\n            <Form.Item>\n                <Select\n                    showSearch\n                    value={this.state.value}\n                    placeholder={\"Search function\"}\n                    defaultActiveFirstOption={false}\n                    showArrow={false}\n                    style={{ width: \"200px\" }}\n                    filterOption={false}\n                    onSearch={this.handleSearch}\n                    onChange={this.handleChange}\n                    notFoundContent={\"type function name\"}\n                >\n                    {options}\n                </Select>\n            </Form.Item>\n\n            <Form.Item><FuncDesc ref={(et) => this.funcDescRef = et}></FuncDesc></Form.Item>\n            {\n                this.state.currentFunc ? this.state.currentFunc.params.map(item => {\n                    return <Form.Item key={item.name}><Input name={item.name} onChange={this.handleField} addonBefore={item.name} defaultValue={this.showColumn(item)} />\n                    </Form.Item>\n                }) : <div></div>\n            }\n            <Form.Item><Input addonBefore=\"Mannual Transform\" onChange={this.handleOperateInput} placeholder=\"\" /></Form.Item>\n            <Form.Item label=\"Is Agg Function\"><Switch  onChange={this.isAggChecked}></Switch></Form.Item>\n            <Form.Item><Input addonBefore=\"New fieldName\" onChange={this.handleNewName} placeholder=\"\" /></Form.Item>\n        </Form>\n    }\n}","import * as React from \"react\";\nimport mix from \"../../../common/mixin\"\nimport { Tabs, Switch, Menu, Button, Modal } from 'antd';\nimport ApplyOrSave from \"../ApplyOrSave\";\nimport ColumnOperate from \"../ColumnOperate\";\nimport { AggStationOp } from \"./AggStationOp\";\nimport ApplyFuncToField from \"../ApplyFuncToField\";\nimport { StationCommonOp } from \"../commonops/StationCommonOp\";\n\nconst { SubMenu } = Menu;\n\n\nexport default class AggStation extends mix(React.Component).with(StationCommonOp,AggStationOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.state = { funcPopUp: false }\n        this.groupByFields = []\n        // {name,newName}   \n        this.aggFields = []\n    }\n\n    showAggFuncsAndApply = (record) => {\n        this.operateField = record.field\n        this.setState({ funcPopUp: true })        \n    }\n\n    reload = () => {\n        const fields = this.workshop.currentTable.schema.fields\n        const result = fields.map(item => {\n            return { field: item.name, groupby: \"\", agg: \"\" }\n        })\n        const config = {\n            render: {\n                groupby: (value, record) => {\n                    return <Switch onChange={(checked)=>this.enableGroupByField(checked,record)} dataref={record} />\n                },\n                agg: (value, record) => {\n                    return <Button dataref={record} onClick={() => { this.showAggFuncsAndApply(record) }}>Choose function</Button>\n                }\n            }\n        }\n        this.columnsRef.update(result, config)\n    }\n\n    componentDidMount() {\n        this.reload()\n    }\n    \n    handleFunc = ()=>{\n      const { field, transformCode, columnName } = this.applyFuncToFieldRef.getTransform()\n      this.generateProjectField(transformCode,columnName)\n      this.setState({ funcPopUp: false })\n      this.applyFuncToFieldRef.reload()\n    }    \n\n    render() {\n        return <div>\n            <div>\n                <Modal\n                    title={`Apply function to [${this.operateField}]`}\n                    visible={this.state.funcPopUp}\n                    onCancel={() => { \n                        this.setState({ funcPopUp: false }) \n                        this.applyFuncToFieldRef.setState({key:Math.random()})\n                    }}\n                    onOk={\n                        this.handleFunc\n                    }\n                    cancelText=\"Cancel\"\n                    width=\"50%\"\n                    OkText=\"Ok\">\n                    <ApplyFuncToField parent={this} ref={(et)=>this.applyFuncToFieldRef=et} operateField={this.operateField}></ApplyFuncToField>\n                </Modal>\n                \n                <div className=\"station-menu\">\n                   <ApplyOrSave parent={this} onRollback={this.onRollback} handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et)=>this.ApplyOrSaveRef=et} onSave={this.onSave} onApply={this.onApply} style={{marginBottom:\"30px\"}}></ApplyOrSave>\n                </div>\n            </div>\n            <div>\n                <ColumnOperate parent={this} ref={et => this.columnsRef = et}></ColumnOperate>\n            </div>\n        </div>\n    }\n}","import * as React from \"react\";\nimport { Transfer, Input, Form } from 'antd';\nexport default class RenameFields extends React.Component {\n  constructor(props) {\n    super(props)\n    this.workshop = props.parent.workshop\n    this.state = this.wow(props)\n  }\n  getSelectFields = () => {\n    return this.formRef.getFieldValue()\n  }\n  wow(props) {\n    const schemaFields = props.schemaFields.map(item => {\n      return {\n        title: item.name,\n        key: item.name,\n      }\n    })\n    const targetKeys = [];\n    const data = schemaFields;\n    return { data, targetKeys }\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.schemaFields !== prevProps.schemaFields) {\n      this.setState({ ...this.wow(this.props) })\n    }\n  }\n\n  render() {\n    return <Form labelCol={{ span: 6 }} ref={(et) => { this.formRef = et }}>\n      {this.state.data.map(item => {\n        return <Form.Item key={item.key} name={item.key} label={item.key} value={item.key}><Input placeholder={\"input the new name here\"} /></Form.Item>\n      })}\n    </Form>\n  }\n}","import * as React from \"react\";\nimport { Tabs, Switch, Menu, Button, Modal, Input } from 'antd';\nimport ApplyFuncToField from \"../ApplyFuncToField\";\nimport ColumnOperate from \"../ColumnOperate\";\nimport AlertBox from \"../../AlertBox\";\nexport default class FunctionField extends React.Component {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.state = this.wow(props)\n    }\n\n    componentDidUpdate(prevProps) {\n        // Typical usage (don't forget to compare props):\n        if (this.props.schemaFields !== prevProps.schemaFields) {\n          this.setState({ ...this.wow(this.props) },()=>{\n            this.reload()\n          })\n        }\n      }\n\n      wow = (props)=>{\n        const fields = props.schemaFields\n\n        const data = fields.map(item => {\n            return { field: item.name, func: \"\", transformCode: \"\", \"columnName\": \"\" }\n        })\n\n        const config = {\n            render: {\n                func: (value, record) => {\n                    return <Button dataref={record} onClick={() => { this.showAggFuncsAndApply(record) }}>Choose function</Button>\n                },\n                transformCode: (value, record) => {                \n                    return value\n                },\n                columnName: (value, record) => {                \n                    return value\n                }\n            }\n        }\n        return { funcPopUp: false, data, config }\n      }\n\n    showAggFuncsAndApply = (record) => {\n        this.operateField = record.field\n        this.setState({ funcPopUp: true })\n    }\n\n    reload = () => {        \n        this.columnsRef.update(this.state.data, this.state.config)\n    }\n\n    componentDidMount() {\n        this.reload()\n    }\n\n    handleFunc = () => {\n        const { field, transformCode, columnName,isAgg } = this.applyFuncToFieldRef.getTransform()\n        if(!columnName){\n           this.setState({\"error\":\"New fieldName is required.\"}) \n           return \n        }\n        const data = this.state.data.map(item => {\n            if (item.field === field) {\n                return { field, func: \"\", transformCode, columnName,isAgg}\n            }\n            return item\n        })        \n        this.setState({ funcPopUp: false, data,error:undefined }, () => { this.reload() })\n        this.applyFuncToFieldRef.reload()\n    }\n\n    getSelectFields = ()=>{        \n        return this.state.data\n    }\n\n    render = () => {\n        return <div >\n            \n            <Modal\n                title={`Apply function to [${this.operateField}]`}\n                visible={this.state.funcPopUp}\n                onCancel={() => {\n                    this.applyFuncToFieldRef.reload()\n                    this.setState({ funcPopUp: false,error:undefined })\n                }}\n                onOk={\n                    this.handleFunc\n                }\n                cancelText=\"Cancel\"\n                width=\"50%\"\n                OkText=\"Ok\">\n                {this.state.error && <AlertBox message={this.state.error}></AlertBox>}\n                <ApplyFuncToField parent={this} ref={(et) => this.applyFuncToFieldRef = et} operateField={this.operateField}></ApplyFuncToField>\n            </Modal>\n            <ColumnOperate ref={et => this.columnsRef = et}></ColumnOperate>\n        </div>\n    }\n}","import Tools from \"../../../common/Tools\";\nexport const ProjectStationSQLOp = superclass => class extends(superclass) {\n    onSelectApply = async ()=>{\n        this.ApplyOrSaveRef.enter()\n        const fields = this.selectFieldsRef.getSelectFields().map(item=>{\n            return `\\`${item}\\``\n        })\n        if(fields.length === 0){\n            this.workshop.showInfo(\"No fields are selected.\")\n            this.ApplyOrSaveRef.exit()\n            return\n        }\n        const tableName = Tools.getTempTableName()\n        \n        const sql = `select ${fields.join(\",\")} from ${this.workshop.getLastApplyTable().tableName} as ${tableName};`\n        await this.workshop.apply({tableName,sql})\n        this.ApplyOrSaveRef.exit()\n        this.workshop.refreshOperateStation()\n     }\n \n     onFuncApply = async ()=>{\n         this.ApplyOrSaveRef.enter()\n         const fields = this.functionFieldRef.getSelectFields()        \n         if(fields.length === 0){\n             this.workshop.toggleMessage(\"No fields are renamed.\")\n             this.ApplyOrSaveRef.exit()\n             return\n         }\n\n         let isAggExists = fields.filter(item=>item.isAgg).length > 0         \n         let newFields = []\n         \n         if(!isAggExists){\n            newFields = fields.map(item=>{                        \n                if(item[\"transformCode\"]){\n                    return `${item[\"transformCode\"]} as \\`${item[\"columnName\"]}\\``\n                } else return `\\`${item[\"field\"]}\\` as \\`${item[\"field\"]}\\``\n                \n            }) \n         }else {\n            newFields = fields.filter(item=>item.isAgg).map(item=>`${item[\"transformCode\"]} as \\`${item[\"columnName\"]}\\``)\n         }\n         \n         \n         \n         const tableName = Tools.getTempTableName()  \n         const sql = `select ${newFields.join(\",\")} from ${this.workshop.getLastApplyTable().tableName} as ${tableName};`        \n         await this.workshop.apply({tableName,sql})\n         this.ApplyOrSaveRef.exit()\n         this.workshop.refreshOperateStation()\n      }\n \n      onRenameApply = async ()=>{\n         this.ApplyOrSaveRef.enter()\n         const fields = this.renameFieldsRef.getSelectFields()    \n         const currentFields = this.workshop.currentTable.schema.fields.map(item=>`\\`${item.name}\\``)\n         \n         if(fields.length === 0){\n             this.workshop.toggleMessage(\"No fields are renamed.\")\n             this.ApplyOrSaveRef.exit()\n             return\n         }\n         const newFields = Object.keys(fields).map(item=>{\n             return `\\`${item}\\` as \\`${fields[item]}\\``\n         })\n         \n        //  const tempC = Object.keys(fields)\n         //const leftFieds = currentFields.filter(item=> !tempC.includes(item))\n         const tableName = Tools.getTempTableName()  \n         const sql = `select ${currentFields.concat(newFields).join(\",\")} from ${this.workshop.getLastApplyTable().tableName} as ${tableName};`        \n         await this.workshop.apply({tableName,sql})\n         this.ApplyOrSaveRef.exit()\n         this.workshop.refreshOperateStation()\n \n \n      }\n}","import ActionMaker from \"../../../ActionMaker\"\n\nexport const { handler: RemoveFieldActionHandler, action: RemoveFieldAction } = ActionMaker.buildHandler(async (action) => {\n    const fields = action.data.fields\n    const operateFileds = action.__state.operateFileds.filter(item => fields !== item.field)\n    return {\n        data: {\n            operateFileds\n        }\n    }\n})","import { Form, Tag, Divider, Select } from \"antd\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const { handler: AddFieldActionHandler, action: AddFieldAction } = ActionMaker.buildHandler(async (action) => {    \n    const operateFileds = action.data.fields.map(field=>{\n        return {field}\n    })\n    \n    return {\n        data: {\n            operateFileds\n        }\n    }\n})","import Tools from \"../../../common/Tools\"\n\nclass ApplyActionUtils {\n     static async apply(action, validateInput, genSQL) {\n        const { workshop, values } = action.data\n        const { applySaveRollbackDispacher } = action.__state\n        const msg = validateInput(values)\n        if (msg) {\n            applySaveRollbackDispacher({\n                type: \"setState\",\n                data: {\n                    loading: false\n                }\n            })\n            return {\n                data: {\n                    ...action.data,\n                    error: msg,\n                    loading: false\n                }\n            }\n        }\n\n        const { tableName, sql } = genSQL(workshop, values)\n\n        const status = await workshop.apply({\n            tableName,\n            sql\n        })\n        if (status === 200) {\n            workshop.refreshOperateStation()\n        }\n        applySaveRollbackDispacher({\n            type: \"setState\",\n            data: {\n                loading: false\n            }\n        })\n        return {\n            data: {\n                ...action.data,\n                loading: false\n            }\n        }\n    }\n}\n\nexport default ApplyActionUtils\n","import ActionMaker from \"../../../ActionMaker\"\nimport Tools from \"../../../../common/Tools\"\nimport ApplyActionUtils from \"../../common/ApplyActionUtils\"\n\nexport const {handler:CastActionHandler,action:CastAction} = ActionMaker.buildHandler(async (action)=>{\n    return ApplyActionUtils.apply(action,\n        (values) => {\n            if (Object.keys(values).length === 0) {\n                return \"Please configure cast fields then click apply\"\n            }\n            return undefined\n        },\n        \n        (workshop, values) => {\n            const tableName = Tools.getTempTableName()\n            const newCastFields = Object.keys(values).map(key => {\n                return `cast(${Tools.getField(key)} as ${values[key]}) as ${Tools.getField(key)}`\n            })\n\n            const newFields = Object.keys(values)\n            const fields = workshop.currentTable.schema.fields\n            const oldFieldNames = fields.filter(item=>{\n                return !newFields.includes(item.name)\n            }).map(item=>{\n                return Tools.getField(item.name)\n            })\n\n            const selectStr = (newCastFields.concat(oldFieldNames)).join(\",\")\n\n            const sql = `select ${selectStr} from ${workshop.getLastApplyTable().tableName}            \n            as ${tableName};`\n            return { tableName, sql }\n        })\n})","import { CommonHandlers,CommonActions} from '../../common/CommonHandlers'\nimport { RemoveFieldAction, RemoveFieldActionHandler } from '../../order/actions/RemoveFieldAction'\nimport { AddFieldAction, AddFieldActionHandler } from '../../order/actions/AddFieldAction'\nimport { CastAction, CastActionHandler } from './CastAction'\n\nclass CastFieldsActionNames {\n    static ADD_FIELD = \"addField\"\n    static REMOVE_FIELD = \"removeField\"\n}\nconst CastFieldsHandlers = {\n    ...CommonHandlers,\n    [CastFieldsActionNames.ADD_FIELD]: AddFieldActionHandler,\n    [CastFieldsActionNames.REMOVE_FIELD]: RemoveFieldActionHandler,\n    apply: CastActionHandler\n}\nconst CastFieldsActions = {\n    ...CommonActions,\n    [CastFieldsActionNames.ADD_FIELD]: AddFieldAction,\n    [CastFieldsActionNames.REMOVE_FIELD]: RemoveFieldAction,\n    apply: CastAction\n}\n\nfunction CastFieldsReducer(state, action) {\nreturn CastFieldsActions[action.type](state, action.data)    \n}\nexport { CastFieldsActionNames, CastFieldsReducer, CastFieldsHandlers }","import ActionMaker from \"../../ActionMaker\"\n\nexport const {handler:RollbackActionHandler,action:RollbackAction} = ActionMaker.buildHandler(async (action)=>{\n    const {workshop} = action.data\n    await workshop.rollback()\n    return {        \n        data: action.data\n    }\n})","import ActionMaker from \"../../ActionMaker\"\n\nexport const {handler:SaveActionHandler,action:SaveAction} = ActionMaker.buildHandler(async (action)=>{\n    const {workshop} = action.data\n    const {saveTablePersisted,saveTableName} = action.__state\n    if(!saveTableName) return {\n        data:{error:\"table name is required\"}\n    }    \n    await workshop.save(saveTableName,saveTablePersisted)\n    workshop.refreshTableWorkshop()\n    return {        \n        data: {...action.data,loading:false}\n    }\n})","import { SetStateAction, SetStateActionHandler } from \"../../app_console/admin/actions/SetStateAction\";\nimport { RollbackAction, RollbackActionHandler } from './RollbackAction'\nimport { SaveAction, SaveActionHandler } from './SaveAction'\n\nclass ApplySaveRollbackActionNames { }\nconst ApplySaveRollbackHandlers = {\n    setState: SetStateActionHandler,\n    rollback: RollbackActionHandler,\n    save: SaveActionHandler\n}\n\nfunction ApplySaveRollbackReducer(state, action) {\n    switch (action.type) {\n        case \"setState\":\n            return SetStateAction(state, action.data)\n        case \"rollback\":\n            return RollbackAction(state, action.data)\n        case \"save\":\n            return SaveAction(state, action.data)\n        default:\n            return state;\n    }\n}\nexport { ApplySaveRollbackActionNames, ApplySaveRollbackReducer, ApplySaveRollbackHandlers }","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { Form, Tag, Divider, Select, Button, Modal, Input, Switch } from 'antd'\nimport { useReducerAsync } from 'use-reducer-async'\nimport { ApplySaveRollbackReducer, ApplySaveRollbackHandlers } from './actions/ApplySaveRollbackReducer.js';\nimport AlertBox from '../AlertBox.js';\nimport Tools from '../../common/Tools.js';\n\n\nconst initState = {\n    saveDiagram: false,\n    saveTablePersisted: false,\n    loading: false,\n    saveTableName: undefined,\n    error: undefined\n}\n\nconst ApplySaveRollbackContext = React.createContext()\n\nfunction ApplySaveRollback(props) {\n    //dispacher parent \n    const workshop = props.workshop\n    const { dispacher: parentDispacher } = useContext(props.context)\n    const [state, dispacher] = useReducerAsync(ApplySaveRollbackReducer, initState, ApplySaveRollbackHandlers)\n    const { saveDiagram, saveTablePersisted, loading,error } = state\n    return (\n        <ApplySaveRollbackContext.Provider value={{ dispacher }}>\n            {\n                error && <AlertBox message={error}></AlertBox>\n            }\n            <Modal title={\"View\"}\n                visible={saveDiagram}\n                onCancel={\n                    () => {\n                        dispacher({\n                            type: \"setState\",\n                            data: { saveDiagram: false }\n                        })\n                    }\n                }\n                onOk={() => {\n                    dispacher({\n                        type: \"save\",\n                        data: {\n                            saveDiagram: false,\n                            workshop\n                        }\n                    })\n                }}\n                cancelText=\"Cancel\"\n                width=\"50%\"\n                OkText=\"Ok\">\n                <Form className=\"login-form\">\n                    <Form.Item><Input addonBefore=\"tableName\" onChange={(value) => {\n                        dispacher({\n                            type: \"setState\",\n                            data: { saveTableName: value.target.value }\n                        })\n                    }} placeholder=\"\" /></Form.Item>\n                    <Form.Item label=\"Persist table(take more space):\"><Switch onChange={\n                        (checked) => {\n                            dispacher({\n                                type: \"setState\",\n                                data: { saveTablePersisted: checked }\n                            })\n                        }\n                    }></Switch></Form.Item>\n                </Form>\n            </Modal>\n            <Button loading={loading} type=\"primary\" onClick={\n                () => {\n                    dispacher({\n                        type: \"setState\",\n                        data: {\n                            loading: true\n                        }\n                    })\n                    parentDispacher({\n                        type: \"setState\",\n                        data: { applySaveRollbackDispacher: dispacher,applyToken:Tools.getJobName() }\n                    })\n                }\n            } >Apply</Button>\n            <Divider type=\"vertical\" />\n            <Button disabled={loading} onClick={() => {\n                dispacher({\n                    type: \"setState\",\n                    data: {\n                        saveDiagram: true\n                    }\n                })\n            }}>Save As</Button>\n            <Divider type=\"vertical\" />\n            <Button disabled={loading} onClick={() => {\n                dispacher({\n                    type: \"setState\",\n                    data: { loading: true }\n                })\n                dispacher({\n                    type: \"rollback\",\n                    data: { workshop, loading: false }\n                })\n            }} >Rollback</Button>\n        </ApplySaveRollbackContext.Provider>\n    )\n}\nexport { ApplySaveRollback, ApplySaveRollbackContext }","import ActionMaker from \"../../../ActionMaker\"\nimport Tools from \"../../../../common/Tools\"\nimport ApplyActionUtils from \"../../common/ApplyActionUtils\"\n\nexport const { handler: OrderApplyActionHandler, action: OrderApplyAction } = ActionMaker.buildHandler(async (action) => {\n    return ApplyActionUtils.apply(action,\n        (values) => {\n            if (Object.keys(values).length === 0) {\n                return \"Please configure order fields then click apply\"\n            }\n            return undefined\n        },\n        (workshop, values) => {\n            const tableName = Tools.getTempTableName()\n            const orderStr = Object.keys(values).map(key => {\n                return ` ${Tools.getField(key)} ${values[key]} `\n            }).join(\",\")\n\n            const sql = `select * from ${workshop.getLastApplyTable().tableName}\n            order by  ${orderStr}\n            as ${tableName};`\n            return { tableName, sql }\n        })\n})","import { AddFieldActionHandler, AddFieldAction } from \"./AddFieldAction\";\nimport { RemoveFieldActionHandler, RemoveFieldAction } from \"./RemoveFieldAction\";\nimport { SetStateAction, SetStateActionHandler } from \"../../../app_console/admin/actions/SetStateAction\";\nimport { OrderApplyActionHandler, OrderApplyAction } from \"./OrderApplyAction\";\n\nclass OrderStationActionNames {\n    static ADD_FIELD = \"addField\"\n    static REMOVE_FIELD = \"removeField\"\n}\n\nconst OrderStationHandlers = {\n    [OrderStationActionNames.ADD_FIELD]: AddFieldActionHandler,\n    [OrderStationActionNames.REMOVE_FIELD]: RemoveFieldActionHandler,\n    setState: SetStateActionHandler,    \n    apply: OrderApplyActionHandler\n}\n\nconst OrderStationActions = {\n    [OrderStationActionNames.ADD_FIELD]: AddFieldAction,\n    [OrderStationActionNames.REMOVE_FIELD]: RemoveFieldAction,\n    setState: SetStateAction,    \n    apply: OrderApplyAction\n}\n\nfunction OrderStationReducer(state, action) {\n    return OrderStationActions[action.type](state, action.data)    \n}\nexport { OrderStationActionNames, OrderStationReducer, OrderStationHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { Form, Tag, Divider, Select, Button,Modal,Input,Switch } from 'antd'\nimport { CastFieldsReducer, CastFieldsHandlers, CastFieldsActionNames } from './actions/CastFieldsReducer';\nimport { ApplySaveRollback } from '../../apply_save_rollback/ApplySaveRollback';\nimport { OrderStationActionNames } from '../order/actions/OrderStationReducer';\nimport AlertBox from '../../AlertBox';\nconst { Option } = Select;\n\n\nconst initState = {\n    error: undefined,\n    //applySaveRollback  \n    applySaveRollbackDispacher: undefined,\n    operateFileds:[]\n}\n\nconst CastFieldsContext = React.createContext()\n\nfunction CastFields(props) {\n    const {workshop} = props\n    const [form] = Form.useForm()\n    const fields = workshop.currentTable.schema.fields\n    const [state, dispacher] = useReducerAsync(CastFieldsReducer, initState, CastFieldsHandlers)\n    const { operateFileds, error,applySaveRollbackDispacher} = state\n    const children = fields.map(item => {\n        return <Option key={item.name}>{item.name}</Option>\n    })\n\n    useEffect(()=>{\n        if(applySaveRollbackDispacher){\n            form.submit()\n        }       \n    },[applySaveRollbackDispacher])\n    \n    return (\n        <CastFieldsContext.Provider value={{ dispacher }}>\n            <div style={{ marginTop: \"10px\", \"width\": \"400px\" }}>\n                {\n                    error && <AlertBox message={error}></AlertBox>\n                }\n                <Form form={form} onFinish={(values) => {                    \n                    dispacher({\n                        type: \"apply\",\n                        data: {\n                            workshop,\n                            values                                                    \n                        }\n                    })\n                }} className=\"login-form\" >\n                    <Form.Item>\n                        <ApplySaveRollback context={CastFieldsContext} workshop={workshop}/>\n                    </Form.Item>\n                    <Form.Item label=\"Choose fields\" >\n                        <Select\n                            mode=\"multiple\"\n                            onDeselect={value => {\n                                dispacher({\n                                    type: CastFieldsActionNames.REMOVE_FIELD,\n                                    data: { fields: value }\n                                })\n                            }}\n                            onChange={(value) => {\n                                dispacher({\n                                    type: CastFieldsActionNames.ADD_FIELD,\n                                    data: { fields: value }\n                                })\n                            }}\n                        >\n                            {children}\n                        </Select>\n                    </Form.Item>\n\n                    {operateFileds.map(item => {\n                        return <Form.Item key={item.field} label={`Cast ${item.field} to`} name={item.field}>\n                            <Select>\n                                <Select.Option value=\"int\">int</Select.Option>\n                                <Select.Option value=\"long\">long</Select.Option>\n                                <Select.Option value=\"double\">double</Select.Option>\n                                <Select.Option value=\"string\">string</Select.Option>\n                            </Select>\n                        </Form.Item>\n                    })}\n                </Form>\n            </div>\n        </CastFieldsContext.Provider>\n    )\n}\nexport { CastFields, CastFieldsContext }","import * as React from \"react\";\nimport { Tabs, Radio } from 'antd';\nimport '../common.scss'\nimport ApplyOrSave from \"../ApplyOrSave\";\nimport SelectFields from \"./SelectFields\"\nimport mix from \"../../../common/mixin\"\nimport { StationCommonOp } from \"../commonops/StationCommonOp\";\nimport RenameFields from \"./RenameFields\";\nimport FunctionField from \"./FunctionField\";\nimport { ProjectStationSQLOp } from \"./ProjectStationSQLOp\";\nimport { CastFields } from \"./CastFields\";\nimport {FormattedMessage} from 'react-intl'\n\nconst { TabPane } = Tabs;\n\nexport default class ProjectStation extends mix(React.Component).with(StationCommonOp,ProjectStationSQLOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n    }\n\n\n    render() {\n        return <div>\n            <div className={\"station-menu\"}>                \n                <Tabs defaultActiveKey=\"1\" className={\"station-tabs\"}>\n                    <TabPane tab={<FormattedMessage id=\"select_columns\"/>} key=\"1\">\n                    <ApplyOrSave parent={this} onRollback={this.onRollback} handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et)=>this.ApplyOrSaveRef=et} onSave={this.onSave} onApply={this.onSelectApply} style={{marginBottom:\"30px\"}}></ApplyOrSave>                        \n                        <SelectFields schemaFields={this.workshop.currentTable.schema.fields} ref={(et)=>this.selectFieldsRef=et} parent={this}></SelectFields>\n                    </TabPane>\n                    <TabPane tab={<FormattedMessage id=\"rename_columns\"/>} key=\"2\">\n                    <ApplyOrSave parent={this} onRollback={this.onRollback}  handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et)=>this.ApplyOrSaveRef=et} onSave={this.onSave} onApply={this.onRenameApply} style={{marginBottom:\"30px\"}}></ApplyOrSave>\n                        <RenameFields schemaFields={this.workshop.currentTable.schema.fields} ref={(et)=>this.renameFieldsRef=et} parent={this}></RenameFields>\n                    </TabPane>\n                    <TabPane tab={<FormattedMessage id=\"transform_columns\"/>} key=\"3\">\n                       <ApplyOrSave parent={this} onRollback={this.onRollback}  handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et)=>this.ApplyOrSaveRef=et} onSave={this.onSave} onApply={this.onFuncApply} style={{marginBottom:\"30px\"}}></ApplyOrSave>                        \n                       <FunctionField  schemaFields={this.workshop.currentTable.schema.fields} ref={(et)=>this.functionFieldRef=et} parent={this}></FunctionField>\n                    </TabPane>\n                    <TabPane tab={<FormattedMessage id=\"cast_columns_type\"/>} key=\"4\"> \n                       <CastFields workshop={this.workshop}></CastFields>                                         \n                    </TabPane>\n                </Tabs>\n            </div>\n            <div>\n\n            </div>\n        </div>\n    }\n}","import React, { useState, useCallback, useEffect } from 'react';\nimport { Select, Input, Form } from 'antd';\nimport { ActionProxy } from '../../../backend_service/ActionProxy';\nimport Tools from '../../../common/Tools';\n\nconst ExpressionConst = {\n    EQUAL: \"=\",\n    NON_EQUAL: \"!=\",\n    IN: \"in\",\n    CONTAINS: \"contains\",\n    STARTS_WITH: \"startsWith\",\n    ENDS_WITH: \"endsWith\",\n    LIKE: \"like\",\n    IS_NULL: \"is null\",\n    IS_NOT_NULL: \"is not null\",\n    IS_EMPTY: \"is empty\",\n    IS_NOT_EMPTY: \"is not empty\",\n\n}\n\nconst buildExpression = (item) => {\n    const { field, dataType, compare, condition } = item\n    if (compare === ExpressionConst.IN) {\n\n        let conTemp = \"\"\n\n        switch (dataType) {\n            case \"integer\": case \"long\": case \"float\": case \"double\":\n                conTemp = condition.map(cond => {\n                    return cond\n                }).join(\",\")\n                break\n            default:\n                conTemp = condition.map(cond => {\n                    return `\"${Tools.escapeQuote(cond)}\"`\n                }).join(\",\")\n        }\n        const con = `(${conTemp})`\n        return `${Tools.getField(field)} ${compare} ${con}`\n    }\n\n    if (compare === ExpressionConst.IS_NOT_NULL || compare === ExpressionConst.IS_NULL) {\n        return `${Tools.getField(field)} ${compare}`\n    }\n\n    if (compare === ExpressionConst.IS_EMPTY) {\n        return `${Tools.getField(field)} = \"\"`\n    }\n\n    if (compare === ExpressionConst.IS_NOT_EMPT) {\n        return `${Tools.getField(field)} != \"\"`\n    }\n\n    if (compare === ExpressionConst.LIKE) {\n        return `${Tools.getField(field)} like \"${Tools.escapeQuote(condition)}\"`\n    }\n\n    if (compare === ExpressionConst.STARTS_WITH) {\n        return `${Tools.getField(field)} like \"${Tools.escapeQuote(condition)}%\"`\n    }\n\n    if (compare === ExpressionConst.ENDS_WITH) {\n        return `${Tools.getField(field)} like \"%${Tools.escapeQuote(condition)}\"`\n    }\n\n    let con = \"\"\n    switch (dataType) {\n        case \"string\":\n            con = `\"${Tools.escapeQuote(condition)}\"`\n            break\n        default: con = condition;\n    }\n    return `${Tools.getField(field)} ${compare} ${con}`\n}\nfunction FilterCondition(props) {\n    const { record, workshop } = props\n    const [compare, setCompare] = useState(undefined)\n    const { dataType, field } = record\n    const [inCandidate, setInCandidate] = useState([])\n    const [inCandidateLoading, setInCandidateLoading] = useState(false)\n    const [form] = Form.useForm()\n    props.forms[field] = form\n\n    const fetch = async () => {\n        if (inCandidate.length === 0 && compare === \"in\") {\n            setInCandidateLoading(true)\n            \n            const res =  await workshop.runSQLAtCurrentTable(`select distinct(${Tools.getField(field)}) as name \n            from ${workshop.getLastApplyTable().tableName} \n            as ${Tools.getTempTableName()};`,{outputSize: 5000, timeout: 10000 })\n            \n            if (res.status === 200) {\n                setInCandidate(res.content.data)\n            }\n            setInCandidateLoading(false)\n        }\n    }\n\n    useEffect(() => {\n        fetch()\n    }, [compare])\n\n    const condition = () => {\n        switch (compare) {\n            case ExpressionConst.IS_NULL:\n                return <></>\n            case ExpressionConst.IS_NOT_NULL:\n                return <></>\n            case ExpressionConst.IN:\n                return <Select loading={inCandidateLoading} mode=\"tags\" style={{ width: '300px' }}>\n                    {inCandidate.map(item => {\n                        return <Select.Option key={item.name} value={item.name}>{item.name}</Select.Option>\n                    })}\n                </Select>\n\n            case ExpressionConst.LIKE:\n                return <><Input/><span>LIKE 'a%o' means Finds any values that start with 'a' and ends with 'o' </span></>\n\n            default:\n                return <Input />\n        }\n    }\n\n    const ui = () => {\n        return <Form form={form} layout={\"inline\"}>\n            <Form.Item name=\"compare\">\n                <Select initialValue={\"=\"}\n                    onChange={(value) => {\n                        setCompare(value)\n                    }}\n                    placeholder=\"compare\" style={{width:\"200px\"}}>\n                    <Select.Option value=\"=\">=</Select.Option>\n                    <Select.Option value=\"<\">{'<'}</Select.Option>\n                    <Select.Option value=\">\">{'>'}</Select.Option>\n                    <Select.Option value=\">=\">{'>='}</Select.Option>\n                    <Select.Option value=\"<=\">{'<='}</Select.Option>\n                    <Select.Option value=\"!=\">{'!='}</Select.Option>\n                    <Select.Option value={ExpressionConst.LIKE}>{'like'}</Select.Option>\n                    <Select.Option value={ExpressionConst.STARTS_WITH}>{'startsWith'}</Select.Option>\n                    <Select.Option value={ExpressionConst.ENDS_WITH}>{'endsWith'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IN}>{'in'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IS_NULL}>{'is null'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IS_NOT_NULL}>{'is not null'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IS_EMPTY}>{'is empty'}</Select.Option>\n                    <Select.Option value={ExpressionConst.IS_NOT_EMPTY}>{'is not empty'}</Select.Option>\n                </Select>\n            </Form.Item>\n            <Form.Item name=\"condition\">\n                {condition()}\n            </Form.Item>\n        </Form>\n    }\n    return ui()\n}\nexport { FilterCondition, ExpressionConst, buildExpression }","import * as React from \"react\";\nimport { Form, Table, Button, Modal, Input, Select, Divider } from 'antd';\nimport ApplyOrSave from \"../ApplyOrSave\";\nimport { FilterCondition } from \"./FilterCondition\";\nexport default class Compare extends React.Component {\n    constructor(props) {\n        super(props)\n        this.fitlerStation = props.parent\n        this.workshop = props.parent.workshop\n        this.state = this.wow(props.schemaFields)\n        this.forms = {}\n    }\n\n    reload = (data) => {\n        this.setState({ ...this.wow(data) })\n    }\n\n    wow = (schemaFields) => {\n        const fields = schemaFields\n        const data = fields.map(item => {\n            return { key: item.name, field: item.name, dataType: item.type, compare: \"=\", condition: \"\", command: \"\" }\n        })\n\n        const columns = [\n            {\n                title: \"field\",\n                dataIndex: \"field\"\n            },\n            {\n                title: \"dataType\",\n                dataIndex: \"dataType\",\n                render: (value, record) => {\n\n                    switch ((typeof value)) {\n                        case 'object':\n                            return <span>{value.type}</span>\n                        default:\n                            return <span>{value}</span>\n                    }\n                }\n            },\n            {\n                title: \"\",\n                dataIndex: \"compare\",\n                render: (value, record) => {\n                    return <FilterCondition forms={this.forms} record={record} workshop ={this.workshop}/>\n                }\n            }\n\n        ]\n        return { funcPopUp: false, data, columns }\n    }\n\n    buildSelectedRows = ()=>{\n        const fieldToDataType = {}\n        this.state.data.forEach(item=>{\n            fieldToDataType[item.field] = item.dataType\n        })\n\n        const params = Object.entries(this.forms).map(([key,value])=>{\n            const {compare,condition} = value.getFieldsValue()\n            if(compare){\n                return {field:key,compare,condition,dataType:fieldToDataType[key]}\n            }\n            return {}\n        })\n        if(!this.selectedRowKeys) {\n            return []\n        }\n        return params.filter(item => this.selectedRowKeys.includes(item.field))\n    }\n\n    addGroup = (values) => {        \n        const { groupName, groupType } = values\n        if (!groupName || !groupType) {\n            this.workshop.showInfo(\"Error: groupName and groupType is required.\")\n            return\n        }\n        if(!this.selectedRowKeys){\n            this.workshop.showInfo(\"Please select fields\")\n            return\n        }\n        \n        const selectedRows = this.buildSelectedRows()\n\n        this.fitlerStation.conGroups[groupName] = { groupName, groupType, tp: \"basic\", data: selectedRows }\n        if (this.fitlerStation.applyGroup) {\n            this.fitlerStation.applyGroup.reload({ data: this.fitlerStation.conGroups })\n        }\n        if (this.fitlerStation.groupGroup) {\n            this.fitlerStation.groupGroup.reload({ data: this.fitlerStation.conGroups })\n        }        \n        this.workshop.showInfo(\"Add successfully\")\n    }\n\n\n    render = () => {\n        const rowSelection = {\n            onChange: (selectedRowKeys, selectedRows) => {\n                this.selectedRowKeys = selectedRowKeys\n            },\n            getCheckboxProps: record => ({\n                name: record.field\n            })\n        }\n        return <div >\n            <Form onFinish={this.addGroup}>\n                <Form.Item name={\"groupName\"} label=\"Group Name\"><Input></Input></Form.Item>\n                <Form.Item name={\"groupType\"} label=\"Group Type\" defaultValue={\"and\"}><Select >\n                    <Select.Option value=\"and\">and</Select.Option>\n                    <Select.Option value=\"or\">or</Select.Option>\n                </Select></Form.Item>\n                <Form.Item >\n                    <Button type=\"primary\" htmlType=\"submit\">Add selected conditions to group</Button>                    \n                </Form.Item>\n            </Form>\n            <Divider/>  \n            <ApplyOrSave parent={this} onRollback={this.fitlerStation.onRollback} handlePersit={this.fitlerStation.handlePersit} handleTableInput={this.fitlerStation.handleTableInput} ref={(et) => this.fitlerStation.ApplyOrSaveRef = et} onSave={this.fitlerStation.onSave} onApply={()=>{\n                const selectedRows = this.buildSelectedRows()\n                this.fitlerStation.onNonGroupFilterApply(selectedRows)\n            }} style={{ marginBottom: \"30px\" }}></ApplyOrSave>                                  \n            <Table rowSelection={{\n                type: \"checkbox\",\n                ...rowSelection,\n            }} columns={this.state.columns}\n                dataSource={this.state.data}>\n\n            </Table>\n        </div>\n    }\n}","import * as React from \"react\";\nimport { Divider, Form, Table, Button, Modal, Input, Select } from 'antd';\nimport Tools from \"../../../common/Tools\";\nexport default class GroupGroup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.fitlerStation = props.parent\n        this.workshop = props.parent.workshop\n        this.state = this.wow(props)\n    }\n\n    reload = (data) => {\n        this.setState({ ...this.wow(data) })\n    }\n\n    wow = (props) => {\n        const fields = Object.keys(props.data).map(item => { return { groupName: item } })\n\n        const data = fields.map(item => {\n            return { key: item.groupName, groupName: item.groupName }\n        })\n\n        const columns = [\n            {\n                title: \"groupName\",\n                dataIndex: \"groupName\"\n            }\n        ]\n        return { funcPopUp: false, data, columns }\n    }\n\n    addGroup = (values) => {\n        const { groupName, groupType } = values\n        if (!groupName || !groupType) {\n            this.workshop.showInfo(\"Error: groupName and groupType is required.\")\n            return\n        }\n        const selectedRows = this.selectedRowKeys.map(groupName => {\n            return this.fitlerStation.conGroups[groupName]\n        })\n        this.fitlerStation.conGroups[groupName] = { groupName, groupType, tp: \"group\", data: selectedRows }\n        if (this.fitlerStation.applyGroup) {\n            this.fitlerStation.applyGroup.reload({ data: this.fitlerStation.conGroups })\n        }\n        if (this.fitlerStation.groupGroup) {\n            this.fitlerStation.groupGroup.reload({ data: this.fitlerStation.conGroups })\n        }\n        this.workshop.showInfo(\"Add successfully\")\n    }\n\n\n    render = () => {\n        const rowSelection = {\n            onChange: (selectedRowKeys, selectedRows) => {\n                this.selectedRowKeys = selectedRowKeys\n            },\n            getCheckboxProps: record => ({\n                name: record.title\n            })\n        }\n        return <div >\n            <Form onFinish={this.addGroup}>\n                <Form.Item name={\"groupName\"} label=\"Group Name\"><Input></Input></Form.Item>\n                <Form.Item name={\"groupType\"} label=\"Group Type\" defaultValue={\"and\"}><Select >\n                    <Select.Option value=\"and\">and</Select.Option>\n                    <Select.Option value=\"or\">or</Select.Option>\n                </Select></Form.Item>\n                <Form.Item >\n                    <Button type=\"primary\" htmlType=\"submit\">Add selected</Button>\n                </Form.Item>\n            </Form>\n            <Table rowSelection={{\n                type: \"checkbox\",\n                ...rowSelection,\n            }} columns={this.state.columns}\n                dataSource={this.state.data}>\n            </Table>\n        </div>\n    }\n}","import * as React from \"react\";\nimport {  Form,  Select } from 'antd';\nimport Tools from \"../../../common/Tools\";\nexport default class ApplyGroup extends React.Component {\n    constructor(props) {\n        super(props)\n        this.fitlerStation = props.parent\n        this.workshop = props.parent.workshop        \n        this.state = this.wow(props)        \n    }\n\n    reload = (data)=>{\n       this.setState({...this.wow(data)}) \n    }\n      \n    wow = (props) => {        \n        const fields = Object.keys(props.data).map(item => { return { groupName: item } })\n\n        const data = fields.map(item => {\n            return { key: item.groupName, groupName: item.groupName }\n        })              \n        return { data,refresh:Math.random()}\n    }\n\n    onChange = (value) => {\n        this.groupName = value\n    }\n\n    render = () => {\n\n        return <div >\n            <Form key={this.state.refresh}>                \n                <Form.Item label=\"Select group name to apply:\">\n                    <Select onChange={this.onChange} >\n                        {this.state.data.map(item => {                            \n                            return <Select.Option key={item.key} value={item.groupName}>\n                                {item.groupName}\n                            </Select.Option>\n                        })}\n                    </Select>\n                </Form.Item>\n            </Form>\n        </div>\n    }\n}","import * as React from \"react\";\nimport { Tabs, Divider } from 'antd';\nimport ApplyOrSave from \"../ApplyOrSave\";\nimport '../common.scss'\nimport mix from \"../../../common/mixin\"\nimport { StationCommonOp } from \"../commonops/StationCommonOp\";\nimport Compare from \"./Compare\"\nimport GroupGroup from \"./GroupGroup\";\nimport ApplyGroup from \"./ApplyGroup\";\nimport Tools from \"../../../common/Tools\";\nimport { buildExpression } from \"./FilterCondition\";\n\nconst { TabPane } = Tabs;\n\n\nexport default class FilterStation extends mix(React.Component).with(StationCommonOp) {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent.workshop\n        this.conGroups = {}\n        this.currentConditions = {}\n    }\n\n    static buildCondition = (items) => {\n        return items.map(item => {\n            return buildExpression(item)\n        })\n    }\n\n    onNonGroupFilterApply = async (selectedRows) => {\n        if (selectedRows.length === 0) {\n            this.workshop.showInfo(\"Please select fields\")\n            return\n        }\n        const filterStr = selectedRows.flatMap(item => {\n            return FilterStation.buildCondition([item])\n        }).join(\" and \")\n\n        this.ApplyOrSaveRef.enter()\n        const tableName = Tools.getTempTableName()\n        const sql = `select * from ${this.workshop.getLastApplyTable().tableName} \n        where ${filterStr}\n        as ${tableName};`\n\n        await this.workshop.apply({ tableName, sql })\n        this.ApplyOrSaveRef.exit()\n        // this.workshop.refreshOperateStation()\n    }\n    onFilterApply = async () => {\n        const groupName = this.applyGroup.groupName\n        if (!groupName) {\n            this.workshop.showInfo(\"Choose the group name to apply.\")\n            return\n        }\n        const group = this.conGroups[groupName]\n\n        function buildFilter(group) {\n            if (group.tp === \"basic\") {\n                if (group.groupType === \"and\") {\n                    return `(${FilterStation.buildCondition(group.data).join(\" and \")})`\n                } else return `(${FilterStation.buildCondition(group.data).join(\" or \")})`\n            } else {\n                if (group.groupType === \"and\") {\n                    const temp = group.data.flatMap(item => {\n                        return buildFilter(item)\n                    }).join(\" and \")\n                    return `(${temp})`\n                } else {\n                    const temp = group.data.flatMap(item => {\n                        return buildFilter(item)\n                    })\n                    return `(${temp.join(\" or \")})`\n                }\n\n            }\n\n        }\n        const filterStr = buildFilter(group)\n\n        this.ApplyOrSaveRef.enter()\n        const tableName = Tools.getTempTableName()\n        const sql = `select * from ${this.workshop.getLastApplyTable().tableName} \n        where ${filterStr}\n        as ${tableName};`\n\n        await this.workshop.apply({ tableName, sql })\n        this.ApplyOrSaveRef.exit()\n        //this.workshop.refreshOperateStation()\n    }\n\n    render() {\n        return <div>\n            <div className={\"station-menu\"}>\n                <Tabs defaultActiveKey=\"1\" className={\"station-tabs\"}>\n\n                    <TabPane tab=\"Add Conditions to Group\" key=\"1\">\n                        <Compare ref={(et) => this.compare = et} parent={this} schemaFields={this.workshop.currentTable.schema.fields}></Compare>\n                    </TabPane>\n                    <TabPane tab=\"Apply Group\" key=\"2\">\n                        <ApplyOrSave parent={this} onRollback={this.onRollback} handlePersit={this.handlePersit} handleTableInput={this.handleTableInput} ref={(et) => this.ApplyOrSaveRef = et} onSave={this.onSave} onApply={this.onFilterApply} style={{ marginBottom: \"30px\" }}></ApplyOrSave>\n                        <Divider />\n                        <ApplyGroup ref={(et) => this.applyGroup = et} parent={this} data={this.conGroups}></ApplyGroup>\n                    </TabPane>\n                    <TabPane tab=\"Add Groups to Group\" key=\"3\">\n                        <GroupGroup ref={(et) => this.groupGroup = et} parent={this} data={this.conGroups}></GroupGroup>\n                    </TabPane>\n\n                </Tabs>\n            </div>\n            <div>\n\n            </div>\n        </div>\n    }\n}","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Tag, Divider, Select, Button,Modal,Input,Switch } from 'antd'\nimport { useReducerAsync } from 'use-reducer-async'\nimport { OrderStationReducer, OrderStationHandlers, OrderStationActionNames } from './actions/OrderStationReducer';\nimport AlertBox from '../../AlertBox';\nimport { ApplySaveRollback } from '../../apply_save_rollback/ApplySaveRollback';\n\n\n\nconst initState = {\n    operateFileds: [],\n    error: undefined,  \n    //applySaveRollback  \n    applySaveRollbackDispacher:undefined\n}\n\nconst OrderStationContext = React.createContext()\nconst { Option } = Select;\nfunction OrderStation(props) {\n    const workshop = props.parent.workshop\n    const fields = workshop.currentTable.schema.fields\n    const [state, dispacher] = useReducerAsync(OrderStationReducer, initState, OrderStationHandlers)\n    const { operateFileds, error,applySaveRollbackDispacher} = state\n    const [form] = Form.useForm()\n\n    const children = fields.map(item => {\n        return <Option key={item.name}>{item.name}</Option>\n    })\n    \n    useEffect(()=>{\n        if(applySaveRollbackDispacher){\n            form.submit()\n        }       \n    },[applySaveRollbackDispacher])\n\n    return (\n        <OrderStationContext.Provider value={{ dispacher }}>\n            <div style={{ marginTop: \"10px\", \"width\": \"400px\" }}>\n                {\n                    error && <AlertBox message={error}></AlertBox>\n                }\n                <Form form={form} onFinish={(values) => {                    \n                    dispacher({\n                        type: \"apply\",\n                        data: {\n                            workshop,\n                            values                                                    \n                        }\n                    })\n                }} className=\"login-form\" >\n                    <Form.Item>\n                        <ApplySaveRollback context={OrderStationContext} workshop={workshop}/>\n                    </Form.Item>\n                    <Form.Item label=\"Choose fields\" >\n                        <Select\n                            mode=\"multiple\"\n                            onDeselect={value => {\n                                dispacher({\n                                    type: OrderStationActionNames.REMOVE_FIELD,\n                                    data: { fields: value }\n                                })\n                            }}\n                            onChange={(values) => {\n                                dispacher({\n                                    type: OrderStationActionNames.ADD_FIELD,\n                                    data: { fields: values }\n                                })\n                            }}\n                        >\n                            {children}\n                        </Select>\n                    </Form.Item>\n\n                    {operateFileds.map(item => {\n                        return <Form.Item initialValue={\"desc\"} key={item.field} label={item.field} name={item.field}>\n                            <Select>\n                                <Select.Option value=\"desc\">desc</Select.Option>\n                                <Select.Option value=\"asc\">asc</Select.Option>\n                            </Select>\n                        </Form.Item>\n                    })}\n                </Form>\n            </div>\n        </OrderStationContext.Provider>\n    )\n}\nexport { OrderStation, OrderStationContext }","import ActionMaker from \"../../../ActionMaker\"\nimport Tools from \"../../../../common/Tools\"\nimport ApplyActionUtils from '../../common/ApplyActionUtils'\n\nexport const {handler:LimitApplyActionHandler,action:LimitApplyAction} = ActionMaker.buildHandler(async (action)=>{\n    return ApplyActionUtils.apply(action,\n        (values)=>{\n            if(Object.keys(values).length == 0){\n                return \"Please configure limit size then click apply.\"\n            }\n            if(!values.limitSize){\n                return \"Please configure limit size then click apply.\"\n            }\n            return undefined\n        },\n        (workshop,values)=>{\n            const tableName = Tools.getTempTableName()\n            const limitStr = values.limitSize\n            \n            const sql = `select * from ${workshop.getLastApplyTable().tableName}\n            limit  ${limitStr}\n            as ${tableName};`\n            return {tableName,sql}\n        })    \n})","import { CommonHandlers,CommonActions} from \"../../common/CommonHandlers\"\nimport { LimitApplyAction, LimitApplyActionHandler } from \"./LimitApplyAction\"\n\nclass LimitStationActionNames {}\nconst LimitStationHandlers = {\n    ...CommonHandlers,apply:LimitApplyActionHandler\n}\nconst LimitStationActions = {\n    ...CommonActions,apply:LimitApplyAction\n}\n\nfunction LimitStationReducer(state, action) {\n    return LimitStationActions[action.type](state, action.data)\n}\nexport { LimitStationActionNames, LimitStationReducer, LimitStationHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { LimitStationReducer, LimitStationHandlers } from './actions/LimitStationReducer';\nimport AlertBox from '../../AlertBox';\nimport { Form, Tag, Divider, Select, Button,Modal,Input,Switch } from 'antd'\nimport { ApplySaveRollback } from '../../apply_save_rollback/ApplySaveRollback';\n\n\nconst initState = {\n    limitSize: undefined,\n    error: undefined,\n    //applySaveRollback  \n    applySaveRollbackDispacher: undefined\n}\n\nconst LimitStationContext = React.createContext()\n\nfunction LimitStation(props) {\n    const workshop = props.parent.workshop\n    const [state, dispacher] = useReducerAsync(LimitStationReducer, initState, LimitStationHandlers)\n    const { limitSize, error, applySaveRollbackDispacher } = state\n    const [form] = Form.useForm()\n\n    useEffect(()=>{\n        if(applySaveRollbackDispacher){\n            form.submit()\n        }       \n    },[applySaveRollbackDispacher])\n\n    return (\n        <LimitStationContext.Provider value={{ dispacher }}>\n            <div style={{ marginTop: \"10px\", \"width\": \"400px\" }}>\n                {\n                    error && <AlertBox message={error}></AlertBox>\n                }\n                <Form form={form} onFinish={(values) => {\n                    dispacher({\n                        type: \"apply\",\n                        data: {\n                            workshop,\n                            values\n                        }\n                    })\n                }} className=\"login-form\" >\n                    <Form.Item>\n                        <ApplySaveRollback context={LimitStationContext} workshop={workshop} />\n                    </Form.Item>\n                    <Form.Item name=\"limitSize\">\n                        <Input/>\n                    </Form.Item>\n                </Form>\n            </div>\n\n        </LimitStationContext.Provider>\n    )\n}\nexport { LimitStation, LimitStationContext }","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:BuildGroupActionHandler,action:BuildGroupAction} = ActionMaker.buildHandler(async (action)=>{\n    const result = action.__state.result\n    result.groupFields = action.data.groupFields\n    return {        \n        data: {\n            current: action.__state.current + 1,\n            result  \n        }\n    }\n})","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:BuildOrderActionHandler,action:BuildOrderAction} = ActionMaker.buildHandler(async (action)=>{\n    const result = action.__state.result\n    result.orderFields = action.data.orderFields\n    return {        \n        data: {\n            current: action.__state.current + 1,\n            result \n        }\n    }\n})","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:BuildRowWindowsActionHandler,action:BuildRowWindowsAction} = ActionMaker.buildHandler(async (action)=>{\n    const result = action.__state.result\n    result.rowWindows = action.data.rowWindows\n    return {        \n        data: {\n            current: action.__state.current + 1,\n            result  \n        }\n    }\n})","import ActionMaker from \"../../../ActionMaker\"\nimport Tools from \"../../../../common/Tools\"\n\nexport const { handler: WindowApplyActionHandler, action: WindowApplyAction } = ActionMaker.buildHandler(async (action) => {\n    const { groupFields,\n        orderFields,\n        rowWindows\n         } = action.__state.result\n    const {workshop,functions} = action.data\n\n    const partitionByStr = groupFields.map(item => {\n        return Tools.getField(item.field)\n    }).join(\",\")\n\n    const orderBy = orderFields.map(item => {\n        return `${Tools.getField(item.field)} ${item.value}`\n    })\n\n    let orderByStr = \"\"\n    if (orderBy.length > 0) {\n        orderByStr = `order by ${orderBy.join(\",\")}`\n    }\n\n    const { windowType, preceding, following } = rowWindows\n    let windowStr = \"\"\n    \n    //UNBOUNDED /CURRENT ROW\n    let precedingStr = (preceding  && `${preceding} PRECEDING`) || \"UNBOUNDED PRECEDING\"\n    let followingStr = (following && `${following} FOLLOWING`) || \"UNBOUNDED FOLLOWING\"\n\n    if(precedingStr === \"UNBOUNDED PRECEDING\" && followingStr===\"UNBOUNDED FOLLOWING\"){\n        followingStr = \"CURRENT ROW\"\n    }\n   \n    if (windowType) {\n        switch (windowType) {\n            case \"row window\":\n                windowStr = `ROWS BETWEEN ${precedingStr}  and ${followingStr} `\n                break;\n            case \"range window\":\n                windowStr = `RANGE BETWEEN ${precedingStr}  and ${followingStr} `\n                break;\n        }\n    }\n\n    const selectStr = functions.map(item=>{\n        const { field, isAgg, transformCode, columnName } = item\n        return `${transformCode} over w as ${columnName}`\n    }).join(\",\")\n\n    const oldFields = workshop.currentTable.schema.fields.map(item=>Tools.getField(item.name)).join(\",\")\n    const tableName = Tools.getTempTableName()\n    const sql = `\n     select ${oldFields},${selectStr}\n     from ${workshop.getLastApplyTable().tableName} \n     window w as (\n         partition by ${partitionByStr} ${orderByStr} ${windowStr}\n     ) as ${tableName};\n    `\n    // console.log(sql)\n    \n    await workshop.apply({tableName,sql})\n    // setLoading(false)\n    workshop.refreshOperateStation()\n    return {\n        data: {}\n    }\n})","import { CommonHandlers, CommonActions } from '../../common/CommonHandlers'\nimport { BuildGroupAction, BuildGroupActionHandler } from './BuildGroupAction'\nimport { BuildOrderAction, BuildOrderActionHandler } from './BuildOrderAction'\nimport { BuildRowWindowsAction, BuildRowWindowsActionHandler } from './BuildRowWindowsAction'\nimport { WindowApplyActionHandler, WindowApplyAction } from './WindowApplyAction'\nclass WindowStationActionNames {\n    static buildGroup = \"buildGroup\"\n    static buildOrder = \"buildOrder\"\n    static buildRowWindows = \"buildRowWindows\"\n    static apply = \"apply\"\n}\nconst WindowStationHandlers = {\n    ...CommonHandlers,\n    [WindowStationActionNames.buildGroup]: BuildGroupActionHandler,\n    [WindowStationActionNames.buildOrder]: BuildOrderActionHandler,\n    [WindowStationActionNames.buildRowWindows]: BuildRowWindowsActionHandler, \n    apply: WindowApplyActionHandler   \n}\nconst WindowStationActions = {\n    ...CommonActions,\n    [WindowStationActionNames.buildGroup]: BuildGroupAction,\n    [WindowStationActionNames.buildOrder]: BuildOrderAction,\n    [WindowStationActionNames.buildRowWindows]: BuildRowWindowsAction,\n    apply: WindowApplyAction \n}\n\nfunction WindowStationReducer(state, action) {\n    return WindowStationActions[action.type](state, action.data)\n}\nexport { WindowStationActionNames, WindowStationReducer, WindowStationHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Tag, Divider, Select, Button, Modal, Input, Switch } from 'antd'\nimport AlertBox from '../../../AlertBox';\nimport { ApplySaveRollback } from '../../../apply_save_rollback/ApplySaveRollback';\nconst { Option } = Select;\nfunction useSelectFields(props) {\n    const { workshop,\n        dispacher,\n        context,\n        enableApply = false,\n        fieldWrapper,submit,selectFields,\n        selectFieldsLabel=\"Choose fields\",\n        selectFieldsMode=\"multiple\"\n    } = props\n    const fields = selectFields || workshop.currentTable.schema.fields\n    const [operateFields, setOperateFields] = useState([])\n    const [error, setError] = useState(undefined)\n    const [form] = Form.useForm()\n\n    const children = fields.map(item => {\n        return <Option key={item.name}>{item.name}</Option>\n    })\n\n    const ui = (commands) => {\n        return <Form form={form} className=\"login-form\" onFinish={submit} >\n                {\n                  error && <AlertBox onClose={()=>{setError(undefined)}} message={error}></AlertBox>\n                }\n                {enableApply && <Form.Item>\n                    <ApplySaveRollback context={context} workshop={workshop} />\n                </Form.Item>\n                }\n                <Form.Item label={selectFieldsLabel} name=\"selectFieldsName\">\n                    <Select\n                        style={{\"minWidth\":\"200px\"}}                        \n                        mode={selectFieldsMode}\n                        onDeselect={value => {                            \n                            setOperateFields(operateFields.filter(item => value !== item.field))\n                        }}\n                        onChange={(values) => {  \n                            if(selectFieldsMode===\"multiple\"){\n                                setOperateFields(values.map(field => {\n                                    return { field }\n                                }))\n                            }else {\n                                setOperateFields([{ field:values }])\n                            }\n                            \n                        }}\n                    >\n                        {children}\n                    </Select>\n                </Form.Item>\n\n                {operateFields.map(item => {\n                    return fieldWrapper(item)\n                })}\n\n                {commands}\n\n            </Form>        \n    }\n\n    return { ui, operateFields, form, setError }\n\n}\n\nexport default useSelectFields\n\n","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport useSelectFields from '../../common/pages/SelectFieldsToOperate';\nimport {Form,Button, Divider} from 'antd';\nimport { WindowStationContext } from '../WindowStation';\nimport { WindowStationActionNames } from '../actions/WindowStationReducer';\n\n\nfunction BuildGroup(props) {  \n    const {dispacher} = useContext(WindowStationContext)  \n    const {ui,operateFields,setError} = useSelectFields({\n        workshop:props.workshop,\n        fieldWrapper:(item)=>{return <></>}\n    })    \n    return (\n        ui([<Form.Item key={\"button\"}>\n            <Button type=\"primary\" onClick={\n                ()=>{   \n                    if(operateFields.length===0){\n                        setError(\"Fields are required.\")\n                        return \n                    }                 \n                    dispacher({\n                        type: WindowStationActionNames.buildGroup,\n                        data: {groupFields:operateFields}\n                    })                    \n                }\n            }>\n                Next\n            </Button>\n        </Form.Item>])\n    )\n}\nexport {BuildGroup}","import React, { useContext} from 'react';\nimport { WindowStationContext } from '../WindowStation';\nimport useSelectFields from '../../common/pages/SelectFieldsToOperate';\nimport {Form,Button,Select,Divider} from 'antd';\nimport { WindowStationActionNames } from '../actions/WindowStationReducer';\n\nfunction SetupGroupRowOrder(props) {\n    const {dispacher} = useContext(WindowStationContext)  \n    const {ui,operateFields,setError,form} = useSelectFields({\n        workshop:props.workshop,\n        fieldWrapper:(item)=>{return <Form.Item initialValue={\"desc\"} key={item.field} label={item.field} name={item.field}>\n        <Select>\n            <Select.Option value=\"desc\">desc</Select.Option>\n            <Select.Option value=\"asc\">asc</Select.Option>\n        </Select>\n    </Form.Item>}\n    })    \n    return (\n        ui([<Form.Item>\n            <Button type=\"primary\" onClick={\n                ()=>{                     \n                    const orderFieldsObj = form.getFieldValue() \n                    const orderFields = operateFields.map(item=>{\n                        return {field:item.field, value:orderFieldsObj[item.field]}\n                    })                   \n                    dispacher({\n                        type: WindowStationActionNames.buildOrder,\n                        data: {orderFields:orderFields}\n                    })                    \n                }\n            }>\n                Next\n            </Button>\n            <Divider type=\"vertical\"/>\n            <Button  onClick={\n                ()=>{   \n                                                         \n                    dispacher({\n                        type: \"setState\",\n                        data: {current:0}\n                    })                    \n                }\n            }>\n                Previous\n            </Button>\n        </Form.Item>])\n    )\n}\nexport {SetupGroupRowOrder}","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport useSelectFields from '../../common/pages/SelectFieldsToOperate';\nimport { Form, Button, Divider, Input } from 'antd';\nimport { WindowStationContext } from '../WindowStation';\nimport { WindowStationActionNames } from '../actions/WindowStationReducer';\n\n\nfunction BuildWindowOnGroup(props) {\n    const { dispacher } = useContext(WindowStationContext)\n    const { ui, operateFields, setError, form } = useSelectFields({\n        workshop: props.workshop,\n        fieldWrapper: (item) => {\n            switch (item.field) {\n                case \"row window\":\n                    return <>\n                        <Form.Item label=\"Preceding\" name=\"preceding\">\n                            <Input placeholder={\"number\"} />\n                        </Form.Item>\n                        <Form.Item label=\"Following\" name=\"following\">\n                            <Input placeholder={\"number\"} />\n                        </Form.Item>\n                    </>\n                case \"range window\":\n                    return <>\n                        <Form.Item label=\"Preceding\" name=\"preceding\">\n                            <Input placeholder={\"number\"} />\n                        </Form.Item>\n                        <Form.Item label=\"Following\" name=\"following\">\n                            <Input placeholder={\"number\"} />\n                        </Form.Item>\n                    </>\n            }\n        },\n        selectFields: [{ name: \"row window\" }, { name: \"range window\" }],\n        selectFieldsLabel: \"Window Type\", selectFieldsMode: \"single\"\n    })\n    return (\n        ui([<Form.Item>\n            <Button type=\"primary\" onClick={\n                () => {\n                    const { selectFieldsName } = form.getFieldValue()\n                    const rowWindows = { ...form.getFieldValue(), windowType: selectFieldsName }                \n                    dispacher({\n                        type: WindowStationActionNames.buildRowWindows,\n                        data: { rowWindows }\n                    })\n                }\n            }>\n                Next\n            </Button><Divider type=\"vertical\"/>\n            <Button  onClick={\n                ()=>{   \n                                                         \n                    dispacher({\n                        type: \"setState\",\n                        data: {current:1}\n                    })                    \n                }\n            }>\n                Previous\n            </Button>\n        </Form.Item>])\n    )\n}\nexport { BuildWindowOnGroup }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Select, Form, Input, Switch, Divider,Collapse } from 'antd';\nimport EngineService from '../../../service/EngineService';\nimport FuncDesc from '../../FuncDesc';\nimport Tools from '../../../../common/Tools';\nimport AlertBox from '../../../AlertBox';\n\nconst { Panel } = Collapse;\n\nfunction useFieldTransform(props) {\n    const { operateField } = props\n    const [funcs, setFuncs] = useState([])\n    const [currentFunc, setCurrentFunc] = useState(undefined)\n    const [form] = Form.useForm()\n    const [error, setError] = useState(undefined)\n\n    const fetchFuncs = async () => {\n        const res = await EngineService.showFunctions()\n        const data = res.content.map((item) => {\n            return {\n                value: item.key.table,\n                text: item.key.table,\n                funcValue: item.columns[0],\n                returnValue: item.columns[1],\n                params: item.columns.slice(2, item.columns.length)\n            }\n        })\n        setFuncs(data)\n    }\n    useEffect(() => {\n        fetchFuncs()\n    }, [])\n\n    const handleChange = useCallback(async (value) => {\n        const currentFunc = funcs.filter(item => item.value === value)[0]\n        setCurrentFunc(currentFunc)\n    }, [funcs])\n\n    const showColumn = (item) => {\n        if (item.extra.column === \"yes\") {\n            return operateField\n        } else return \"\"\n    }\n\n    const getTransform = () => {\n        const { mannualTransform, isMannualAgg, newFieldName } = form.getFieldValue()\n        if (mannualTransform) {\n            return {\n                field: operateField,\n                isAgg: isMannualAgg || false,\n                transformCode: mannualTransform,\n                columnName: newFieldName\n            }\n        }\n        if(!currentFunc){\n            setError(\"Operate is required.\")\n            return {}\n        }\n        const params = []\n        currentFunc.params.forEach(item => {\n            let v = form.getFieldValue()[item.name]\n            if (!v && item.extra.column === \"yes\") {\n                v = operateField\n            }\n            if (v) {\n                if (item.extra.column === \"yes\") {\n                    params.push(Tools.getField(v))\n                } else if (item.dataType == \"number\" || item.dataType == \"boolean\") {\n                    params.push(v)\n                }\n                else {\n                    params.push(`\"${v}\"`)\n                }\n            }\n        })\n        const field = operateField\n        const isAgg = currentFunc.funcValue.extra.agg === \"yes\"\n        return { field, isAgg, transformCode: `${currentFunc.value}(${params.join(\",\")})`, columnName: newFieldName }\n    }\n\n\n    const ui = (commands,extra) => {\n        return <Form form={form} className=\"login-form\">\n            {\n                error && <AlertBox onClose={() => { setError(undefined) }} message={error}></AlertBox>\n            }\n            <Form.Item label={\"Search function\"}>\n                <Select\n                    showSearch\n                    defaultActiveFirstOption={false}\n                    showArrow={true}\n                    style={{ width: \"200px\" }}\n                    filterOption={true}\n                    onChange={handleChange}\n                    notFoundContent={\"type function name\"}\n                >\n                    {funcs.map(d => <Select.Option key={d.value}>{d.text}</Select.Option>)}\n                </Select>\n            </Form.Item>\n\n            {\n                currentFunc && <Form.Item key={currentFunc.value}><FuncDesc func={currentFunc}></FuncDesc></Form.Item>\n            }\n            {\n                currentFunc && currentFunc.params.map(item => {\n                    return <Form.Item initialValue={showColumn(item)} key={item.name} name={item.name} label={item.name}><Input  />\n                    </Form.Item>\n                })\n            }            \n            <Form.Item>\n                <Collapse>\n                    <Panel header=\"Mannually Apply Function\">\n                    <Divider type=\"horizontal\" />\n                    <Form.Item name=\"mannualTransform\" label=\"Mannual Transform\"><Input /></Form.Item>\n                    <Form.Item name=\"isMannualAgg\" label=\"Is Agg Function\"><Switch></Switch></Form.Item>\n                    </Panel>\n                </Collapse>\n            </Form.Item>\n            {extra}\n            <Form.Item name=\"newFieldName\" label=\"New Field Name\" required><Input /></Form.Item>\n            {commands}\n            \n        </Form>\n    }\n    return {\n        ui, form, getTransform, setError\n    }\n}\nexport { useFieldTransform }","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { WindowStationContext } from '../WindowStation';\nimport { ApplyFunc, useFieldTransform } from '../../common/pages/ApplyFunc';\nimport { Form, Button, Collapse, Divider,List,Typography } from 'antd';\nimport { WindowStationActionNames } from '../actions/WindowStationReducer';\nconst { Panel } = Collapse;\n\n\nfunction ApplyFunction(props) {\n    const { workshop } = props\n    const { dispacher } = useContext(WindowStationContext)\n    const { ui, form, getTransform, setError } = useFieldTransform({\n        operateField: \"\"\n    })\n    const [loading, setLoading] = useState(false)    \n    const [funcs, setFuncs] = useState([])\n\n    return <>        \n        {\n            ui([\n                <Form.Item>\n                    <Button type=\"primary\" loading={loading} onClick={\n                        () => {\n                            let functions = []  \n                            if(funcs.length === 0){\n                                const { field, isAgg, transformCode, columnName } = getTransform()\n                                functions.push({ field, isAgg, transformCode, columnName })                            \n                                if (!columnName) {\n                                    setError(\"New Field Name is required.\")\n                                    return\n                                }\n                            } else {\n                                functions = funcs\n                            }                                                      \n                            setLoading(true)\n                            dispacher({\n                                type: WindowStationActionNames.apply,\n                                data: {\n                                    setLoading,\n                                    workshop,\n                                    functions\n                                }\n                            })\n                        }\n                    }>\n                        Apply\n                </Button><Divider type=\"vertical\"/> \n                <Button loading={loading} onClick={\n                        () => {\n                            const { field, isAgg, transformCode, columnName } = getTransform()\n                            if (!columnName) {\n                                setError(\"New Field Name is required.\")\n                                return\n                            }\n                            setFuncs(funcs.concat([{ field, isAgg, transformCode, columnName }]))\n                            form.resetFields()\n                        }\n                    }>\n                        Add\n                </Button><Divider type=\"vertical\"/>\n            <Button  onClick={\n                ()=>{   \n                                                         \n                    dispacher({\n                        type: \"setState\",\n                        data: {current:2}\n                    })                    \n                }\n            }>\n                Previous\n            </Button>\n                </Form.Item>\n            ])\n        }\n        {\n            funcs.length >0 &&  <List style={{width:\"500px\"}}\n            header={<div>Added Functions</div>}            \n            bordered\n            dataSource={funcs.map(item=>`${item.transformCode} as ${item.columnName}`)}\n            renderItem={item => (\n              <List.Item>\n                <Typography.Text mark>Func</Typography.Text> {item}\n              </List.Item>\n            )}\n          />\n        }\n    </>\n}\nexport { ApplyFunction }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { WindowStationReducer, WindowStationHandlers } from './actions/WindowStationReducer';\nimport \"../join/JoinStation.scss\"\nimport { Form, Select, Steps } from 'antd';\nimport styled from 'styled-components'\nimport { BuildGroup } from './pages/BuildGroup';\nimport { SetupGroupRowOrder } from './pages/SetupGroupRowOrder';\nimport { BuildWindowOnGroup } from './pages/BuildWindowOnGroup';\nimport { ApplyFunction } from './pages/ApplyFunction';\nconst { Step } = Steps;\n\nconst StepContent = styled.div`\nborder: 1px dashed #e9e9e9;\nborder-radius: 6px;\nbackground-color: #fafafa;\nmin-height: 200px;\npadding: 30px 30px;\nwidth: 100%;\ndisplay:flex;\nalign-items:center;\njustify-content:center;\nflex-direction: column;\n`\n\n\nconst WindowStationContext = React.createContext()\n\nfunction WindowStation(props) {\n    const workshop = props.parent.workshop\n    const initState = {\n        steps: [<BuildGroup workshop={workshop}/>,\n        <SetupGroupRowOrder workshop={workshop}/>,\n        <BuildWindowOnGroup workshop={workshop}/>,\n        <ApplyFunction workshop={workshop}/>\n    ],\n        current: 0,\n        result:{\n            groupFields: [],\n            orderFields: [],\n            rowWindows: []            \n        }\n    }\n    const [state, dispacher] = useReducerAsync(WindowStationReducer, initState, WindowStationHandlers)\n    const { steps, current } = state\n    return (\n        <WindowStationContext.Provider value={{ dispacher }}>\n            <div className=\"join-app\">               \n                <div style={{marginTop:\"30px\"}}>\n                    <Steps current={current}>\n                        <Step key={0} title=\"Build Group\" description=\"Choose fields to group data\" />\n                        <Step key={1} title=\"Setup Group Row Order\" description=\"Choose fields to order the data in group\" />\n                        <Step key={2} title=\"Build Window\" description=\"Build window on every row of every group\" />\n                        <Step key={3} title=\"Apply Function\" description=\"Apply functions to all windows we have created\" />\n                    </Steps>\n                </div>\n                <div className=\"join-app-form\"> \n                    <StepContent>{steps[current]} </StepContent> \n                </div>\n            </div>\n        </WindowStationContext.Provider>\n    )\n}\nexport { WindowStation, WindowStationContext }","import { CommonHandlers,CommonActions} from '../../common/CommonHandlers'\nclass DashStationActionNames {}\nconst DashStationHandlers = {\n    ...CommonHandlers\n}\nconst DashStationActions = {\n    ...CommonActions\n}\n\nfunction DashStationReducer(state, action) {\nreturn DashStationActions[action.type](state, action.data)    \n}\nexport { DashStationActionNames, DashStationReducer, DashStationHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { DashStationReducer, DashStationHandlers } from './actions/DashStationReducer';\nimport './DashStation.scss'\nimport { Form, Input, Select, Divider } from 'antd';\nimport { useDataConfig } from './pages/useDataConfig';\nimport { useDashConfig } from './pages/useDashConfig';\nimport { ActionProxy } from '../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../backend_service/RemoteAction';\nimport Tools from '../../../common/Tools';\nimport { ApplySaveRollback } from '../../apply_save_rollback/ApplySaveRollback';\n\n\nconst initState = {\n    applySaveRollbackDispacher: undefined,\n    scriptContent:undefined,\n    applyToken: Tools.getJobName()\n}\n\nconst DashStationContext = React.createContext()\n\nfunction DashStation(props) {\n    const workshop = props.parent.workshop\n    const [state, dispacher] = useReducerAsync(DashStationReducer, initState, DashStationHandlers)\n    const { ui: dataUi, form: dataForm, vType, setPlugins } = useDataConfig(props)\n    const { ui: dashUi, form: dashForm, setPluginConfigs,setImagePreview } = useDashConfig(props)\n    const proxy = new ActionProxy()\n    const { applySaveRollbackDispacher,scriptContent ,applyToken} = state\n\n\n    const fetchDashPlugins = async () => {\n\n        const res = await proxy.get(RemoteAction.PLUGIN_LIST, {})\n        if (res.status !== 200) {\n            return\n        }\n        const dashPlugins = res.content.map(item => item.name)\n        setPlugins(dashPlugins)\n    }\n\n    const fetchPlugin = async () => {\n        if (vType) {\n            const res = await proxy.get(RemoteAction.PLUGIN_GET, { pluginName: vType })\n            const scriptContent = res.content.content\n            \n            const analyzedScriptContent = await proxy.runScript(scriptContent, Tools.getJobName(), { executeMode: \"analyze\" })\n            if (analyzedScriptContent.status !== 200) {\n                return\n            }\n            const pluginConfigs = analyzedScriptContent.content.filter(sql => {\n                return sql.mode && (sql.mode === \"defaultParam\")\n            })\n            dispacher({\n                type:\"setState\",\n                data:{scriptContent}\n            })\n            \n            setImagePreview(res.content.image)\n            setPluginConfigs(pluginConfigs)\n        }\n    }\n    useEffect(() => {\n        fetchPlugin()\n    }, [vType])\n\n    useEffect(() => {\n        fetchDashPlugins()\n    }, [])\n\n    const apply = async () => {\n        if (applySaveRollbackDispacher) {\n            const dataValues = dataForm.getFieldValue()\n            const dashValues = dashForm.getFieldValue()\n            \n            const tableName = dashValues.tableName || Tools.getTempTableName()\n            const sql = `\n             select ${Tools.getField(dataValues.xColumn)} as x,${Tools.getField(dataValues.yColumn)} as y \n             from ${workshop.getLastApplyTable().tableName} as ${tableName};\n             ${scriptContent}\n            `\n            await workshop.apply({tableName,sql})            \n            \n            applySaveRollbackDispacher({\n                type: \"setState\",\n                data: { loading: false }\n            })\n        }\n    }\n    useEffect(()=>{\n        apply()\n    }, [applyToken])\n\n    return (\n        <DashStationContext.Provider value={{ dispacher }}>\n            <ApplySaveRollback workshop={workshop} context={DashStationContext} />\n            <div className=\"dash-station\">\n                <div className=\"dash-station-data-page\">\n                    {dataUi()}\n                </div>\n                <Divider type=\"vertical\" style={{ height: \"300px\" }} />\n                <div className=\"dash-station-dash-page\">\n                    {dashUi()}\n                </div>\n            </div>\n        </DashStationContext.Provider>\n    )\n}\nexport { DashStation, DashStationContext }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Card, Select, Divider, Button } from 'antd';\n\nfunction useDataConfig(props) {\n    const workshop = props.parent.workshop\n    const fields = workshop.currentTable.schema.fields.map(item => item.name)\n    const [form] = Form.useForm()\n    const [vType, setVtype] = useState()\n    const [plugins, setPlugins] = useState([])\n\n    const columns = fields.map(item => {\n        return <Select.Option value={item}>{item}</Select.Option>\n    })\n\n\n    const onFieldsChange = useCallback((changeFields) => {\n        changeFields.forEach(item => {\n            if (item.name[0] === \"vType\") {\n                setVtype(item.value)\n            }\n        })\n    }, [])\n\n    const ui = () => {\n        return <Card title=\"Generic\">\n            <Form form={form} onFieldsChange={onFieldsChange}>\n                <Form.Item label=\"Visulizaiton Plugin\" name=\"vType\">\n                    <Select >\n                        {\n                            plugins.map(item => {\n                                return <Select.Option value={item}>{item}</Select.Option>\n                            })\n                        }\n                    </Select>\n                </Form.Item>\n\n                <Form.Item label=\"X Column\" name=\"xColumn\">\n                    <Select >\n                        {columns}\n                    </Select>\n                </Form.Item>\n\n                <Form.Item label=\"Y Column\" name=\"yColumn\">\n                    <Select >\n                        {columns}\n                    </Select>\n                </Form.Item>\n            </Form>\n        </Card>\n    }\n    return { ui, form, vType, setPlugins }\n}\nexport { useDataConfig }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Input,  Divider, Card } from 'antd';\nimport RetinaImage from 'react-retina-image'\nimport Tools from '../../../../common/Tools';\nimport '../../../image.scss'\n\n\nfunction useDashConfig(props) {\n    const [form] = Form.useForm()\n    const [pluginConfigs, setPluginConfigs] = useState([])\n    const [imagePreview, setImagePreview] = useState()\n    \n    const ui = () => {\n        return <Card title=\"Plugin Parameters\">\n            {imagePreview && <div className=\"image-wrapper\" style={{width:\"400px\"}}>\n                 <RetinaImage  src={imagePreview}/>\n            </div>}\n            <Form form={form}>\n                {pluginConfigs.map(item => {\n                    return <Form.Item key={item.key} name={item.key} label={item.option.label || item.key} initialValue={Tools.unQuote(item.command)}>\n                        <Input />\n                    </Form.Item>\n                })}\n            </Form>                        \n        </Card>\n    }\n    return { ui, form, setPluginConfigs, pluginConfigs,setImagePreview }\n}\nexport { useDashConfig }","import * as React from \"react\";\nimport mix from \"../../common/mixin\"\nimport \"./OperateStation.scss\"\nimport { Tabs, Radio } from 'antd';\nimport JoinStation from \"./join/JoinStation\";\nimport AggStation from \"./agg/AggStation\";\nimport ProjectStation from \"./project/ProjectStation\";\nimport FilterStation from \"./filter/FilterStation\";\nimport { OrderStation } from \"./order/OrderStation\";\nimport {LimitStation} from \"./limit/LimitStation\"\nimport { WindowStation } from \"./window/WindowStation\";\nimport { DashStation } from \"./dash/DashStation\";\nimport {FormattedMessage} from 'react-intl'\nconst { TabPane } = Tabs;\n\nexport default class OperateStation extends React.Component {\n    constructor(props) {\n        super(props)\n        this.workshop = props.parent\n        this.state = { key: Math.random() }\n    } \n\n    reload = ()=>{\n        this.setState({key:Math.random()})\n    }\n       \n    render() {\n        return <div className=\"os-pane\">\n            <div className=\"os-tabs\">\n                <Tabs defaultActiveKey=\"1\" tabPosition=\"left\" key={this.state.key}>                \n                <TabPane tab={<FormattedMessage id=\"project\"/>}  key={1} >\n                    <ProjectStation parent={this}></ProjectStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"filter\"/>}  key={2} >\n                    <FilterStation parent={this}></FilterStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"join\"/>}  key={3}>\n                    <JoinStation  parent={this}></JoinStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"agg\"/>} key={4} >\n                    <AggStation parent={this}></AggStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"order\"/>} key={5} >\n                    <OrderStation parent={this}></OrderStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"limit\"/>} key={6} >\n                    <LimitStation parent={this}></LimitStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"window\"/>} key={7} >\n                    <WindowStation parent={this}></WindowStation>\n                </TabPane>\n                <TabPane tab={<FormattedMessage id=\"dash\"/>} key={8} >\n                    <DashStation parent={this}></DashStation>\n                </TabPane>\n                </Tabs>\n                </div>\n            \n        </div>\n    }\n}","import EditorOp from \"../comp_op/EditorOp\"\nexport const WorkshopMessageOp = (superclass) => class extends superclass {\n    toggleMessage  = (msg)=>{\n        const showMessage = this.state.showMessage\n        if(showMessage){\n            this.setState({showMessage:!this.state.showMessage})        \n        }else {\n            this.setState({showMessage:!this.state.showMessage,consoleMessage:msg})        \n        }\n        \n    }\n\n    showInfo = (msg)=> {\n        this.setState({showInfoMessage:true,infoMessage:msg})\n    }\n}","import Tools from \"../../common/Tools\"\nexport const WorkshopUIOp = (superclass) => class extends superclass {\n    updateDisplay = async (data,schema) =>{\n        this.setState({tableLoading:true})\n        this.displayRef.update(data,schema.fields)\n        this.setState({tableLoading:false}) \n    }    \n\n    refreshOperateStation = ()=>{        \n        this.stationRef.setState({ key: Math.random() })\n    }\n\n    refreshTableWorkshop = ()=>{\n        this.leftTreePaneRef.setState({reloaWorkshop:Tools.getJobName()})\n    }\n    \n}","import * as React from \"react\";\nimport { Table, Input, Button, Space } from 'antd';\nimport Highlighter from 'react-highlight-words';\nimport { SearchOutlined } from '@ant-design/icons';\nimport Tools from \"../../../common/Tools\";\nexport const SearchOp = (superclass) => class extends superclass {\n    getColumnSearchProps = dataIndex => ({\n        filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n            <div style={{ padding: 8 }}>\n                <Input\n                    ref={node => {\n                        this.searchInput = node;\n                    }}\n                    placeholder={`Search ${dataIndex}`}\n                    value={selectedKeys[0]}\n                    onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n                    onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n                    style={{ width: 188, marginBottom: 8, display: 'block' }}\n                />\n                <Space>\n                    <Button\n                        type=\"primary\"\n                        onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n                        icon={<SearchOutlined />}\n                        size=\"small\"\n                        style={{ width: 90 }}\n                    >\n                        Search\n              </Button>\n                    <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n                        Reset\n              </Button>\n                </Space>\n            </div>\n        ),\n        filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\n        onFilter: (value, record) => true,\n        onFilterDropdownVisibleChange: visible => {\n            if (visible) {\n                setTimeout(() => this.searchInput.select());\n            }\n        },\n        render: text =>\n            this.state.searchedColumn === dataIndex ? (\n                <Highlighter\n                    highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n                    searchWords={[this.state.searchText]}\n                    autoEscape\n                    textToHighlight={text ? text.toString() : ''}\n                />\n            ) : (\n                    text\n                ),\n    });\n\n    handleSearch = async (selectedKeys, confirm, dataIndex) => {\n        const tableName = Tools.getTempTableName()\n        const searchText = selectedKeys[0]\n        const searchedColumn = Tools.getField(dataIndex)\n        const params = {\n            tableName,\n            sql: `select * from ${this.workshop.getLastApplyTable().tableName} \n            where ${searchedColumn} like '%${searchText}%' as ${tableName};`\n        }\n        confirm();\n        this.setState({\n            loading: true\n        })        \n        await this.workshop.apply(params)    \n        this.setState({\n            loading: false,\n            searchText: selectedKeys[0],\n            searchedColumn: dataIndex,\n        });\n    };\n\n    handleReset = clearFilters => {\n        clearFilters();\n        this.setState({ searchText: '' });\n    };\n}","import * as React from 'react';\nimport {Menu,Dropdown, Divider} from 'antd';\nimport {DownOutlined,BarChartOutlined} from '@ant-design/icons'\nimport Tools from '../../../common/Tools';\n\nexport const DropdownMenuUI = (superclass) => class extends superclass {\n    dropdownStat = async (type,columnName)=>{\n        this.setState({\n            loading: true\n        })\n        const tableName = Tools.getTempTableName()\n        switch(type){\n            case \"count\":                                 \n                await this.workshop.apply({\n                    tableName: tableName,\n                    sql: `select count(${Tools.getField(columnName)}) \n                    from ${this.workshop.getLastApplyTable().tableName}\n                    as ${tableName}\n                    ;`\n                })\n                this.setState({\n                    loading: false\n                }) \n                return\n                \n            case \"count(distinct)\":\n                await this.workshop.apply({\n                    tableName: tableName,\n                    sql: `select count(distinct ${Tools.getField(columnName)}) \n                    from ${this.workshop.getLastApplyTable().tableName}\n                    as ${tableName}\n                    ;`\n                })\n                this.setState({\n                    loading: false\n                }) \n                return\n\n        } \n        this.setState({\n            loading: false\n        })        \n\n     }\n     dropdown = (item)=>{\n        const menu = (\n            <Menu onClick={(evt)=>{\n                this.dropdownStat(evt.key,item.name)\n            }}>\n              <Menu.Item key=\"count\" icon={<BarChartOutlined />}>\n                Count\n              </Menu.Item>\n              <Menu.Item key=\"count(distinct)\" icon={<BarChartOutlined />}>\n                Count&distinct\n              </Menu.Item>              \n            </Menu>\n          );\n          return <Dropdown overlay={menu}>\n          <span>{item.name}<Divider type=\"vertical\"/><DownOutlined/></span>\n        </Dropdown>\n     }\n}","import * as React from \"react\";\nimport { Table, Modal } from 'antd';\nimport mix from \"../../common/mixin\";\nimport { SearchOp } from \"./real_time_view_table/SearchOp\";\nimport { DropdownMenuUI } from \"./real_time_view_table/DropdownMenuUI\";\nimport MLSQLHTML from \"../../components/dash/MLSQLHTML\";\n\n\nconst ReactMarkdown = require('react-markdown')\n\nexport default class RealTimeViewTable extends mix(React.Component).with(\n    SearchOp,\n    DropdownMenuUI\n) {\n    constructor(props) {\n        super(props)\n        this.tableStyle = props.style || {}\n        this.state = {\n            columns: [],\n            rows: [],\n            view: { enabled: false },\n            searchText: '',\n            searchedColumn: '',\n            loading: false,\n            isDash: false\n        }\n        this.config = {}\n        this.workshop = props.parent\n    }\n\n    getDefaultRender = item => {\n        const { name, type } = item\n\n        if ((typeof type) === \"object\") {\n            return (value, record) => {                \n                return JSON.stringify(value)\n            }\n        }\n\n        switch (type) {\n            case \"string\": return (value, record) => {\n                return value\n            }\n            default:\n                return (value, record) => { return value }\n\n        }\n    }\n\n    getDefaultSearch = item => {\n        const { name, type } = item\n        switch (type) {\n            case \"string\": return this.getColumnSearchProps(name)\n            case \"array\": return {}\n            case \"map\": return {}\n            default:\n                return {}\n        }\n    }\n\n    getDefaultTitleRender = item => {\n        return this.dropdown(item)\n    }\n\n    update = (rows, columns) => {\n        let isDash = false\n        if (columns[0] && columns[0].name === \"html\" && columns[1] && columns[1].name === \"dash\") {\n            isDash = true\n        }\n        const newColumns = columns.map(item => {\n            return {\n                ...item,\n                dataIndex: item.name,\n                title: this.getDefaultTitleRender(item),\n                render: this.getDefaultRender(item),\n                ...this.getDefaultSearch(item)\n            }\n        })\n\n        this.setState({ columns: newColumns, data: rows, isDash })\n    }\n\n    disablePreview = () => {\n        this.setState({\n            view: {\n                enabled: false\n            }\n        })\n    }\n\n    render() {\n        const self = this\n        if (this.state.isDash) {\n            return MLSQLHTML.render(this.state.data)\n        }\n        return (<div style={this.tableStyle}>\n            <Table\n                loading={this.state.loading}\n                size='default'\n                columns={this.state.columns}\n                dataSource={this.state.data}\n                scroll={{ x: true }}\n            />\n            <Modal\n                title={\"View\"}\n                visible={this.state.view.enabled}\n                onCancel={this.disablePreview}\n                onOk={this.disablePreview}\n                cancelText=\"Cancel\"\n                OkText=\"Ok\"\n            >\n                <ReactMarkdown source={this.state.view.content || \"\"} />\n            </Modal>\n        </div>\n        )\n    }\n\n}","import * as React from \"react\";\nimport { Modal, Result, Tabs, Divider } from \"antd\"\nimport './workshop.scss'\nimport LeftView from \"./leftview\";\nimport SpinBox from \"../SpinBox\"\nimport { WorkshopOp } from \"./WorkshopOp\";\nimport { WorkshopAutoSql } from \"./WorkshopAutoSql\";\nimport mix from \"../../common/mixin\"\nimport { ActionProxy } from \"../../backend_service/ActionProxy\";\nimport OperateStation from \"./OperateStation\";\nimport AceEditor from 'react-ace';\nimport { WorkshopMessageOp } from \"./WorkshopMessageOp\";\nimport { WorkshopUIOp } from \"./WorkshopUIOp\";\nimport { Resizable } from \"re-resizable\";\nimport RealTimeViewTable from \"./RealTimeViewTable\";\n\n\nclass AnalysisWorkshop extends mix(React.Component).\n    with(WorkshopOp,\n        WorkshopAutoSql,\n        WorkshopMessageOp,\n        WorkshopUIOp) {\n    static workshop = undefined\n    constructor(props) {\n        super(props)\n        this.client = new ActionProxy()\n        this.state = { tableLoading: false }\n        // {tableName:...  sql:...}\n        this.sqls = []\n        AnalysisWorkshop.workshop = this\n    }\n\n    componentDidMount() {\n        // for testing should remove\n        // this.newSession(\"delta\", \"public\", \"simpleData\", { header: \"true\" })\n    }\n\n    operateStationView() {\n        if (this.state.loadingTable) {\n            return <SpinBox></SpinBox>\n        }\n        if (this.sessionId) {\n            return <OperateStation ref={(et) => this.stationRef = et} parent={this}></OperateStation>\n        } else {\n            return <Result style={{ width: \"100%\" }}\n                title=\"No Aanalysis Session Is Opened\"\n                subTitle=\"Right click the table in the left panel(DeltaLake/FileSystem) to begin your analysis\"\n            />\n        }\n    }\n\n    render() {\n        return <div className=\"ws-app\">\n            <div className=\"ws-left-pane\">\n                <Resizable style={{ paddingRight: \"30px\", borderRight: \"solid\" }}>\n                    <LeftView ref={(et) => this.leftTreePaneRef = et} parent={this}></LeftView>\n                </Resizable>\n            </div>\n            <div className=\"ws-right-pane\">\n                <Modal\n                    title={\"Message\"}\n                    visible={this.state.showMessage || false}\n                    onCancel={this.toggleMessage}\n                    onOk={this.toggleMessage}\n                    cancelText=\"Cancel\"\n                    width=\"60%\"\n                    OkText=\"Ok\"\n\n                >\n                    <AceEditor\n                        height={\"300px\"}\n                        width={\"100%\"}\n                        mode=\"text\"\n                        theme=\"github\"\n                        name=\"detail_box\"\n                        value={this.state.consoleMessage || \"\"}\n                    ></AceEditor>\n                </Modal>\n                <Modal\n                    title={\"Message\"}\n                    visible={this.state.showInfoMessage || false}\n                    onCancel={() => { this.setState({ showInfoMessage: false }) }}\n                    onOk={() => { this.setState({ showInfoMessage: false }) }}\n                    cancelText=\"Cancel\"\n                    OkText=\"Ok\"\n                >\n                    {this.state.infoMessage}\n                </Modal>\n                <div className=\"ws-operate-pane\">\n                    {this.operateStationView()}\n                </div>\n                <Divider></Divider>\n                <div className=\"ws-table-pane\">\n                    <RealTimeViewTable style={{ width: \"90%\" }} ref={(et) => this.displayRef = et} parent={this} />\n                </div>\n            </div>\n        </div>\n    }\n}\nexport default AnalysisWorkshop","import ActionMaker from \"../../../ActionMaker\"\nimport { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../../backend_service/RemoteAction\"\n\nexport const { handler: LRActionHandler, action: LRAction } = ActionMaker.buildHandler(async (action) => {\n\n    const { enableRegister = false, enableLogin = false,enableConsole = false } = action.data\n    const client = new ActionProxy()\n    const res = await client.post(RemoteAction.APP_SAVE, {\n        login: enableLogin,\n        register: enableRegister,\n        console: enableConsole\n    })\n\n    if (res.status === 200) {\n        return {\n            data: {\n                applySuccess: true\n            }\n        }\n    }\n    return {\n        data: {\n            error: res.content\n        }\n    }\n\n})","import { AdminSetting } from \"../AdminSetting\";\nimport { LRActionHandler, LRAction } from \"./LRAction\";\nimport { SetStateActionHandler, SetStateAction } from \"./SetStateAction\";\n\nclass AdminSettingActionNames {\n    static LR_CONTROL = \"lrControl\"\n    static SET_STATE = \"setState\"\n}\nconst AdminSettingHandlers = {\n    [AdminSettingActionNames.LR_CONTROL]: LRActionHandler,\n    [AdminSettingActionNames.SET_STATE]: SetStateActionHandler\n}\n\nfunction AdminSettingReducer(state, action) {\n    switch (action.type) {\n        case AdminSettingActionNames.LR_CONTROL:            \n            return LRAction(state, action.data)\n        case AdminSettingActionNames.SET_STATE:\n            return SetStateAction(state, action.data)\n        default:\n            return state;\n    }\n}\nexport { AdminSettingActionNames, AdminSettingReducer, AdminSettingHandlers }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Steps, Spin, Switch, Alert, Form, Card, Button } from 'antd';\nimport { useReducerAsync } from 'use-reducer-async'\nimport UIMaker from '../../../UIMaker'\nimport { AdminSettingReducer, AdminSettingHandlers, AdminSettingActionNames } from '../actions/AdminSettingReducer';\nimport ActionMaker from '../../../ActionMaker';\nimport {ActionProxy} from '../../../../backend_service/ActionProxy'\nimport RemoteAction from '../../../../backend_service/RemoteAction';\nimport SpinBox from '../../../SpinBox';\n\nconst initState = {\n    enableLogin: false,\n    enableRegister: false,\n    enableConsole: false,\n    applySuccess: false,\n    error: undefined,\n    loading: true\n}\n\nconst LRSettingsContext = React.createContext()\n\nfunction LRSettings() {\n    const [state, dispacher] = useReducerAsync(AdminSettingReducer, initState, AdminSettingHandlers)\n    const { formItemLayout, tailLayout } = UIMaker.formLayout1()\n\n    const { enableLogin, enableRegister,\n        enableConsole,\n        applySuccess,error,loading} = state\n\n    async function getAppInfo() {        \n        const client = new ActionProxy()\n        const appInfo = await client.get(RemoteAction.APP_INFO, {})\n        if (appInfo.status === 200) {             \n            dispacher({\n                type: AdminSettingActionNames.SET_STATE,\n                data: {\n                    enableLogin: Boolean(appInfo.content.login),\n                    enableRegister: Boolean(appInfo.content.register),\n                    enableConsole: Boolean(appInfo.content.console),\n                    loading: false\n                }\n            })\n        }    \n    }\n\n    useEffect(()=>{\n        getAppInfo()\n    },[applySuccess,error])\n\n\n    return (\n        <LRSettingsContext.Provider value={{ dispacher }}>            \n            {applySuccess && <Alert\n                closable\n                message=\"Success\"\n                description=\"Apply Success\"\n                type=\"success\"\n                showIcon\n            />}\n            {error && <Alert\n                closable\n                message=\"Fail\"\n                description={error}\n                type=\"error\"\n                showIcon\n            />}\n            {                \n                loading && <SpinBox></SpinBox>\n            }\n            {!loading && <Card title=\"Control Website Register/Login\">\n                <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n                    dispacher(ActionMaker.buildEvent(AdminSettingActionNames.LR_CONTROL, values))\n                }}>\n                    <Form.Item\n                        label=\"Allow Register New User\"\n                        name=\"enableRegister\"\n                    >\n                        <Switch defaultChecked={enableRegister} checkedChildren=\"enable\" unCheckedChildren=\"shutdown\" />\n                    </Form.Item>\n\n                    <Form.Item\n                        label=\"Allow User Login\"\n                        name=\"enableLogin\"\n                    >\n                        <Switch defaultChecked={enableLogin} checkedChildren=\"enable\" unCheckedChildren=\"shutdown\" />\n                    </Form.Item>\n\n                    <Form.Item\n                        label=\"Enable Console(SQL)\"\n                        name=\"enableConsole\"\n                    >\n                        <Switch defaultChecked={enableConsole} checkedChildren=\"enable\" unCheckedChildren=\"shutdown\" />\n                    </Form.Item>\n\n                    <Form.Item {...tailLayout}>\n                        <Button type=\"primary\" htmlType=\"submit\">\n                            Apply\n        </Button>\n                    </Form.Item>\n                </Form>\n            </Card>}            \n        </LRSettingsContext.Provider>\n    )\n}\nexport { LRSettings, LRSettingsContext }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useDynamicList } from 'ahooks'\nimport { Form, Button, Input, Table } from 'antd';\nimport ReactDragListView from 'react-drag-listview';\nimport AlertBox from '../../AlertBox';\n\nfunction useCrudTable(props) {\n    const { renderConfig, createInitRow, submit: externalSubmit } = props\n    const [form] = Form.useForm()\n    const [schema, setSchema] = useState([])\n    const [data, setData] = useState([])\n    const [result, setResult] = useState({})\n    const [loading, setLoading] = useState(false)\n    const [editorMode, setEditorMode] = useState(false)\n    const [error,setError] = useState(undefined)\n\n    const { list, remove, getKey, move, push, sortForm, resetList } = useDynamicList(data);\n    const { getFieldsValue } = form;\n\n    useEffect(() => {\n        resetList(data)\n    }, [data])\n\n    const _columns = schema.filter(item => item !== \"id\").map(item => {\n        if (renderConfig && renderConfig[item]) return renderConfig[item]({ getKey })\n        return {\n            title: item,\n            dataIndex: item,\n            key: item,\n            render: (text, row, index) => (\n                <>\n                    <Form.Item name={`params[${getKey(index)}].${item}`} initialValue={text}>\n                        <Input\n                            style={{\n                                width: 120,\n                                marginRight: 16,\n                            }}\n                        />\n                    </Form.Item>\n                </>)\n\n        }\n    })\n    const columns = _columns.concat([{\n        key: 'operate',\n        title: '',\n        dataIndex: 'operate',\n        render: (text, row, index) => (\n\n            <>\n                <Form.Item name={`params[${getKey(index)}].operate`}>\n                    <Button.Group>\n                        <Button type=\"danger\" onClick={() => remove(index)}>\n                            Delete\n                    </Button>\n                    </Button.Group>\n                </Form.Item>\n\n            </>\n        ),\n    }])\n\n    const createRow = () => {\n        if (createInitRow) {\n            return createInitRow(columns)\n        }\n        const tempRow = {}\n        columns.map(item => {\n            tempRow[item] = \"\"\n        })\n        return tempRow\n    }\n\n    const submitNow = useCallback((values) => {\n        setResult(values)\n        var REG = /params\\[(\\d+)\\]\\.(\\D+)/;\n        const submit = async () => {\n            const params = []\n            Object.entries(values).map(([fieldName, fieldValue]) => {\n                const matchFF = REG.exec(fieldName)\n                const index = Number(matchFF[1])\n                const field = matchFF[2]\n                if (!params[index]) {\n                    params[index] = {}\n                }\n                if (fieldValue) {\n                    params[index][field] = fieldValue\n                }\n            })\n            if (externalSubmit) {\n                externalSubmit({ params, setLoading })\n            }\n        }\n        submit()\n    }, [setLoading])\n\n    const ui = () => {  \n        if(!editorMode){\n            const newColumns = columns.map(item=>{\n                item[\"render\"] = (text, row, index)=>{\n                    return <span>{text}</span>\n                }\n                return item\n            })\n            return <Table\n            columns={newColumns}\n            dataSource={data}            \n            pagination={false}\n        />\n        }      \n        return <>\n            <Form form={form}>\n                <ReactDragListView\n                    onDragEnd={(oldIndex, newIndex) => move(oldIndex, newIndex)}\n                    handleSelector={'i[aria-label=\"icon: drag\"]'}\n                >\n                    {error && <AlertBox message={error}/>}\n                    <Table\n                        columns={columns}\n                        dataSource={list}\n                        rowKey={(r, index) => getKey(index).toString()}\n                        pagination={false}\n                    />\n                </ReactDragListView>\n                <Button\n                    style={{\n                        marginTop: 8,\n                    }}\n                    block\n                    type=\"dashed\"\n                    onClick={() =>\n                        push(createRow())\n                    }\n                >\n                    + Add Row\n          </Button>\n                <Button\n                    type=\"primary\"\n                    style={{\n                        marginTop: 16,\n                    }}\n                    loading={loading}\n                    onClick={() => {\n                        submitNow(getFieldsValue())\n                    }}\n                >\n                    Submit\n          </Button>\n                {props.debug && <div\n                    style={{\n                        whiteSpace: 'pre',\n                    }}\n                >\n                    {result && `content: ${JSON.stringify(result, null, 2)}`}\n                </div>}\n            </Form>\n        </>\n    }\n    return { ui, data, schema, setData, setSchema, setLoading,setEditorMode ,setError}\n}\n\nexport { useCrudTable }","import React, { useState, useCallback, useEffect } from 'react';\nimport { useCrudTable } from '../../../analysis/common/CrudTable';\nimport { Select, Form, Button, Switch, Divider } from 'antd';\nimport { ActionProxy } from '../../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../../backend_service/RemoteAction';\nimport Tools from '../../../../common/Tools';\n\n\nfunction Engines(props) {\n\n    const [reload, setReload] = useState(undefined)\n    const proxy = new ActionProxy()\n    const { ui, setData, setSchema, setEditorMode ,setError} = useCrudTable({\n        submit: async ({ params, setLoading }) => {\n            setLoading(true)\n            setError(undefined)\n            for (let i = 0; i < params.length; i++) {\n                const res = await proxy.post(RemoteAction.ENGINE_ADD, params[i])\n                if(res.status !== 200){\n                    setLoading(false)\n                    setError(res.content)\n                    return\n                }\n            }\n            setReload(Tools.getJobName())\n            setLoading(false)\n        },\n        renderConfig: {\n            skipAuth: ({ getKey }) => {\n                return {\n                    title: \"skipAuth\",\n                    dataIndex: \"skipAuth\",\n                    key: \"skipAuth\",\n                    render: (text, row, index) => {\n                        let value = true\n                        if (text === 2) {\n                            value = false\n                        }\n                        return <>\n                            <Form.Item name={`params[${getKey(index)}].skipAuth`} initialValue={String(value)}>\n                                <Select>\n                                    <Select.Option value=\"true\">true</Select.Option>\n                                    <Select.Option value=\"false\">false</Select.Option>\n                                </Select>\n                            </Form.Item>\n                        </>\n                    }\n\n                }\n            }\n        }\n    })\n\n    useEffect(() => {\n        const fetch = async () => {\n            const res = await proxy.get(RemoteAction.ENGINE_LIST, {})\n            if (res.status === 200) {\n                setSchema(res.content.schema)\n                setData(res.content.data)\n            }\n        }\n        fetch()\n    }, [reload])\n\n    return <div className=\"common-margin\">\n        <Switch checkedChildren=\"Edit Mode\" unCheckedChildren=\"View Mode\" onChange={\n            (checked) => {\n                setEditorMode(checked)\n            }\n        } />\n        <Divider type=\"horizontal\" />\n        {ui()}\n    </div>\n}\n\nexport { Engines }\n","import React, { useState, useContext, useEffect, useCallback } from 'react';\nimport { Input, Form, Card, Button, Alert } from 'antd';\nimport { ActionProxy } from '../../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../../backend_service/RemoteAction';\n\n\n\nfunction ChangePassword() {\n    const [error, setError] = useState(undefined)\n    const [applySuccess, setApplySuccess] = useState(undefined)\n\n    const submit = useCallback(async (values) => {\n        const { password, newPassword, _newPassword } = values\n        if (newPassword !== _newPassword) {\n            setError(\"Two new passwords are not the same\")\n            return\n        }\n        const proxy = new ActionProxy()\n        const res = proxy.post(RemoteAction.USER_CHANGE_PASSWORD, values)\n        setApplySuccess(\"Update password successfully.\")\n    }, [])\n\n    return <Card className=\"common-child-center\">\n        {applySuccess && <Alert\n            closable\n            message=\"Success\"\n            description=\"Apply Success\"\n            type=\"success\"\n            showIcon\n        />}\n        {error && <Alert\n            closable\n            message=\"Fail\"\n            description={error}\n            type=\"error\"\n            showIcon\n        />}\n        <Form className=\"login-form\" onFinish={(values) => {\n            submit(values)\n        }}>\n\n            <Form.Item\n                label=\"Oringinal Password\"\n                name=\"password\"\n                rules={[\n                    {\n                        required: true,\n                        message: 'Please input your oringinal password!',\n                    },\n                ]}\n            >\n                <Input.Password />\n            </Form.Item>\n            <Form.Item\n                label=\"New Password\"\n                name=\"newPassword\"\n                rules={[\n                    {\n                        required: true,\n                        message: 'Please input your new password!',\n                    },\n                ]}\n            >\n                <Input.Password />\n            </Form.Item>\n            <Form.Item\n                label=\"New Password\"\n                name=\"_newPassword\"\n                rules={[\n                    {\n                        required: true,\n                        message: 'Please input your new password again!',\n                    },\n                ]}\n            >\n                <Input.Password />\n            </Form.Item>\n            <Form.Item >\n                <Button type=\"primary\" htmlType=\"submit\">\n                    Submit\n            </Button>\n            </Form.Item>\n        </Form>\n    </Card>\n}\n\nexport default ChangePassword","import React, { useState, useCallback, useEffect } from 'react';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AdminSettingReducer, AdminSettingHandlers } from './actions/AdminSettingReducer';\nimport { Menu } from 'antd';\nimport './AdminSetting.scss'\nimport { AppstoreOutlined, MailOutlined, SettingOutlined } from '@ant-design/icons';\nimport { LRSettings } from './pages/LRSettings';\nimport {Engines} from './pages/Engines'\nimport ChangePassword from './pages/ChangePassword';\n\nconst { SubMenu } = Menu;\n\n\nconst initState = {\n    currentPage: \"website-settings\"\n}\n\nconst AdminSettingContext = React.createContext()\n\nfunction AdminSetting() {\n    const [state, dispacher] = useReducerAsync(AdminSettingReducer, initState, AdminSettingHandlers)\n    const {currentPage} = state\n    return (\n        <AdminSettingContext.Provider value={{ dispacher }}>\n            <div className=\"app-admin\">\n                <div className=\"app-admin-side\">\n                    <Menu\n                        style={{ width: 256 }}\n                        defaultSelectedKeys={['website-settings']}\n                        defaultOpenKeys={['console-settings']}\n                        mode=\"inline\"\n                    >\n                        <SubMenu\n                            key=\"console-settings\"\n                            title={\n                                <span>\n                                    <MailOutlined />\n                                    <span>Console Settings</span>\n                                </span>\n                            }\n                        >\n                            <Menu.Item key=\"website-settings\" onClick={()=>{\n                                dispacher({\n                                    type:\"setState\",\n                                    data:{currentPage:\"website-settings\"}\n                                })\n                            }}>Website Settings</Menu.Item> \n                            <Menu.Item key=\"change-admin-password\" onClick={()=>{\n                                dispacher({\n                                    type:\"setState\",\n                                    data:{currentPage:\"change-admin-password\"}\n                                })\n                            }}>Change Password</Menu.Item>                             \n                        </SubMenu> \n                        <SubMenu\n                            key=\"engine-settings\"\n                            title={\n                                <span>\n                                    <MailOutlined />\n                                    <span>Engine Settings</span>\n                                </span>\n                            }\n                        >\n                            <Menu.Item onClick={()=>{\n                                dispacher({\n                                    type:\"setState\",\n                                    data:{currentPage:\"engines\"}\n                                })\n                            }} key=\"engines\">Engines</Menu.Item>                                                         \n                        </SubMenu>                                               \n                    </Menu>\n                </div>\n                <div className=\"app-admin-main\">\n                     {currentPage===\"website-settings\" && <LRSettings></LRSettings>}\n                     {currentPage===\"engines\" && <Engines></Engines>} \n                     {currentPage === \"change-admin-password\" && <ChangePassword></ChangePassword>}                    \n                </div>\n            </div>\n        </AdminSettingContext.Provider>\n    )\n}\nexport { AdminSetting, AdminSettingContext }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Form, Card, Button } from 'antd';\nimport AlertBox from '../../../AlertBox';\nimport { FormattedMessage } from 'react-intl';\n\n\nfunction useUserConfig(props) {\n    const [error, setError] = useState(undefined)\n    const [success, setSuccess] = useState(undefined)\n    const [current, setCurrent] = useState(undefined)\n    const [loading, setLoading] = useState(false)\n    const [form] = Form.useForm()\n    const getParams = () => {\n        return form.getFieldsValue()\n    }\n    const ui = ({ formItems, title, submit }) => (\n        <div className=\"common-margin common-child-center\">\n            <Card title={title} style={{ width: \"50%\" }}>\n                <Form form={form}>\n                    {error && <AlertBox message={<FormattedMessage id={error} />} />}\n                    {success && <AlertBox title={<FormattedMessage id=\"congratulation\"/>} type=\"success\" message={<FormattedMessage id={success} />} />}\n                    {formItems}\n                </Form>\n                <Form.Item>\n                    <Button type=\"primary\" loading={loading} onClick={\n                        submit\n                    }><FormattedMessage id=\"apply\" /></Button>\n                </Form.Item>\n            </Card>\n        </div>\n    )\n    return { ui, form, setError, setLoading, getParams,setCurrent,current,setSuccess}\n}\nexport { useUserConfig }","import React, { useState, useCallback, useEffect } from 'react';\nimport { EngineSelectComp } from '../../pages/EngineSelectComp';\nimport { Form, Card, Button } from 'antd';\nimport { ActionProxy } from '../../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../../backend_service/RemoteAction';\nimport UIMaker from '../../../UIMaker';\nimport { useUserConfig } from '../../../analysis/common/pages/useUserConfig';\nimport { FormattedMessage  } from 'react-intl'; \nimport Tools from '../../../../common/Tools';\n\n\nfunction DefaultBackend(props) {\n\n    const { ui, setError,setSuccess } = useUserConfig()\n    const [engine,setEngine] = useState(undefined)\n    const submit = async () => {\n        if(!engine){\n          setError(\"set_default_backend_error\")\n          return\n        }\n        const proxy = new ActionProxy()\n        const res = await proxy.post(RemoteAction.USER_EXTRA, { backend: engine })\n        if (res.status === 200) {\n            UIMaker.updateUser(res) \n            setSuccess(\"done\")           \n            return\n        }\n        setError(res.content)\n    }\n\n    return ui({\n        title: <FormattedMessage id=\"set_default_backend\"/>,\n        submit,\n        formItems: <>\n            <Form.Item label={<FormattedMessage id=\"curent_value\"/>}>\n                {UIMaker.extraOption()[\"backend\"] || \"Not Set Yet\"}\n            </Form.Item>\n            <Form.Item label={<FormattedMessage id=\"choose\"/>}>\n                <EngineSelectComp useEngine={(engine) => { setEngine(engine) }} />\n            </Form.Item></>\n    })\n}\nexport { DefaultBackend }","import React, { useState, useCallback, useEffect } from 'react';\nimport { EngineSelectComp } from '../../pages/EngineSelectComp';\nimport { Form, Card, Button } from 'antd';\nimport { ActionProxy } from '../../../../backend_service/ActionProxy';\nimport RemoteAction from '../../../../backend_service/RemoteAction';\nimport UIMaker from '../../../UIMaker';\nimport { useUserConfig } from '../../../analysis/common/pages/useUserConfig';\nimport { FormattedMessage  } from 'react-intl'; \nimport Tools from '../../../../common/Tools';\nimport { useIntegerStep } from '../../../analysis/common/pages/useIntegerStep';\n\n\nfunction ApplyTimeout(props) {\n\n    const { ui, setError,setSuccess } = useUserConfig()\n    const {ui:timeoutUi,value:timoutValue} = useIntegerStep({\n        initialValue:UIMaker.extraOption()[\"apply_timeout\"] || 10\n    })    \n    const submit = async () => {\n        if(!timoutValue){\n          setError(\"set_default_backend_error\")\n          return\n        }\n        const proxy = new ActionProxy()\n        const res = await proxy.post(RemoteAction.USER_EXTRA, { apply_timeout: timoutValue })\n        if (res.status === 200) {\n            UIMaker.updateUser(res) \n            setSuccess(\"done\")           \n            return\n        }\n        setError(res.content)\n    }\n\n    return ui({\n        title: <FormattedMessage id=\"set_apply_timeout\"/>,\n        submit,\n        formItems: <>\n            <Form.Item label={<FormattedMessage id=\"curent_value\"/>}>\n                {timoutValue}\n            </Form.Item>\n            <Form.Item label={<FormattedMessage id=\"choose\"/>}>\n                {timeoutUi()}\n            </Form.Item></>\n    })\n}\nexport { ApplyTimeout }","import React, { useState, useCallback, useEffect } from 'react';\nimport { Slider, InputNumber, Row, Col } from 'antd';\n\n\n\nfunction useIntegerStep(props) {\n    const [value,setValue] = useState(props.initialValue || 10)\n    const ui =  ()=>(\n        <Row>\n        <Col span={12}>\n          <Slider\n            min={10}\n            max={300}\n            onChange={(value)=>{setValue(value)}}\n            value={value}\n          />\n        </Col>\n        <Col span={4}>\n          <InputNumber\n            min={10}\n            max={300}\n            style={{ margin: '0 16px' }}\n            value={value}\n            onChange={(value)=>{setValue(value)}}\n          />\n        </Col>\n      </Row> \n    )\n    return {ui,value}\n}\nexport {useIntegerStep}","import React, { useState, useCallback, useEffect } from 'react';\nimport { Menu } from 'antd';\nimport '../AdminSetting.scss'\nimport {MailOutlined, SettingOutlined } from '@ant-design/icons';\nimport { DefaultBackend } from './DefaultBackend';\nimport { FormattedMessage  } from 'react-intl'; \nimport { ApplyTimeout } from './ApplyTimeout';\n\nconst { SubMenu } = Menu;\nfunction Settings() {\n    const [currentPage,setCurrentPage] = useState(\"default-backend\")\n    return (\n        <div className=\"app-admin\">\n                <div className=\"app-admin-side\">\n                    <Menu\n                        style={{ width: 256 }}\n                        defaultSelectedKeys={['default-backend']}\n                        defaultOpenKeys={['analysis-workshop']}\n                        mode=\"inline\"\n                    >\n                        <SubMenu\n                            key=\"analysis-workshop\"\n                            title={\n                                <span>\n                                    <MailOutlined />\n                                    <span><FormattedMessage id=\"analysis_workshop\"/></span>\n                                </span>\n                            }\n                        >\n                            <Menu.Item key=\"default-backend\" onClick={()=>{\n                               setCurrentPage(\"default-backend\") \n                            }}><FormattedMessage id=\"set_engine\"/></Menu.Item> \n                            <Menu.Item key=\"set-timeout\" onClick={()=>{\n                                setCurrentPage(\"set-timeout\")\n                            }}><FormattedMessage id=\"set_timeout\"/></Menu.Item>                            \n                        </SubMenu> \n                                                                       \n                    </Menu>\n                </div>\n                <div className=\"app-admin-main\">\n                     {currentPage===\"default-backend\" && <DefaultBackend/>}                     \n                     {currentPage===\"set-timeout\" && <ApplyTimeout/>}                     \n                </div>\n            </div>\n    )\n}\nexport {Settings}","import React, { useState, useCallback, useEffect } from 'react';\nimport { Alert } from 'antd'\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppConsoleReducer, AppConsoleHandlers, AppConsoleActionNames } from './actions/AppConsoleReducer';\nimport './AppConsole.scss'\nimport { ConsoleHeader } from './pages/ConsoleHeader';\nimport { Register } from './login_register/Register';\nimport { Login } from './login_register/Login';\nimport ActionMaker from '../ActionMaker';\nimport MLSQLQueryApp from '../../components/MLSQLQueryApp';\nimport AnalysisWorkshop from '../analysis/workshop';\nimport { AdminSetting } from './admin/AdminSetting';\nimport UIMaker from '../UIMaker';\nimport { Settings } from './admin/pages/Settings';\n\nconst initState = {\n    currentPage: \"login\",\n    logined: false\n}\n\nconst AppConsoleContext = React.createContext()\n\nfunction AppConsole(props) {\n    const {appInfo} = props\n    const [state, dispacher] = useReducerAsync(AppConsoleReducer, initState, AppConsoleHandlers)\n    const { currentPage, logined } = state\n\n    useEffect(() => {\n        dispacher(ActionMaker.buildEvent(AppConsoleActionNames.CHECK_LOGINED, {}))\n    }, [])\n\n    return (\n        <AppConsoleContext.Provider value={{ dispacher }}>            \n            <div className=\"app-console\">\n                <div className=\"app-console-header\">\n                    <ConsoleHeader appInfo={appInfo} userLogined={logined} isUserAdmin={UIMaker.isAdmin()} currentPage={currentPage}></ConsoleHeader>\n                </div>\n                <div className=\"app-console-main\">\n                    {currentPage === \"register\" && <Register></Register>}\n                    {currentPage !== \"register\" && !logined && <Login></Login>}\n                    {currentPage === \"console\" && logined && <MLSQLQueryApp></MLSQLQueryApp>}\n                    {currentPage === \"workshop\" && logined && <AnalysisWorkshop></AnalysisWorkshop>}\n                    {currentPage === \"admin\" && logined && UIMaker.isAdmin() && <AdminSetting></AdminSetting>}\n                    {currentPage === \"settings\" && logined && <Settings></Settings>}\n                </div>\n                <div className=\"app-console-footer\">\n                    <div style={{ bottom: \"100px\", textAlign: \"center\", width: \"100%\" }}>\n                        MLSQL Licensed under the Apache License, Version 2.0. @<a className=\"copyright\"\n                            href=\"http://www.miitbeian.gov.cn/\">ICP18052520</a>\n                        <div>@<a target=\"_blank\"\n                            href=\"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010802009683\"><img\n                                src=\"\" /> 33010802009683</a></div>\n\n                    </div>\n                </div>\n            </div>\n\n        </AppConsoleContext.Provider>\n    )\n}\nexport { AppConsole, AppConsoleContext }","import { ActionProxy } from \"../../../../backend_service/ActionProxy\"\nimport RemoteAction from \"../../../../backend_service/RemoteAction\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:AddEngineActionHandler,action:AddEngineAction} = ActionMaker.buildHandler(async (action)=>{\n    const client = new ActionProxy()\n    const { name, url } = action.data    \n    const res = await client.post(RemoteAction.ENGINE_ADD, { name, url })\n    if (res.status !== 200) {\n        return {            \n            data: {\n                error: JSON.parse(res.content).msg\n            }\n        }\n    }        \n    return {        \n        data: {\n            error: undefined,\n            current: action.__state.current + 1  \n        }\n    }    \n})\n","import { AppSetupEventConst } from \"./AppSetupReducer\"\nimport ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:SkipAddEngineActionHandler,action:SkipAddEngineAction} = ActionMaker.buildHandler(async (action) => {        \n    return {\n        data: {\n            error: undefined,\n            current: action.__state.current + 1            \n        }\n    }\n})","import { RegisterAction, RegisterActionHandler } from \"./RegisterAction\"\nimport { AddEngineActionHandler, AddEngineAction } from \"./AddEngineAction\"\nimport { SkipAddEngineActionHandler, SkipAddEngineAction } from \"./SkipAddEngineAction\"\n\nclass AppSetupActionNames {\n    static registerAdmin=\"registerAdmin\"\n    static addEngine = \"addEngine\"\n    static skipAddEngine = \"skipAddEngine\"\n\n}\nconst AppSetupReducerHandlers = {\n    [AppSetupActionNames.registerAdmin]: RegisterActionHandler,\n    [AppSetupActionNames.addEngine]: AddEngineActionHandler,\n    [AppSetupActionNames.skipAddEngine]: SkipAddEngineActionHandler\n}\n\nfunction AppSetupReducer(state, action) {\n    switch (action.type) {\n        case AppSetupActionNames.registerAdmin:\n            return RegisterAction(state, action.data)\n        case AppSetupActionNames.addEngine:\n            return AddEngineAction(state, action.data)\n        case AppSetupActionNames.skipAddEngine:\n            return SkipAddEngineAction(state, action.data)\n        default:\n            return state;\n    }\n}\n\nexport {\n    AppSetupActionNames,AppSetupReducerHandlers, AppSetupReducer\n}\n","import React, { useState, useContext, useEffect } from 'react';\nimport { Steps, Divider, PageHeader, Input, Form, Card, Button } from 'antd';\nimport { AppSetupContext } from '../app_setup';\nimport { AppSetupActionNames } from '../actions/app/AppSetupReducer';\nimport UIMaker from '../../UIMaker';\n\n\nfunction StepUserPassword() {\n\n    const { dispacher } = useContext(AppSetupContext)\n    const { formItemLayout, tailLayout } = UIMaker.formLayout1()\n\n    return <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n        dispacher({\n            type: AppSetupActionNames.registerAdmin,\n            data: values\n        })\n    }}>        \n\n        <Form.Item\n            label=\"Oringinal Password\"\n            name=\"password\"\n            rules={[\n                {\n                    required: true,\n                    message: 'Please input your oringinal password!',\n                },\n            ]}\n        >\n            <Input.Password />\n        </Form.Item>\n        <Form.Item\n            label=\"New Password\"\n            name=\"oldPassword\"\n            rules={[\n                {\n                    required: true,\n                    message: 'Please input your new password!',\n                },\n            ]}\n        >\n            <Input.Password />\n        </Form.Item>\n        <Form.Item\n            label=\"New Password\"\n            name=\"password\"\n            rules={[\n                {\n                    required: true,\n                    message: 'Please input your new password again!',\n                },\n            ]}\n        >\n            <Input.Password />\n        </Form.Item>\n        <Form.Item {...tailLayout}>\n            <Button type=\"primary\" htmlType=\"submit\">\n                Go\n        </Button>\n        </Form.Item>\n    </Form>\n}\n\nexport default StepUserPassword","import React, { useState, useContext, useEffect } from 'react';\nimport { Steps, Divider, PageHeader, Input, Form, Card, Button } from 'antd';\nimport { AppSetupContext } from '../app_setup';\nimport { AppSetupActionNames } from '../actions/app/AppSetupReducer';\nimport UIMaker from '../../UIMaker';\n\n\nfunction AddEngines() {\n\n    const { dispacher } = useContext(AppSetupContext)\n    const {formItemLayout,tailLayout} = UIMaker.formLayout1()\n    const requireField = { required: true,\n        message: 'required'}\n\n    return <Form {...formItemLayout} className=\"login-form\" onFinish={(values) => {\n        dispacher({\n            type: AppSetupActionNames.addEngine,\n            data: values\n        })\n    }}>\n        <Form.Item\n            label=\"Engine Name\"\n            name=\"name\"\n            rules={[requireField]}\n        >\n            <Input />\n        </Form.Item>\n\n        <Form.Item\n            label=\"Engine Url\"\n            name=\"url\"\n            rules={[requireField]}\n        >\n            <Input/>\n        </Form.Item>\n\n        <Form.Item {...tailLayout}>\n            <Button type=\"primary\" htmlType=\"submit\">\n                Go\n        </Button>\n        <Divider type=\"vertical\"></Divider>\n        <Button onClick={\n            (e)=>{\n              e.preventDefault()              \n              dispacher({\n                type: AppSetupActionNames.skipAddEngine,\n                data: {}\n            })\n            }\n        } htmlType=\"submit\">\n                Skip\n        </Button>\n        </Form.Item>\n    </Form>\n}\n\nexport default AddEngines","import { AppEventConst } from \"./AppReducer\"\nimport ActionMaker from \"../../ActionMaker\"\n\nexport const {handler: AppConfiguredActionHandler,action:AppConfiguredAction} = ActionMaker.buildHandler((action) => {\n    return { data: action.data }\n})\n\nexport  const {handler: GoAdminActionHandler,action: GoAdminAction} = ActionMaker.buildHandler((action) => {\n    return { data: {appConfigured: true}}\n})\n\nexport  const {handler:GoConsoleActionHandler,action: GoConsoleAction} = ActionMaker.buildHandler((action) => {\n    return { data: {appConfigured: true} }\n})\n\n","import { GoConsoleAction, GoAdminActionHandler, GoConsoleActionHandler, GoAdminAction, AppConfiguredAction,AppConfiguredActionHandler } from \"./go\"\n\nclass AppActionNames {\n    \n    static GO_CONSOLE = \"goConsole\"\n    static GO_ADMIN = \"goAdmin\"\n    static appConfigured = \"appConfigured\"\n}\n\nconst AppReducerHandlers = {\n    [AppActionNames.GO_ADMIN]: GoAdminActionHandler,\n    [AppActionNames.GO_CONSOLE]: GoConsoleActionHandler,\n    [AppActionNames.appConfigured]: AppConfiguredActionHandler,\n}\n\nfunction AppReducer(state, action) {    \n    switch (action.type) {\n        case AppActionNames.GO_ADMIN:\n            return GoAdminAction(state, action.data)\n        case AppActionNames.GO_CONSOLE:\n            return GoConsoleAction(state, action.data)\n        case AppActionNames.appConfigured:\n            return AppConfiguredAction(state, action.data)\n        default:\n            return state;\n    }\n}\n\nexport { AppActionNames, AppReducer, AppReducerHandlers }","import React, { useState, useContext, useEffect } from 'react';\nimport { Alert, Button, Form, Divider } from 'antd';\nimport UIMaker from '../../UIMaker';\nimport { AppContext } from '../../../App';\nimport { AppActionNames } from '../../app/actions/AppReducer';\n\n\nfunction Done() {\n\n    const { dispacher } = useContext(AppContext)    \n    const {formItemLayout,tailLayout} = UIMaker.formLayout1()\n    return <>\n        <Alert\n            message=\"Congratuation!\"\n            description=\"You have finished the setup of MLSQL Console.\"\n            type=\"success\"\n        />\n        <Divider></Divider>\n        <Form {...formItemLayout}>\n            <Form.Item {...tailLayout}>\n                <Button type=\"primary\" onClick={\n                    ()=>{                        \n                        dispacher({\n                            type: AppActionNames.GO_ADMIN,\n                            data: {}\n                        })\n                    }\n                }>Go to Admin Page</Button>\n                <Divider type=\"vertical\" />\n                <Button onClick={\n                    ()=>{\n                        dispacher({\n                            type: AppActionNames.GO_CONSOLE,\n                            data: {}\n                        })\n                    }\n                }>Go to Console Page</Button>\n            </Form.Item>\n\n        </Form>\n    </>\n}\n\nexport default Done","import React, { useState, useReducer, useEffect } from 'react';\nimport { AppSetupReducer, AppSetupReducerHandlers } from './actions/app/AppSetupReducer';\nimport { Steps, Divider, PageHeader, Alert, Form, Card, Button } from 'antd';\nimport styled from \"styled-components\"\nimport StepUserPassword from './pages/StepUserPassword';\nimport AddEngines from './pages/AddEngines'\nimport { useReducerAsync } from \"use-reducer-async\"\nimport Done from './pages/Done';\nconst { Step } = Steps;\n\nconst AppSetupContainer = styled.div`\ndisplay: flex;\nflex-direction: column;\nwidth:100%;\njustify-content:center;\n align-items:  center;\n`\nconst AppSetupHeader = styled.div`\n  width:100%;\n  margin-top:6px;\n`\n\nconst AppSetupBody = styled.div`\n width:100%;\n display:flex;\n max-width: 800px;\n flex-direction: column;\n`\nconst initState = {\n    error: undefined,\n    current: 0\n}\nconst AppSetupContext = React.createContext()\n\nfunction AppSetup() {\n\n    const [state, dispacher] = useReducerAsync(AppSetupReducer, initState, AppSetupReducerHandlers)\n\n    const { error, current } = state\n\n    return (\n        <AppSetupContext.Provider value={{ dispacher }}>\n            <AppSetupContainer>\n                <AppSetupHeader>\n                    <PageHeader title=\"Setup MLSQL Console in 2 Steps\"></PageHeader>\n                </AppSetupHeader>\n                <Divider></Divider>\n                <AppSetupBody>\n                    <Steps current={current}>\n                        <Step title=\"Admin User/Password\" description=\"Setup Admin accout\" />\n                        <Step title=\"Add Engines\" description=\"Add default MLSQL Engine\" />\n                        <Step title=\"Done\" description=\"Congratuation\" />\n                    </Steps>\n                    <Divider></Divider>\n                    {error && <Alert\n                        message=\"Message\"\n                        description={error}\n                        type=\"error\"\n                        closable\n                    />}\n                    {\n                        current === 0 && <Card>\n                            <StepUserPassword></StepUserPassword>\n                        </Card>\n                    }\n                    {\n                        current === 1 && <Card>\n                            <AddEngines></AddEngines>\n                        </Card>\n                    }\n                    {\n                        current === 2 && <Card>\n                            <Done></Done>\n                        </Card>\n                    }\n                </AppSetupBody>\n\n            </AppSetupContainer>\n        </AppSetupContext.Provider>\n    )\n}\nexport default AppSetup\nexport {\n    AppSetupContext\n}","const zh_CN = {    \n    login: \"\",\n    register: \"\",\n    console: \"\",\n    analysis_workshop: \"\",\n    settings: \"\",\n    admin: \"\",\n    more: \"\",\n    apply: \"\",\n    set_default_backend: \"Engine\",\n    set_default_backend_error: \"\",\n    set_engine: \"\",\n    curent_value: \"\",\n    choose: \"\",\n    done: \"\",\n    congratulation: \"\",\n    set_timeout: \"\",\n    set_apply_timeout: \"\",\n    table_workshop: \"\",\n    delta_lake: \"\",\n    file_system: \"\",\n    project: \"\",\n    filter: \"\",\n    join: \"\",\n    window: \"\",\n    dash: \"\",\n    limit: \"\",\n    agg: \"\",\n    order: \"\",\n    select_columns: \"\",\n    rename_columns: \"\",\n    transform_columns: \"\",\n    cast_columns_type: \"\",\n    hive: \"\",\n    \n}\nexport default zh_CN;","const en_US = {\n    login: \"Login\",\n    register: \"Register\",\n    console: \"Console\",\n    analysis_workshop: \"Analysis Workshop\",\n    settings: \"Settings\",\n    admin: \"Admin\",\n    more: \"More\",\n    apply: \"Apply\",\n    set_default_backend: \"Set Default Backend\",\n    set_default_backend_error: \"Please select at least one engine\",\n    set_engine: \"Set Engine\",\n    curent_value: \"Current Value\",\n    choose: \"Choose\",\n    done: \"Done\",\n    congratulation: \"Congratulation\",\n    set_timeout: \"Set Timout\",\n    set_apply_timeout: \"Set  [Apply] TimeoutUnit: Second\",\n    table_workshop: \"Table Workshop\",\n    delta_lake: \"DeltaLake\",\n    file_system: \"FileSystem\",\n    project: \"Project\",\n    filter: \"Filter\",\n    join: \"Join\",\n    order: \"Order\",\n    window: \"Window\",\n    dash: \"Dash\",\n    agg: \"Agg\",\n    limit: \"Limit\",\n    select_columns: \"Select Columns\",\n    rename_columns: \"Rename Columns\",\n    transform_columns: \"Transform Columns\",\n    cast_columns_type: \"Cast Column Type\",\n    hive: \"Hive\"\n}\nexport default en_US","import React, { useState, useCallback, useEffect } from 'react';\nimport './App.scss';\nimport { AppConsole, AppConsoleContext } from './v1/app_console/AppConsole'\nimport { ActionProxy } from './backend_service/ActionProxy';\nimport RemoteAction from './backend_service/RemoteAction';\nimport AppSetup from './v1/app_setup/app_setup';\nimport { useReducerAsync } from 'use-reducer-async'\nimport { AppReducer, AppReducerHandlers, AppActionNames } from './v1/app/actions/AppReducer';\nimport SpinBox from './v1/SpinBox';\nimport { ConfigProvider } from 'antd';\nimport {IntlProvider} from \"react-intl\"\nimport zh_CN from './locale/zh_CN';\nimport en_US from './locale/en_US';\nimport AntZhCN from 'antd/lib/locale-provider/zh_CN';\n\nconst initState = {\n    appConfigured: false,\n    loading: true,\n    lang: \"zh\",\n    enableConsole: false\n}\nconst AppContext = React.createContext()\nfunction App() {\n    const [state, dispacher] = useReducerAsync(AppReducer, initState, AppReducerHandlers)\n    const { appConfigured, loading,lang,enableConsole } = state\n\n    async function getAppInfo() {\n        const client = new ActionProxy()\n        const appInfo = await client.get(RemoteAction.APP_INFO, {})\n        if (appInfo.status === 200) {\n            dispacher({\n                type: AppActionNames.appConfigured,\n                data: { \n                    appConfigured: appInfo.content.configured, \n                    enableConsole: appInfo.content.console || false, \n                    loading: false }\n            })\n        }\n\n    }\n\n    useEffect(() => {\n        getAppInfo()\n    }, [])\n\n    return (\n        <IntlProvider locale={lang} messages={zh_CN}>\n        <ConfigProvider locale={AntZhCN}>\n            <AppContext.Provider value={{ dispacher }}>                \n                {loading && <SpinBox />}\n                {!loading && !appConfigured && <AppSetup />}\n                {!loading && appConfigured && <AppConsole appInfo={{enableConsole}}/>}\n            </AppContext.Provider>\n        </ConfigProvider>\n        </IntlProvider>\n\n    )\n}\nexport default App\nexport { AppContext }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport \"antd/dist/antd.css\";\nimport './mlsql.scss';\nimport './index.scss';\n\nimport * as serviceWorker from './serviceWorker';\nimport App from \"./App\";\n\nReactDOM.render(\n    <App/>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","class ActionMaker {\n    static buildHandler(eventCallBack) {\n        return {\n            handler: ({ dispatch, getState, signal }) => {\n                const dispacher = dispatch\n                return async (action) => {\n                    const data = await eventCallBack({ ...action, __state: getState() })\n                    dispacher({\n                        type: action.type,\n                        ...data\n                    })\n                }\n            },\n            action: (state, data) => {\n                return { ...state, ...data }\n            }\n        }\n    }\n\n    static buildEvent(name, params) {\n        return {\n            type: name,\n            data: params\n        }\n    }\n}\n\nexport default ActionMaker","export default class RemoteAction {\n    static RUN = \"/api_v1/run/script\"\n    static USER_NAME = \"/api_v1/user/userName\"\n    static JOB_LIST = \"/api_v1/job/list\"\n    static JOB_DETAIL = \"/api_v1/job\"\n    static JOB_KILL = \"/api_v1/job/kill\"\n\n    static SAVE_SCRIPT_FILE = \"/api_v1/script_file\"\n\n    static ANALYSIS_TABLES = \"/api_v1/analysis/tables\"\n    static ANALYSIS_TABLE_INFO = \"/api_v1/analysis/table/get\"\n    static ANALYSIS_SAVE = \"/api_v1/analysis/tables/save\"\n    static ANALYSIS_TABLE_DELETE = \"/api_v1/analysis/table/delete\"\n\n    static APP_INFO = \"/api_v1/app\"\n    static APP_SAVE = \"/api_v1/app/save\"\n\n    static REGISTER = \"/api_v1/user/register\"\n    static LOGIN = \"/api_v1/user/login\"\n    static LOGOUT = \"/api_v1/user/logout\"\n\n    static ENGINE_ADD = \"/api_v1/engine/add\"\n    static ENGINE_LIST = \"/api_v1/engine/list\"\n\n    static SCRIPT_FILE_LIST = \"/api_v1/script_file\"\n\n    static SCRIPT_FILE_GET = \"/api_v1/script_file/get\"\n\n    static SCRIPT_FILE_REMOVE = \"/api_v1/script_file/remove\"\n\n    static PLUGIN_LIST = \"/api_v1/plugin/list\"\n    static PLUGIN_GET = \"/api_v1/plugin/get\"\n\n    static USER_EXTRA = \"/api_v1/user/extra/update\"\n    static USER_CHANGE_PASSWORD = \"/api_v1/changepassword\"\n\n    static APPLY_GET = \"/api_v1/analysis/apply\"\n    \n\n\n}","export class LangKey{\n    static firstName = \"firstName\"   \n}\nexport class GlobalParamNames {\n    static USER_NAME = \"userName\"\n    static USER_ID = \"userId\"\n    static ADMIN_TOKEN = \"admin_token\"\n    static LOGIN_TOKEN = \"access-token\"\n}","import { BACKEND_URL, AccessToken } from './RestConst'\nimport { GlobalParamNames } from '../Dicts'\n\nexport class RestResponse {\n    constructor(status, content,response) {\n        this.status = status\n        this.content = content\n        this.resp = response\n    }\n}\n\nexport class Backend {\n\n    constructor(url, fetch_config = {}) {\n        this.url = url\n        if (!this.url) {\n            this.url = BACKEND_URL\n        }\n        this.fetch_config = fetch_config\n    }\n\n    async request(action, params, method = \"GET\") {\n        method = method.toUpperCase();\n        const userName = sessionStorage.getItem(GlobalParamNames.USER_NAME)\n        //const loginToken = sessionStorage.getItem(GlobalParamNames.LOGIN_TOKEN)\n        if (userName) {\n            params[GlobalParamNames.USER_NAME] = userName\n        }\n\n        // if (loginToken) {\n        //     params[GlobalParamNames.LOGIN_TOKEN] = loginToken\n        // }\n\n        let formBody = [];\n        for (let property in params) {\n            let encodedKey = encodeURIComponent(property);\n            let encodedValue = encodeURIComponent(params[property]);\n            formBody.push(encodedKey + \"=\" + encodedValue);\n        }\n        let newurl = this.url + action\n\n        if (formBody.length > 0) {\n            newurl = newurl + \"?\"\n        }\n\n        if (method === \"GET\") {\n            newurl = newurl + formBody.join(\"&\")\n            formBody = undefined\n        } else {\n            formBody = formBody.join(\"&\")\n        }\n\n        const basic_config = {\n            method: method,\n            timeout: 1000 * 60 * 60 * 24,\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded',\n                'Accept': 'application/json',\n                'Access-Token': sessionStorage.getItem(AccessToken) || ''\n            },\n            body: formBody\n        }\n\n        const final_config = { ...basic_config, ...this.fetch_config }\n\n        try {            \n            const response = await fetch(newurl, final_config);\n            if (!response.ok) {\n                const error = await response.text()\n                return new RestResponse(response.status, error);\n            }\n            const json = await response.json();\n            return new RestResponse(200, json,response);\n        } catch (err) {\n            return new RestResponse(500, err,undefined);\n        }\n    }\n}\n","import { RestResponse, Backend } from './backend/Backend'\nimport RemoteAction from './RemoteAction'\nimport { Method, Status } from './backend/RestConst'\n\n\nexport class ActionProxy {\n  static client = new ActionProxy()\n  constructor() {\n    this.backend = new Backend()\n  }\n\n  async userName() {\n    const res = await this.get(RemoteAction.USER_NAME, {})\n    return res\n  }\n\n  async runScript(sql, jobName, params) {\n    const res = await this.userName()\n    if (res.status !== 200) {\n      return res\n    }\n    const { userName, backendTags } = res.content\n\n    const finalParams = {\n      sql: sql,\n      owner: userName,\n      jobName: jobName,\n      sessionPerUser: true,\n      show_stack: true,\n      skipAuth: false,\n      tags: backendTags || \"\"\n    }\n    Object.assign(finalParams, params)\n    const temp = await this.post(RemoteAction.RUN, finalParams)\n    return temp\n  }\n\n  /**\n   * \n   * @param {string} action \n   * @param {{}} params \n   * @return {RestResponse}\n   */\n  async get(action, params) {\n    const res = await this.backend.request(action, params, Method.GET)\n    return res\n  }\n\n  /**\n   * \n   * @param {string} action \n   * @param {{}} params \n   * @returns {RestResponse}\n   */\n  async post(action, params) {\n    const res = await this.backend.request(action, params, Method.POST)\n    return res\n  }\n}\n\n","import ActionMaker from \"../../../ActionMaker\"\n\nexport const {handler:SetStateActionHandler,action:SetStateAction} = ActionMaker.buildHandler(async (action)=>{\n    return {        \n        data: {\n            ...action.data  \n        }\n    }\n})","export const BACKEND_SERVER = \"\";\nexport const BACKEND_URL = BACKEND_SERVER;\n\n\nexport class Method{\n    static GET = \"get\"\n    static POST = \"post\"\n    static PUT = \"put\"\n    static DELETE  = \"delete\"    \n}\n\nexport const Status = {\n    Success: 200,\n    BadRequest: 400,\n    Unauthorized: 401,\n    Forbidden: 404,\n    ServerError: 500\n}\n\nexport const AccessToken = {\n    name: \"access-token\"\n}\n\n"],"sourceRoot":""}